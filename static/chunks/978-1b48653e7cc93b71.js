"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[978],{17018:function(e,t,n){n.d(t,{J:function(){return a},u:function(){return i}}),n(13461),n(69829),n(8477);var r=n(76710),i="_1fdeie9pq8 _1fdeie9qn4 _1fdeie9qyo _1fdeie9o80 _1fdeie9868 _1fdeie9g _1fdeie9t68 _1fdeie96n4 _1fdeie969c _1fdeie9d1s _1fdeie985c _1fdeie9vio _1fdeie9vwh",a=(0,r.u)({defaultClassName:"_1fdeie9pq8 _1fdeie9qn4 _1fdeie9qyo _1fdeie9o80 _1fdeie9868 _1fdeie9g _1fdeie9t68 _1fdeie96n4 _1fdeie969c _1fdeie9d1s _1fdeie985c _1fdeie9vio _1fdeie9vwh _1fdeie9ds _1fdeie9274 _1fdeie951c",variantClassNames:{light:{true:"_1fdeie9e8"},inverted:{true:"_1fdeie91eo _1fdeie95tc"},clickable:{true:"_1fdeie9vwx _1fdeie9ups _1fdeie9ds _1fdeie9df"}},defaultVariants:{},compoundVariants:[[{light:!0,clickable:!0},"_1fdeie9e8 _1fdeie9gj"]]})},49085:function(e,t,n){var r=n(85893),i=n(67294),a=n(22635),l=n(52228),o=n(84582),s=n(26138),d=n(98061),u=n(48585),c=n(85551),m=n(41429),p=n(48780);let h=e=>{let{address:t,addressTemplate:n,trimmed:h,message:f,dark:v,title:y="Address copied",trimCount:x=12,showRecipient:g,children:b,legacy:j}=e,{data:w=[]}=(0,p.SwJ)(),Z=(0,i.useMemo)(()=>{let e=w.reduce((e,t)=>(t.blockchainAddress&&(e[t.blockchainAddress.canonicalAddress]=t.name),e),{}),n=h?(0,u.Z)(t,x>=12,x):t,i=null==e?void 0:e[t];return g&&i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("b",{children:i}),"\xa0(",n,")"]}):n},[t,w,g,x,h]),A=(0,i.useCallback)(()=>{if(!n)return;let e=n.replace("{address}",t).replace("{transaction}",t);(0,d.Z)(e,!0)},[t,n]),C=(0,r.jsxs)(a.Z,{color:f?"primary60":"inherit",justify:f?"space-between":"flex-start",gap:"xs",children:[(0,r.jsx)(l.Z,{variant:f?"bodyMedium":void 0,children:Z}),j&&(0,r.jsx)(m.Z,{inverted:!0,textTransform:"uppercase",marginX:"xs",children:"Legacy"}),(0,r.jsxs)(a.Z,{gap:"xs",color:v?"white":"inherit",children:[(0,r.jsx)(c.Z,{string:t,toastCopy:{title:y,message:"Copied ".concat((0,u.Z)(t)," to clipboard.")}}),n&&(0,r.jsx)(o.Z,{onClick:A,children:(0,r.jsx)(s.mb,{})})]})]});return f?(0,r.jsxs)(a.Z,{direction:"vertical",backgroundColor:v?"primary91":f?"neutral40":"rowHover",borderRadius:"medium",padding:"md",gap:"sm",children:[(0,r.jsx)(l.Z,{variant:"titleSmall",children:f}),C,b]}):C};t.Z=h},114:function(e,t,n){var r=n(85893),i=n(67294),a=n(22635);t.Z=function(e){let{icon:t,color:n,backgroundColor:l="primary90",borderColor:o="transparent",abbreviation:s,text:d,size:u="32px"}=e,c=(0,i.useMemo)(()=>(0,r.jsx)(r.Fragment,{children:t||s||(d?d.split(" ").length>1?d.split(" ").slice(0,2).map(e=>e.charAt(0).toUpperCase()).join(""):d.substring(0,2).toUpperCase():"")}),[t,s,d]);return(0,r.jsx)(a.Z,{direction:"vertical",justify:"center",align:"center",minHeight:u,minWidth:u,width:u,height:u,color:n,backgroundColor:l,borderColor:o,fontSize:"large",borderWidth:"1px",borderStyle:"solid",borderRadius:"medium",children:c})}},85551:function(e,t,n){var r=n(85893),i=n(67294),a=n(26614),l=n(84582),o=n(26138),s=n(2357);let d=e=>{let{string:t,toastCopy:n}=e,{display:d}=(0,s.Z)(),u=(0,i.useCallback)(e=>{e.stopPropagation(),t&&((0,a.Z)(t),d({title:n.title,message:n.message}))},[t,d,n]);return(0,r.jsx)(l.Z,{onClick:u,children:(0,r.jsx)(o.TI,{})})};t.Z=d},915:function(e,t,n){var r=n(85893),i=n(70928),a=n(54778),l=n(93931),o=n(99346);let s=e=>{let{items:t,onSubmit:n,buttonText:s="Continue",fullWidth:d}=e;return(0,r.jsxs)(i.ZP,{onSubmit:n,display:"flex",flexDirection:"column",gap:"md",children:[(0,r.jsx)(o.Z,{items:t}),(0,r.jsx)(a.Z,{size:"xs"}),(0,r.jsx)(l.Z,{primaryButtonText:s,fullWidth:d})]})};t.Z=s},99346:function(e,t,n){var r=n(85893),i=n(67294),a=n(22635),l=n(33014),o=n(52228);let s=e=>{let{items:t}=e;return(0,r.jsx)(a.Z,{direction:"vertical",gap:"md",children:t.map((e,t)=>{let{headline:n,content:s,icon:d}=e;return(0,r.jsxs)(i.Fragment,{children:[0!==t&&(0,r.jsx)(l.Z,{faint:!0}),(0,r.jsxs)(a.Z,{gap:"md",alignItems:"flex-start",children:[(0,r.jsx)(a.Z,{flexShrink:0,width:"40px",height:"40px",borderRadius:"full",borderWidth:"2px",borderColor:"white",alignItems:"center",justifyContent:"center",children:d}),(0,r.jsxs)(a.Z,{direction:"vertical",children:[(0,r.jsx)(o.Z,{variant:"titleMedium",children:n}),(0,r.jsx)(o.Z,{variant:"bodyMedium",color:"whiteA050",children:s})]})]})]},t)})})};t.Z=s},16442:function(e,t,n){var r=n(85893),i=n(79356),a=n(68455),l=n(22635),o=n(52228);t.Z=function(e){let{items:t,count:n=t.length,overlap:s,size:d,type:u=a.T.Asset}=e,c=t.slice(0,n),m=t.length-n;return(0,r.jsx)(i.Z,{children:t.length>0?(0,r.jsxs)(l.Z,{gap:s?"0":"xs",children:[c.map((e,t)=>(0,r.jsx)(i.Z,{borderColor:"white",marginLeft:t>0&&s?"-8px":"0",borderWidth:s?"2px":"0",borderRadius:"full",zIndex:"10",children:(0,r.jsx)(a.Z,{item:e,type:u,size:d})},"".concat(e).concat(t))),m>0&&(0,r.jsxs)(o.Z,{marginLeft:"4px",color:"textDetail",children:["+",m]})]}):(0,r.jsx)(i.Z,{width:"24px",height:"24px",backgroundColor:"primary10",borderColor:"white",borderWidth:"1px",borderRadius:"full"})})}},43979:function(e,t,n){var r=n(85893),i=n(67294),a=n(48780),l=n(41537),o=n(70928),s=n(69697),d=n(45740),u=n(81524),c=n(93931),m=n(52228),p=n(18106),h=n(22635);let f=e=>{let{isNUX:t,isFinalNUXStep:n,onSubmit:f}=e,[v,y]=(0,i.useState)(""),{data:x}=(0,a.Smy)(),{openModal:g,ModalType:b}=(0,l.Z)(),{data:j}=(0,a.waZ)(),{data:w}=(0,a.m7G)((null==j?void 0:j.id)||""),Z=(0,i.useMemo)(()=>null==w?void 0:w.defaultNetworkCurrency,[w]),A=(0,i.useCallback)(async e=>{let{wrappedUserShard:t,signedMessage:n,extraData:r}=e,i=await (0,a.o1m)({name:null==r?void 0:r.name,networkID:(null==Z?void 0:Z.network.id)||"",endorsement:{verdict:"APPROVE",userShard:t,signedMessage:n}});f&&f(i)},[f,Z]),C=(0,i.useCallback)(async e=>{let{name:t}=e,{encryptedUserShard:n,disposablePublicKey:r,iv:i}=await (0,a.R8Y)();if(!n||!r||!i){y("Failed to generate address for new account. Please delete the account and try again.");return}let l=(null==Z?void 0:Z.network.id)||"",o={organization_id:null==x?void 0:x.organizationID,address_sub_id:"0",network_id:l};g(b.VerifyPIN,{payload:o,userShard:n,wrappingPublicKey:r,wrappingIV:i,onComplete:A,extraData:{name:t,networkID:l}})},[y,g,A,x,b,Z]);return t?(0,r.jsxs)(s.Z,{step:d.Ne.AccountSetupFresh,onSubmit:C,isFinalStep:n,children:[(0,r.jsx)(u.Z,{inverted:!0,required:!0,name:"name",label:"Name",placeholder:"Treasury"}),(0,r.jsxs)(h.Z,{gap:"xxs",color:"textDetailInverted",children:[(0,r.jsx)(p.Z,{size:"22px"}),(0,r.jsx)(m.Z,{children:"To securely add an account, you'll be prompted for your PIN and passkey."})]})]}):(0,r.jsxs)(o.ZP,{onSubmit:C,distribute:!0,error:v,defaultServerError:"Failed to generate address for new account. Please delete the account and try again.",children:[(0,r.jsx)(u.Z,{inverted:!0,required:!0,name:"name",label:"Name",placeholder:"Treasury"}),(0,r.jsx)(c.Z,{primaryButtonText:t?"Next":"Create account"})]})};t.Z=f},69697:function(e,t,n){var r=n(85893),i=n(67294),a=n(52228),l=n(45740),o=n(70928),s=n(22635),d=n(28717);let u=e=>{let{children:t,onSubmit:n,onSkip:u,step:c,isFinalStep:m}=e,{title:p,subtitle:h}=(0,i.useMemo)(()=>l.XD[c],[c]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.Z,{as:"h2",variant:"titleLarge",marginBottom:"xxs",children:p}),(0,r.jsx)(a.Z,{variant:"bodyLarge",color:"primary20",marginBottom:"lg",children:h}),(0,r.jsxs)(o.ZP,{onSubmit:n,children:[(0,r.jsx)(s.Z,{direction:"vertical",gap:"lg",borderRadius:"large",padding:"24px",borderStyle:"solid",marginBottom:"md",borderWidth:"1px",borderColor:"primary70",children:t}),(0,r.jsx)(s.Z,{justify:"flex-end",children:(0,r.jsxs)(s.Z,{gap:"lg",children:[u&&(0,r.jsx)(d.Z,{color:"light",onClick:()=>u(),children:"Skip"}),(0,r.jsx)(o.k4,{inverted:!0,children:m?"Finish":"Next"})]})})]})]})};t.Z=u},45740:function(e,t,n){n.d(t,{Ne:function(){return i},XD:function(){return d}});var r,i,a=n(85893),l=n(22635),o=n(52228),s=n(26138);(r=i||(i={}))[r.AccountSetupFresh=0]="AccountSetupFresh",r[r.AccountSetup=1]="AccountSetup",r[r.FirstDeposit=2]="FirstDeposit",r[r.InviteAdmins=3]="InviteAdmins",r[r.NUXComplete=4]="NUXComplete";let d={[i.AccountSetupFresh]:{title:"Set up your first account",subtitle:"Create your initial Dakota account.",Icon:s.Vp},[i.AccountSetup]:{title:"Set up your accounts",subtitle:"Name and organize your accounts.",Icon:s.Vp},[i.FirstDeposit]:{title:"Make your first deposit",subtitle:"Start earning rewards today.",Icon:s.fI},[i.InviteAdmins]:{title:"Invite your first admin",subtitle:"Get your team up and running.",Icon:s.pO},[i.NUXComplete]:{title:"Setup complete",subtitle:"Visit your dashboard to get started.",Icon:s.nQ}},u=e=>{let{steps:t,activeStep:n,onGoToStep:r}=e;return(0,a.jsxs)(l.Z,{direction:"vertical",color:"white",gap:"md",children:[(0,a.jsx)(o.Z,{as:"h2",variant:"headlineLarge",marginBottom:"24px",children:"Get Started"}),t.map(e=>{let{title:i,subtitle:u,Icon:c}=d[e],m=t.indexOf(n)>t.indexOf(e);return(0,a.jsxs)(l.Z,{borderStyle:"solid",borderWidth:"1px",borderRadius:"large",cursor:m?"pointer":void 0,onClick:m?()=>r(e):void 0,borderColor:{hover:m?"white":void 0,base:n===e?"white":"transparent"},width:"440px",padding:"20px",backgroundColor:"whiteA010",justify:"space-between",children:[(0,a.jsxs)(l.Z,{gap:"12px",children:[(0,a.jsx)(l.Z,{justify:"center",align:"center",borderRadius:"medium",borderColor:"white",borderWidth:"1px",borderStyle:"solid",height:"40px",width:"40px",backgroundColor:n===e?"white":"transparent",children:(0,a.jsx)(c,{size:"24px",color:n===e?"primary90":"white"})}),(0,a.jsxs)(l.Z,{gap:"xxs",direction:"vertical",children:[(0,a.jsx)(o.Z,{children:i}),(0,a.jsx)(o.Z,{color:"textDetailInverted",children:u})]})]}),m&&(0,a.jsx)(l.Z,{justify:"center",borderRadius:"full",height:"24px",width:"24px",backgroundColor:"white",children:(0,a.jsx)(s.nQ,{size:"20px",color:"primary100"})})]},e)})]})};t.ZP=u},14355:function(e,t,n){var r=n(85893),i=n(22635),a=n(52228);let l=e=>{let{name:t,address:n,...l}=e,o=(null==n?void 0:n.split(","))||[];return(0,r.jsxs)(i.Z,{direction:"vertical",...l,children:[(0,r.jsx)(a.Z,{children:t}),(0,r.jsx)(a.Z,{children:o[0]}),(0,r.jsx)(a.Z,{children:o[1]}),(0,r.jsx)(a.Z,{children:"".concat(o[2],", ").concat(o[3])})]})};t.Z=l},68692:function(e,t,n){var r=n(85893),i=n(67294),a=n(52228),l=n(79356),o=n(43074),s=n(85551),d=n(40134),u=n(84582),c=n(26138),m=n(22635);let p=e=>{let{variant:t="dark",inverted:n=!1,label:p,masked:h,value:f,valueToCopy:v,forSettings:y,...x}=e,[g,b]=(0,i.useState)(h),j=(0,i.useMemo)(()=>g&&f?(0,d.Z)(f.toString()):f,[g,f]);return(0,r.jsxs)(l.Z,{...x,children:[p&&(0,r.jsx)(a.Z,{as:"label",variant:"labelForm",marginBottom:"8px",display:"flex",alignItems:"center",color:n?"white":void 0,children:p}),(0,r.jsxs)(l.Z,{position:"relative",children:[(0,r.jsx)(m.Z,{alignItems:"center",className:o.qH(y?{}:{marketing:!1,inverted:n}),paddingX:y?"lg":void 0,children:j}),(0,r.jsxs)(m.Z,{className:o.uA(),gap:"xs",color:"dark"===t?"white":"primary50",right:y?"lg":void 0,marginRight:y?"2px":void 0,children:[h&&(0,r.jsx)(u.Z,{onClick:()=>b(!g),children:g?(0,r.jsx)(c.hs,{}):(0,r.jsx)(c.LA,{})}),(0,r.jsx)(s.Z,{string:(null==v?void 0:v.toString())||(null==f?void 0:f.toString()),toastCopy:{title:"Copied to clipboard",message:"Copied ".concat(j," to clipboard.")}})]})]})]})};t.Z=p},93931:function(e,t,n){var r=n(85893),i=n(77594),a=n(22635),l=n(52228),o=n(70928);let s=e=>{let{primaryButtonText:t="Done",secondaryButtonText:n="Back",secondaryOnClick:s,tertiaryButtonText:d,tertiaryOnClick:u,disabled:c,loading:m,fullWidth:p,fineprint:h}=e;return(0,r.jsxs)(a.Z,{flexDirection:p?"column-reverse":"row",justify:"flex-end",gap:"sm",children:[h&&(0,r.jsx)(l.Z,{justifySelf:"flex-start",width:"full",color:"textDetail",children:h}),s&&(0,r.jsx)(i.Z,{width:p?"full":"auto",variant:"secondaryInverted",onClick:s,children:n}),u&&(0,r.jsx)(i.Z,{width:p?"full":"auto",variant:"tertiary",onClick:u,children:d}),(0,r.jsx)(o.k4,{inverted:!0,fullWidth:p,loading:m,disabled:c,children:t})]})};t.Z=s},52573:function(e,t,n){n.d(t,{h:function(){return c},Z:function(){return p}});var r=n(85893),i=n(67294),a=n(59093),l=n(22635),o=n(70928);n(13461),n(69829),n(8477);var s=(0,n(76710).u)({defaultClassName:"_1fdeie9jow _1fdeie9gy8 _1fdeie9hv4 _1fdeie9is0 _1fdeie9ri8 _1fdeie9ork _1fdeie9pog _1fdeie9qlc _1fdeie9d4w _1fdeie9m8w _1fdeie9v74 _1fdeie9n5s _1fdeie96m8 _1fdeie969c _1fdeie96bk _1fdeie9t34 _1fdeie9t1c",variantClassNames:{dark:{true:"_1fdeie99s _1fdeie95tc _1fdeie9w7c _1fdeie91hs",false:"_1fdeie910w _1fdeie9vyl _1fdeie92ds"}},defaultVariants:{},compoundVariants:[]}),d=n(37842),u=n(54778);let c=4,m=e=>{let{dark:t=!1,onChange:n,onComplete:m=()=>{},leftAligned:p,error:h}=e,[f,v]=(0,i.useState)(""),[y,x]=(0,i.useState)(!1),g=(0,i.useRef)(null);(0,i.useEffect)(()=>{var e;null===(e=g.current)||void 0===e||e[0].focus()},[]);let b=(0,i.useCallback)(e=>{v(e),n&&n(e)},[v,n]);return(0,r.jsxs)(o.gN,{name:"pin",children:[(0,r.jsxs)(l.Z,{gap:"16px",children:[(0,r.jsx)(a.ZP,{ref:g,type:y?"text":"password",className:s({dark:t}),inputMode:"numeric",length:c,onChange:b,onComplete:m,validate:"0123456789",style:{paddingTop:y?"2px":"0",paddingBottom:y?"2px":"4px"}}),(0,r.jsx)(o.oT,{type:"hidden",value:f})]}),(0,r.jsx)(u.Z,{size:"md"}),(0,r.jsx)(l.Z,{justify:p?"flex-start":"center",children:(0,r.jsx)(d.Z,{color:t?"light":"default",onClick:()=>x(!y),fontSize:"medium",children:y?"Hide PIN":"Show PIN"})}),h&&(0,r.jsx)(o.Xq,{children:h})]})};var p=m},44359:function(e,t,n){n.d(t,{Z:function(){return w}});var r=n(85893),i=n(67294),a=n(48780),l=n(46923),o=n(95059),s=n(26138),d=n(10782),u=n(64627),c=n(52228),m=n(70928),p=n(22635),h=n(30280),f=n.n(h),v=n(86010);let y=(0,i.forwardRef)((e,t)=>{let{className:n,itemName:i,inverted:a,suffix:l,icon:s,...u}=e;return(0,r.jsx)(o.ck,{className:(0,v.Z)(d.wc({inverted:a,size:"large"}),n),...u,ref:t,children:(0,r.jsx)(o.eT,{children:(0,r.jsxs)(p.Z,{gap:"md",children:[s,(0,r.jsxs)(p.Z,{direction:"vertical",children:[(0,r.jsx)(c.Z,{children:i}),(0,r.jsx)(c.Z,{color:"textDetail",children:l})]})]})})})}),x=e=>{let{initialItem:t,inverted:n=!1,items:a,disabled:l,fixed:h,label:v,description:x,name:g,onChange:b,onClear:j,placeholder:w,required:Z}=e,[A,C]=(0,i.useState)(),S=(0,i.useCallback)(e=>{if(b){let t=a.find(t=>t.id===e);t&&b(t)}},[a,b]);return(0,i.useEffect)(()=>{1!==a.length||l?(C(void 0),j&&j()):(C(a[0].id),S(a[0].id))},[a,l]),(0,r.jsx)(m.gN,{name:g,asChild:!0,children:(0,r.jsxs)(p.Z,{direction:"vertical",width:"full",children:[v&&(0,r.jsx)(u.Z,{color:n?"white":void 0,children:v}),x&&(0,r.jsx)(c.Z,{variant:"bodyMedium",color:"primary30",marginTop:"-4px",marginBottom:"md",children:x}),(0,r.jsx)(m.oT,{asChild:!0,style:{flex:"1 1 auto"},disabled:l||0===a.length,children:(0,r.jsxs)(o.fC,{required:Z,defaultValue:null==t?void 0:t.id,value:A||void 0,onValueChange:S,open:!h&&void 0,children:[(0,r.jsxs)(o.xz,{className:d.X$({size:"large",fixed:!!h,inverted:!!n}),"aria-label":v,children:[(0,r.jsx)(o.B4,{placeholder:w},A),!h&&(0,r.jsx)(o.JO,{className:d.wT({inverted:n}),children:(0,r.jsx)(s.v4,{width:"24px"})})]},g),(0,r.jsx)(o.h_,{style:{zIndex:10},children:(0,r.jsxs)(o.VY,{style:{width:"100%"},className:d.kQ({inverted:n})+" "+f().variable,children:[(0,r.jsx)(o.u_,{className:d.wT({inverted:n}),children:(0,r.jsx)(s.g8,{})}),(0,r.jsx)(o.l_,{className:d.Pj,children:(0,r.jsx)(o.ZA,{children:a.map(e=>{let{name:t,id:i,detail:a,disabled:l,icon:o}=e;return(0,r.jsx)(y,{value:i,itemName:t,disabled:l,inverted:n,icon:o,suffix:a},i)})})}),(0,r.jsx)(o.$G,{className:d.wT({inverted:n}),children:(0,r.jsx)(s.v4,{})})]})})]})},a.map(e=>e.id).join(","))]})})};var g=n(9920),b=n(68455);let j=e=>{let{label:t="Account",name:n="accountID",accountIDs:o,initialItem:s,noInitialItem:d,setFirstItemAsInitial:u,currencySymbol:c,onChange:m,onClear:p}=e,h=(0,l.Z)(),{data:f=[]}=(0,a.Eo7)(),{data:v=[]}=(0,a.kf3)(),y=(0,i.useCallback)(e=>{var t,n,r;if(!c)return(null===(r=f.find(t=>t.accountID===e))||void 0===r?void 0:r.amountInUSD)||"0";{let r=null!==(n=null===(t=f.find(t=>t.accountID===e))||void 0===t?void 0:t.networkBalances.reduce((e,t)=>e+t.balances.reduce((e,t)=>{var n;return(null===(n=t.amount)||void 0===n?void 0:n.currency.symbol)===c?e+parseInt(t.amount.value):e},0),0))&&void 0!==n?n:0;return r.toString()}},[f,c]),j=(0,i.useMemo)(()=>v.filter(e=>!o||(null==o?void 0:o.has(e.id))).map(e=>{let{id:t,name:n}=e;return{id:t,name:n,detail:(0,g.Z)(y(t)),icon:(0,r.jsx)(b.Z,{inverted:!0,item:"usd",size:"40px"})}}),[v,o,y]),w=(0,i.useMemo)(()=>{if(!d){if(s)return s;if(h)return v.find(e=>e.id===h);if(u)return v[0]}},[h,v,s,d,u]);return(0,i.useEffect)(()=>{w&&m&&m(w)},[w,m]),(0,r.jsx)(x,{required:!0,inverted:!0,autofill:!0,name:n,label:t,placeholder:"Choose an account",items:j,initialItem:w,onChange:m,onClear:p})};var w=j},20920:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(85893);n(67294);var i=n(60761),a=n(70928);n(13461),n(69829),n(8477),n(91545);var l=n(76710),o=(0,l.u)({defaultClassName:"_1fdeie9v28 _1fdeie9d00 _1fdeie985s _1fdeie96n4 _1fdeie9rmo _1fdeie9vw9 _1fdeie9wc0 wkovfr9",variantClassNames:{inverted:{true:"_1fdeie98w",false:"_1fdeie910w"}},defaultVariants:{},compoundVariants:[]}),s=(0,l.u)({defaultClassName:"_1fdeie9d0w _1fdeie9v4w _1fdeie969c _1fdeie96bk _1fdeie96n4 _1fdeie9vww _1fdeie9vwx",variantClassNames:{inverted:{true:"_1fdeie9c0 _1fdeie91io wkovfr2",false:"_1fdeie9cw _1fdeie91jk wkovfr4"}},defaultVariants:{},compoundVariants:[]});let d=e=>{let{checked:t,defaultChecked:n,onChange:l,id:d,name:u,inverted:c=!1,...m}=e;return(0,r.jsx)(a.gN,{name:u,asChild:!0,children:(0,r.jsx)(i.fC,{checked:t,onCheckedChange:l,className:s({inverted:c}),defaultChecked:n,id:d||u,...m,children:(0,r.jsx)(i.bU,{className:o({inverted:c})})})})};var u=d},96311:function(e,t,n){var r=n(85893),i=n(22635),a=n(33014),l=n(79356),o=n(52228);let s=e=>{let{icon:t,message:n,children:s,marginBottom:d="lg"}=e;return(0,r.jsxs)(i.Z,{direction:"vertical",borderRadius:"large",borderColor:"primary70",borderWidth:"1px",marginBottom:d,children:[t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Z,{alignSelf:"center",paddingY:"md",children:t}),(0,r.jsx)(a.Z,{faint:!0})]}),n&&(0,r.jsx)(o.Z,{variant:"bodyLarge",padding:"lg",children:n}),s&&(0,r.jsx)(l.Z,{padding:"lg",children:s})]})};t.Z=s},40978:function(e,t,n){n.d(t,{Z:function(){return j}});var r=n(85893),i=n(32510),a=n(79356),l=n(41537),o=n(2357),s=n(66908),d=n(526),u=n(85945),c=n(30584),m=n(5292),p=n.n(m),h=n(30280),f=n.n(h);n(13461),n(31894);var v=n(72395),y=n(42046),x=n(79282);v.Wf.interceptors.request.use(e=>(e.baseURL=x._,e.headers={...e.headers,...(0,y.Z)(),"Content-Type":"application/json",Accept:"application/json"},e));let g=new d.S,b=e=>{let{children:t}=e;return(0,r.jsx)(a.Z,{height:"full",width:"full",display:"flex",backgroundColor:"background",id:"page-wrapper",className:p().variable+" "+f().variable,children:(0,r.jsx)(c.di,{stytch:c.dP,children:(0,r.jsx)(u.aH,{client:g,children:(0,r.jsx)(i.Ho,{children:(0,r.jsx)(s.zt,{delayDuration:500,skipDelayDuration:200,children:(0,r.jsx)(o.V,{children:(0,r.jsx)(l.D,{children:t})})})})})})})};var j=b},41429:function(e,t,n){var r=n(85893),i=n(26138),a=n(79356),l=n(17018);let o=e=>{let{children:t,clickable:n,light:o,withClose:s,inverted:d,...u}=e;return(0,r.jsxs)(a.Z,{className:l.J({clickable:n,light:o,inverted:d}),...u,children:[t,s&&(0,r.jsx)(a.Z,{marginLeft:"8px",marginBottom:"-6px",children:(0,r.jsx)(i.aM,{})})]})};t.Z=o},40610:function(e,t,n){n.d(t,{xv:function(){return l}});var r=n(85893),i=n(79356);n(64756);let a=e=>{let{...t}=e;return(0,r.jsx)(i.Z,{className:"_1awld2a1",borderRadius:"medium",...t})},l=e=>{let{flex:t,width:n}=e;return(0,r.jsx)(a,{height:"20px",flex:t,width:n})}},39949:function(e,t,n){var r=n(85893),i=n(22635),a=n(52228);let l=e=>{let{available:t,value:n,inverted:l,suffix:o="",small:s,...d}=e,u="$"===n.slice(0,1);return(0,r.jsxs)(i.Z,{align:"flex-end",alignSelf:s?"flex-end":void 0,alignItems:"flex-end",...d,children:[(0,r.jsxs)(i.Z,{align:"flex-start",alignItems:"flex-start",children:[u&&!s&&(0,r.jsx)(a.Z,{variant:s?"displaySmall":"display",style:{fontSize:"16px"},color:l?"white":"inherit",marginTop:"xs",marginRight:"4px",children:n.slice(0,1)}),(0,r.jsx)(a.Z,{variant:s?"displaySmall":"display",color:t?"success50":"inherit",style:{fontWeight:s?"normal":void 0},children:u&&!s?n.slice(1):n})]}),o&&(0,r.jsx)(a.Z,{fontSize:"medium",color:"textDetail",marginBottom:"4px",marginLeft:"xs",children:o})]})};t.Z=l},68753:function(e,t,n){var r=n(85893),i=n(35141),a=n(11373),l=n(67294),o=n(22635),s=n(79356),d=n(84582);let u=e=>{let{items:t}=e,n=(0,r.jsx)(s.Z,{display:"flex",justifyContent:"center",children:(0,r.jsx)(d.Z,{children:(0,r.jsx)(i.Z,{size:"24px"})})}),u=(0,l.useMemo)(()=>(0,r.jsx)(o.Z,{direction:"vertical",backgroundColor:"white",borderRadius:"medium",paddingY:"xs",children:t.map((e,t)=>(0,r.jsx)(s.Z,{minWidth:"100px",paddingX:"sm",paddingY:"xs",marginX:"xs",backgroundColor:{hover:"rowHoverDark"},cursor:"pointer",borderRadius:"medium",onClick:e.onClick,children:e.label},t))}),[t]);return(0,r.jsx)(a.Z,{trigger:n,content:u,align:"end"})};t.Z=u},11373:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(85893),i=n(67294),a=n(86419),l=n(66908);n(13461),n(69829),n(8477),n(90045);var o=(0,n(76710).u)({defaultClassName:"_1fdeie9rmo _1fdeie9500 _1fdeie9w77",variantClassNames:{triggerWidth:{true:"_1bvjdtg1"}},defaultVariants:{},compoundVariants:[]}),s=n(30280),d=n.n(s);let u=e=>{let{align:t="center",side:n="bottom",onOpenClose:s,content:u,hover:c,trigger:m,triggerWidth:p}=e,h=(0,i.useCallback)(e=>{s&&s(e)},[s]);return c?(0,r.jsxs)(l.fC,{onOpenChange:h,children:[(0,r.jsx)(l.xz,{asChild:!0,children:m}),(0,r.jsx)(l.h_,{children:(0,r.jsx)(l.VY,{side:n,className:o({triggerWidth:p})+" "+d().variable,sideOffset:5,align:t,children:u})})]}):(0,r.jsxs)(a.fC,{onOpenChange:h,children:[(0,r.jsx)(a.xz,{asChild:!0,children:m}),(0,r.jsx)(a.h_,{children:(0,r.jsx)(a.VY,{className:o({triggerWidth:p})+" "+d().variable,sideOffset:5,align:t,side:n,children:u})})]})};var c=u},28224:function(e,t,n){var r=n(85893),i=n(67294),a=n(79356);let l=e=>{let{children:t,open:n,...l}=e,o=(0,i.useRef)(null),[s,d]=(0,i.useState)("0px");return(0,i.useEffect)(()=>{o.current&&d(n?"".concat(o.current.scrollHeight,"px"):"0px")},[n]),(0,r.jsx)(a.Z,{transitionDuration:"300",transitionProperty:"all",transitionTimingFunction:"inOut",overflow:"hidden",ref:o,...l,style:{height:s},children:t})};t.Z=l},79282:function(e,t,n){n.d(t,{_:function(){return r}});let r="/dkpi/v1"},48780:function(e,t,n){n.d(t,{$Z7:function(){return ec},$o4:function(){return tM},$wb:function(){return eu},AJc:function(){return n3},BMK:function(){return nH},Bh_:function(){return tU},CDR:function(){return tR},CMm:function(){return re},Csg:function(){return nF},Cyd:function(){return nB},DH3:function(){return O},Dx1:function(){return rl},E2U:function(){return rv},EYj:function(){return t1},Eo7:function(){return eE},FAP:function(){return nV},FU4:function(){return t2},H_G:function(){return tP},Hd4:function(){return eU},IDo:function(){return t9},Ilo:function(){return eY},Iu4:function(){return to},Jh8:function(){return ns},KzV:function(){return en},MNv:function(){return et},Mgx:function(){return e0},MzS:function(){return S},NIy:function(){return ny},NS7:function(){return y},Nmy:function(){return nU},Nqq:function(){return M},O3h:function(){return nq},Ok4:function(){return p},Q36:function(){return W},R8Y:function(){return z},SPC:function(){return tI},Smy:function(){return Y},SwJ:function(){return ra},T31:function(){return tO},TlA:function(){return ee},V8D:function(){return j},VZ1:function(){return nf},Vv_:function(){return nD},WfF:function(){return tq},Wrw:function(){return tw},Y16:function(){return tn},Y87:function(){return nx},YMp:function(){return tS},Yi1:function(){return d},Ynv:function(){return rs},Yti:function(){return no},Yxw:function(){return E},_57:function(){return ro},_DB:function(){return ef},_NA:function(){return ex},aH2:function(){return nX},aYe:function(){return t_},b_B:function(){return nl},bc0:function(){return R},by0:function(){return nt},cAy:function(){return rt},cbT:function(){return nN},coM:function(){return tk},cqH:function(){return J},ctQ:function(){return nA},d3x:function(){return ng},eXZ:function(){return rm},eqh:function(){return tY},gM6:function(){return ew},h8f:function(){return F},hKK:function(){return nv},hm0:function(){return X},hxv:function(){return tW},i$P:function(){return tB},i2_:function(){return B},i4Y:function(){return tu},iAe:function(){return tN},j1I:function(){return e$},jIf:function(){return el},jru:function(){return tx},kf3:function(){return eS},l0u:function(){return th},l62:function(){return nm},loN:function(){return nK},lrr:function(){return tD},m7G:function(){return C},meu:function(){return Q},ndD:function(){return na},nwx:function(){return np},o1m:function(){return ek},oHQ:function(){return tE},oND:function(){return _},oT5:function(){return tl},oWn:function(){return nP},oh0:function(){return tT},onn:function(){return U},p6P:function(){return ev},pNm:function(){return tF},pZr:function(){return n_},q4V:function(){return t5},r4W:function(){return T},sGo:function(){return eR},sMP:function(){return eW},si7:function(){return n9},slJ:function(){return nI},tlu:function(){return e6},tmw:function(){return eT},uhj:function(){return eB},ul4:function(){return e8},vFL:function(){return nh},wZl:function(){return tJ},waZ:function(){return s},y$c:function(){return t$},y3E:function(){return ey},z5m:function(){return nb}});var r=n(77837),i=n(72395);let a=(e,t)=>(0,i.Y9)({url:"/organization",method:"get",signal:t},e),l=()=>["/organization"],o=e=>{var t;let{query:n,request:r}=null!=e?e:{},i=null!==(t=null==n?void 0:n.queryKey)&&void 0!==t?t:l(),o=e=>{let{signal:t}=e;return a(r,t)};return{queryKey:i,queryFn:o,retry:3,...n}},s=e=>{let t=o(e),n=(0,r.a)(t);return n.queryKey=t.queryKey,n},d=(e,t,n)=>(0,i.Y9)({url:"/organization",method:"post",headers:{"Content-Type":"application/json"},data:e,params:t},n),u=(e,t)=>(0,i.Y9)({url:"/organization/balances",method:"get",signal:t},e),c=()=>["/organization/balances"],m=e=>{var t;let{query:n,request:r}=null!=e?e:{},i=null!==(t=null==n?void 0:n.queryKey)&&void 0!==t?t:c(),a=e=>{let{signal:t}=e;return u(r,t)};return{queryKey:i,queryFn:a,retry:3,...n}},p=e=>{let t=m(e),n=(0,r.a)(t);return n.queryKey=t.queryKey,n},h=(e,t)=>(0,i.Y9)({url:"/organization/keys",method:"get",signal:t},e),f=()=>["/organization/keys"],v=e=>{var t;let{query:n,request:r}=null!=e?e:{},i=null!==(t=null==n?void 0:n.queryKey)&&void 0!==t?t:f(),a=e=>{let{signal:t}=e;return h(r,t)};return{queryKey:i,queryFn:a,retry:3,...n}},y=e=>{let t=v(e),n=(0,r.a)(t);return n.queryKey=t.queryKey,n},x=(e,t,n)=>(0,i.Y9)({url:"/organization/".concat(e,"/history"),method:"get",signal:n},t),g=e=>["/organization/".concat(e,"/history")],b=(e,t)=>{var n;let{query:r,request:i}=null!=t?t:{},a=null!==(n=null==r?void 0:r.queryKey)&&void 0!==n?n:g(e),l=t=>{let{signal:n}=t;return x(e,i,n)};return{queryKey:a,queryFn:l,enabled:!!e,retry:3,...r}},j=(e,t)=>{let n=b(e,t),i=(0,r.a)(n);return i.queryKey=n.queryKey,i},w=(e,t,n)=>(0,i.Y9)({url:"/organization/".concat(e,"/settings"),method:"get",signal:n},t),Z=e=>["/organization/".concat(e,"/settings")],A=(e,t)=>{var n;let{query:r,request:i}=null!=t?t:{},a=null!==(n=null==r?void 0:r.queryKey)&&void 0!==n?n:Z(e),l=t=>{let{signal:n}=t;return w(e,i,n)};return{queryKey:a,queryFn:l,enabled:!!e,retry:3,...r}},C=(e,t)=>{let n=A(e,t),i=(0,r.a)(n);return i.queryKey=n.queryKey,i},S=(e,t,n)=>(0,i.Y9)({url:"/organization/".concat(e,"/settings"),method:"post",headers:{"Content-Type":"application/json"},data:t},n),k=(e,t)=>(0,i.Y9)({url:"/organization/backup",method:"get",signal:t},e),I=()=>["/organization/backup"],D=e=>{var t;let{query:n,request:r}=null!=e?e:{},i=null!==(t=null==n?void 0:n.queryKey)&&void 0!==t?t:I(),a=e=>{let{signal:t}=e;return k(r,t)};return{queryKey:i,queryFn:a,retry:3,...n}},_=e=>{let t=D(e),n=(0,r.a)(t);return n.queryKey=t.queryKey,n},E=(e,t)=>(0,i.Y9)({url:"/organization/backup/download",method:"get",signal:t},e),R=(e,t)=>(0,i.Y9)({url:"/organization/bridge/accept-tos",method:"post",params:e},t),T=(e,t)=>(0,i.Y9)({url:"/users",method:"post",headers:{"Content-Type":"application/json"},data:e},t),N=(e,t)=>(0,i.Y9)({url:"/users",method:"get",signal:t},e),P=()=>["/users"],q=e=>{var t;let{query:n,request:r}=null!=e?e:{},i=null!==(t=null==n?void 0:n.queryKey)&&void 0!==t?t:P(),a=e=>{let{signal:t}=e;return N(r,t)};return{queryKey:i,queryFn:a,retry:3,...n}},B=e=>{let t=q(e),n=(0,r.a)(t);return n.queryKey=t.queryKey,n},U=(e,t)=>(0,i.Y9)({url:"/signinCleanup",method:"post",headers:{"Content-Type":"application/json"},data:e},t),F=(e,t)=>(0,i.Y9)({url:"/users/".concat(e),method:"delete"},t),M=(e,t,n)=>(0,i.Y9)({url:"/users/".concat(e),method:"patch",headers:{"Content-Type":"application/json"},data:t},n),O=(e,t)=>(0,i.Y9)({url:"/users/".concat(e,"/signingKey"),method:"delete"},t),W=(e,t)=>(0,i.Y9)({url:"/users/".concat(e,"/encryptionKey"),method:"delete"},t),K=(e,t)=>(0,i.Y9)({url:"/me",method:"get",signal:t},e),V=()=>["/me"],L=e=>{var t;let{query:n,request:r}=null!=e?e:{},i=null!==(t=null==n?void 0:n.queryKey)&&void 0!==t?t:V(),a=e=>{let{signal:t}=e;return K(r,t)};return{queryKey:i,queryFn:a,retry:3,...n}},Y=e=>{let t=L(e),n=(0,r.a)(t);return n.queryKey=t.queryKey,n},z=(e,t)=>(0,i.Y9)({url:"/me/shard",method:"get",signal:t},e),H=(e,t,n)=>(0,i.Y9)({url:"/campaigns",method:"get",params:e,signal:n},t),G=e=>["/campaigns",...e?[e]:[]],$=(e,t)=>{var n;let{query:r,request:i}=null!=t?t:{},a=null!==(n=null==r?void 0:r.queryKey)&&void 0!==n?n:G(e),l=t=>{let{signal:n}=t;return H(e,i,n)};return{queryKey:a,queryFn:l,retry:3,...r}},J=(e,t)=>{let n=$(e,t),i=(0,r.a)(n);return i.queryKey=n.queryKey,i},X=(e,t,n)=>(0,i.Y9)({url:"/campaigns/".concat(e),method:"patch",headers:{"Content-Type":"application/json"},data:t},n),Q=(e,t)=>(0,i.Y9)({url:"/me/signing_key_id",method:"get",signal:t},e),ee=(e,t)=>(0,i.Y9)({url:"/users/keys",method:"post",headers:{"Content-Type":"application/json"},data:e},t),et=(e,t)=>(0,i.Y9)({url:"/users/passkey",method:"post",headers:{"Content-Type":"application/json"},data:e},t),en=(e,t)=>(0,i.Y9)({url:"/users/keys/challenge",method:"get",signal:t},e),er=(e,t,n)=>(0,i.Y9)({url:"/policies",method:"get",params:e,signal:n},t),ei=e=>["/policies",...e?[e]:[]],ea=(e,t)=>{var n;let{query:r,request:i}=null!=t?t:{},a=null!==(n=null==r?void 0:r.queryKey)&&void 0!==n?n:ei(e),l=t=>{let{signal:n}=t;return er(e,i,n)};return{queryKey:a,queryFn:l,retry:3,...r}},el=(e,t)=>{let n=ea(e,t),i=(0,r.a)(n);return i.queryKey=n.queryKey,i},eo=(e,t,n,r)=>(0,i.Y9)({url:"/policies/".concat(e),method:"get",params:t,signal:r},n),es=(e,t)=>["/policies/".concat(e),...t?[t]:[]],ed=(e,t,n)=>{var r;let{query:i,request:a}=null!=n?n:{},l=null!==(r=null==i?void 0:i.queryKey)&&void 0!==r?r:es(e,t),o=n=>{let{signal:r}=n;return eo(e,t,a,r)};return{queryKey:l,queryFn:o,enabled:!!e,retry:3,...i}},eu=(e,t,n)=>{let i=ed(e,t,n),a=(0,r.a)(i);return a.queryKey=i.queryKey,a},ec=(e,t,n)=>(0,i.Y9)({url:"/policies/".concat(e),method:"post",headers:{"Content-Type":"application/json"},data:t},n),em=(e,t,n)=>(0,i.Y9)({url:"/addresses",method:"get",params:e,signal:n},t),ep=e=>["/addresses",...e?[e]:[]],eh=(e,t)=>{var n;let{query:r,request:i}=null!=t?t:{},a=null!==(n=null==r?void 0:r.queryKey)&&void 0!==n?n:ep(e),l=t=>{let{signal:n}=t;return em(e,i,n)};return{queryKey:a,queryFn:l,retry:3,...r}},ef=(e,t)=>{let n=eh(e,t),i=(0,r.a)(n);return i.queryKey=n.queryKey,i},ev=(e,t)=>(0,i.Y9)({url:"/addresses",method:"post",headers:{"Content-Type":"application/json"},data:e},t),ey=(e,t,n)=>(0,i.Y9)({url:"/addresses/".concat(e),method:"patch",headers:{"Content-Type":"application/json"},data:t},n),ex=(e,t)=>(0,i.Y9)({url:"/addresses/".concat(e),method:"delete"},t),eg=(e,t,n)=>(0,i.Y9)({url:"/addresses/balances",method:"get",params:e,signal:n},t),eb=e=>["/addresses/balances",...e?[e]:[]],ej=(e,t)=>{var n;let{query:r,request:i}=null!=t?t:{},a=null!==(n=null==r?void 0:r.queryKey)&&void 0!==n?n:eb(e),l=t=>{let{signal:n}=t;return eg(e,i,n)};return{queryKey:a,queryFn:l,retry:3,...r}},ew=(e,t)=>{let n=ej(e,t),i=(0,r.a)(n);return i.queryKey=n.queryKey,i},eZ=(e,t)=>(0,i.Y9)({url:"/accounts",method:"get",signal:t},e),eA=()=>["/accounts"],eC=e=>{var t;let{query:n,request:r}=null!=e?e:{},i=null!==(t=null==n?void 0:n.queryKey)&&void 0!==t?t:eA(),a=e=>{let{signal:t}=e;return eZ(r,t)};return{queryKey:i,queryFn:a,retry:3,...n}},eS=e=>{let t=eC(e),n=(0,r.a)(t);return n.queryKey=t.queryKey,n},ek=(e,t)=>(0,i.Y9)({url:"/accounts",method:"post",headers:{"Content-Type":"application/json"},data:e},t),eI=(e,t,n)=>(0,i.Y9)({url:"/accounts/balances",method:"get",params:e,signal:n},t),eD=e=>["/accounts/balances",...e?[e]:[]],e_=(e,t)=>{var n;let{query:r,request:i}=null!=t?t:{},a=null!==(n=null==r?void 0:r.queryKey)&&void 0!==n?n:eD(e),l=t=>{let{signal:n}=t;return eI(e,i,n)};return{queryKey:a,queryFn:l,retry:3,...r}},eE=(e,t)=>{let n=e_(e,t),i=(0,r.a)(n);return i.queryKey=n.queryKey,i},eR=(e,t,n)=>(0,i.Y9)({url:"/accounts/".concat(e),method:"patch",headers:{"Content-Type":"application/json"},data:t},n),eT=(e,t)=>(0,i.Y9)({url:"/accounts/".concat(e),method:"delete"},t),eN=(e,t,n)=>(0,i.Y9)({url:"/accounts/".concat(e,"/settings"),method:"get",signal:n},t),eP=e=>["/accounts/".concat(e,"/settings")],eq=(e,t)=>{var n;let{query:r,request:i}=null!=t?t:{},a=null!==(n=null==r?void 0:r.queryKey)&&void 0!==n?n:eP(e),l=t=>{let{signal:n}=t;return eN(e,i,n)};return{queryKey:a,queryFn:l,enabled:!!e,retry:3,...r}},eB=(e,t)=>{let n=eq(e,t),i=(0,r.a)(n);return i.queryKey=n.queryKey,i},eU=(e,t,n)=>(0,i.Y9)({url:"/accounts/".concat(e,"/settings"),method:"post",headers:{"Content-Type":"application/json"},data:t},n),eF=(e,t,n)=>(0,i.Y9)({url:"/accounts/".concat(e,"/virtualAccount"),method:"get",signal:n},t),eM=e=>["/accounts/".concat(e,"/virtualAccount")],eO=(e,t)=>{var n;let{query:r,request:i}=null!=t?t:{},a=null!==(n=null==r?void 0:r.queryKey)&&void 0!==n?n:eM(e),l=t=>{let{signal:n}=t;return eF(e,i,n)};return{queryKey:a,queryFn:l,enabled:!!e,retry:3,...r}},eW=(e,t)=>{let n=eO(e,t),i=(0,r.a)(n);return i.queryKey=n.queryKey,i},eK=(e,t)=>(0,i.Y9)({url:"/networks",method:"get",signal:t},e),eV=()=>["/networks"],eL=e=>{var t;let{query:n,request:r}=null!=e?e:{},i=null!==(t=null==n?void 0:n.queryKey)&&void 0!==t?t:eV(),a=e=>{let{signal:t}=e;return eK(r,t)};return{queryKey:i,queryFn:a,retry:3,...n}},eY=e=>{let t=eL(e),n=(0,r.a)(t);return n.queryKey=t.queryKey,n},ez=(e,t)=>(0,i.Y9)({url:"/networks/staking",method:"get",signal:t},e),eH=()=>["/networks/staking"],eG=e=>{var t;let{query:n,request:r}=null!=e?e:{},i=null!==(t=null==n?void 0:n.queryKey)&&void 0!==t?t:eH(),a=e=>{let{signal:t}=e;return ez(r,t)};return{queryKey:i,queryFn:a,retry:3,...n}},e$=e=>{let t=eG(e),n=(0,r.a)(t);return n.queryKey=t.queryKey,n},eJ=(e,t)=>(0,i.Y9)({url:"/staking/providers",method:"get",signal:t},e),eX=()=>["/staking/providers"],eQ=e=>{var t;let{query:n,request:r}=null!=e?e:{},i=null!==(t=null==n?void 0:n.queryKey)&&void 0!==t?t:eX(),a=e=>{let{signal:t}=e;return eJ(r,t)};return{queryKey:i,queryFn:a,retry:3,...n}},e0=e=>{let t=eQ(e),n=(0,r.a)(t);return n.queryKey=t.queryKey,n},e1=(e,t)=>(0,i.Y9)({url:"/vaults",method:"get",signal:t},e),e9=()=>["/vaults"],e2=e=>{var t;let{query:n,request:r}=null!=e?e:{},i=null!==(t=null==n?void 0:n.queryKey)&&void 0!==t?t:e9(),a=e=>{let{signal:t}=e;return e1(r,t)};return{queryKey:i,queryFn:a,retry:3,...n}},e8=e=>{let t=e2(e),n=(0,r.a)(t);return n.queryKey=t.queryKey,n},e4=(e,t)=>(0,i.Y9)({url:"/transferCredits",method:"get",signal:t},e),e3=()=>["/transferCredits"],e5=e=>{var t;let{query:n,request:r}=null!=e?e:{},i=null!==(t=null==n?void 0:n.queryKey)&&void 0!==t?t:e3(),a=e=>{let{signal:t}=e;return e4(r,t)};return{queryKey:i,queryFn:a,retry:3,...n}},e6=e=>{let t=e5(e),n=(0,r.a)(t);return n.queryKey=t.queryKey,n},e7=(e,t)=>(0,i.Y9)({url:"/rewards/offer",method:"get",signal:t},e),te=()=>["/rewards/offer"],tt=e=>{var t;let{query:n,request:r}=null!=e?e:{},i=null!==(t=null==n?void 0:n.queryKey)&&void 0!==t?t:te(),a=e=>{let{signal:t}=e;return e7(r,t)};return{queryKey:i,queryFn:a,retry:3,...n}},tn=e=>{let t=tt(e),n=(0,r.a)(t);return n.queryKey=t.queryKey,n},tr=(e,t,n)=>(0,i.Y9)({url:"/operations",method:"get",params:e,signal:n},t),ti=e=>["/operations",...e?[e]:[]],ta=(e,t)=>{var n;let{query:r,request:i}=null!=t?t:{},a=null!==(n=null==r?void 0:r.queryKey)&&void 0!==n?n:ti(e),l=t=>{let{signal:n}=t;return tr(e,i,n)};return{queryKey:a,queryFn:l,retry:3,...r}},tl=(e,t)=>{let n=ta(e,t),i=(0,r.a)(n);return i.queryKey=n.queryKey,i},to=(e,t,n)=>(0,i.Y9)({url:"/operations/".concat(e),method:"get",signal:n},t),ts=e=>["/operations/".concat(e)],td=(e,t)=>{var n;let{query:r,request:i}=null!=t?t:{},a=null!==(n=null==r?void 0:r.queryKey)&&void 0!==n?n:ts(e),l=t=>{let{signal:n}=t;return to(e,i,n)};return{queryKey:a,queryFn:l,enabled:!!e,retry:3,...r}},tu=(e,t)=>{let n=td(e,t),i=(0,r.a)(n);return i.queryKey=n.queryKey,i},tc=(e,t,n)=>(0,i.Y9)({url:"/operations/".concat(e,"/timeline"),method:"get",signal:n},t),tm=e=>["/operations/".concat(e,"/timeline")],tp=(e,t)=>{var n;let{query:r,request:i}=null!=t?t:{},a=null!==(n=null==r?void 0:r.queryKey)&&void 0!==n?n:tm(e),l=t=>{let{signal:n}=t;return tc(e,i,n)};return{queryKey:a,queryFn:l,enabled:!!e,retry:3,...r}},th=(e,t)=>{let n=tp(e,t),i=(0,r.a)(n);return i.queryKey=n.queryKey,i},tf=(e,t,n)=>(0,i.Y9)({url:"/operations/".concat(e,"/endorsements"),method:"get",signal:n},t),tv=e=>["/operations/".concat(e,"/endorsements")],ty=(e,t)=>{var n;let{query:r,request:i}=null!=t?t:{},a=null!==(n=null==r?void 0:r.queryKey)&&void 0!==n?n:tv(e),l=t=>{let{signal:n}=t;return tf(e,i,n)};return{queryKey:a,queryFn:l,enabled:!!e,retry:3,...r}},tx=(e,t)=>{let n=ty(e,t),i=(0,r.a)(n);return i.queryKey=n.queryKey,i},tg=(e,t,n)=>(0,i.Y9)({url:"/operations/".concat(e,"/locations"),method:"get",signal:n},t),tb=e=>["/operations/".concat(e,"/locations")],tj=(e,t)=>{var n;let{query:r,request:i}=null!=t?t:{},a=null!==(n=null==r?void 0:r.queryKey)&&void 0!==n?n:tb(e),l=t=>{let{signal:n}=t;return tg(e,i,n)};return{queryKey:a,queryFn:l,enabled:!!e,retry:3,...r}},tw=(e,t)=>{let n=tj(e,t),i=(0,r.a)(n);return i.queryKey=n.queryKey,i},tZ=(e,t,n)=>(0,i.Y9)({url:"/operations/".concat(e,"/metrics"),method:"get",signal:n},t),tA=e=>["/operations/".concat(e,"/metrics")],tC=(e,t)=>{var n;let{query:r,request:i}=null!=t?t:{},a=null!==(n=null==r?void 0:r.queryKey)&&void 0!==n?n:tA(e),l=t=>{let{signal:n}=t;return tZ(e,i,n)};return{queryKey:a,queryFn:l,enabled:!!e,retry:3,...r}},tS=(e,t)=>{let n=tC(e,t),i=(0,r.a)(n);return i.queryKey=n.queryKey,i},tk=(e,t,n)=>(0,i.Y9)({url:"/operations/".concat(e,"/endorse"),method:"post",headers:{"Content-Type":"application/json"},data:t},n),tI=(e,t)=>(0,i.Y9)({url:"/operations/type/backup",method:"post",headers:{"Content-Type":"application/json"},data:e},t),tD=(e,t)=>(0,i.Y9)({url:"/operations/type/claim",method:"post",headers:{"Content-Type":"application/json"},data:e},t),t_=(e,t)=>(0,i.Y9)({url:"/operations/type/claim/prepare",method:"post",headers:{"Content-Type":"application/json"},data:e},t),tE=(e,t)=>(0,i.Y9)({url:"/operations/type/stake",method:"post",headers:{"Content-Type":"application/json"},data:e},t),tR=(e,t)=>(0,i.Y9)({url:"/operations/type/stake/prepare",method:"post",headers:{"Content-Type":"application/json"},data:e},t),tT=(e,t)=>(0,i.Y9)({url:"/operations/type/transfer",method:"post",headers:{"Content-Type":"application/json"},data:e},t),tN=(e,t)=>(0,i.Y9)({url:"/operations/type/transfer/prepare",method:"post",headers:{"Content-Type":"application/json"},data:e},t),tP=(e,t)=>(0,i.Y9)({url:"/operations/type/unstake",method:"post",headers:{"Content-Type":"application/json"},data:e},t),tq=(e,t)=>(0,i.Y9)({url:"/operations/type/unstake/prepare",method:"post",headers:{"Content-Type":"application/json"},data:e},t),tB=(e,t)=>(0,i.Y9)({url:"/operations/type/vaultapprove",method:"post",headers:{"Content-Type":"application/json"},data:e},t),tU=(e,t)=>(0,i.Y9)({url:"/operations/type/vaultapprove/prepare",method:"post",headers:{"Content-Type":"application/json"},data:e},t),tF=(e,t)=>(0,i.Y9)({url:"/operations/type/vaultdeposit",method:"post",headers:{"Content-Type":"application/json"},data:e},t),tM=(e,t)=>(0,i.Y9)({url:"/operations/type/vaultdeposit/prepare",method:"post",headers:{"Content-Type":"application/json"},data:e},t),tO=(e,t)=>(0,i.Y9)({url:"/operations/type/vaultwithdrawal",method:"post",headers:{"Content-Type":"application/json"},data:e},t),tW=(e,t)=>(0,i.Y9)({url:"/operations/type/vaultwithdrawal/prepare",method:"post",headers:{"Content-Type":"application/json"},data:e},t),tK=(e,t,n)=>(0,i.Y9)({url:"/exchange-rates",method:"get",params:e,signal:n},t),tV=e=>["/exchange-rates",...e?[e]:[]],tL=(e,t)=>{var n;let{query:r,request:i}=null!=t?t:{},a=null!==(n=null==r?void 0:r.queryKey)&&void 0!==n?n:tV(e),l=t=>{let{signal:n}=t;return tK(e,i,n)};return{queryKey:a,queryFn:l,retry:3,...r}},tY=(e,t)=>{let n=tL(e,t),i=(0,r.a)(n);return i.queryKey=n.queryKey,i},tz=(e,t)=>(0,i.Y9)({url:"/usergroups",method:"get",signal:t},e),tH=()=>["/usergroups"],tG=e=>{var t;let{query:n,request:r}=null!=e?e:{},i=null!==(t=null==n?void 0:n.queryKey)&&void 0!==t?t:tH(),a=e=>{let{signal:t}=e;return tz(r,t)};return{queryKey:i,queryFn:a,retry:3,...n}},t$=e=>{let t=tG(e),n=(0,r.a)(t);return n.queryKey=t.queryKey,n},tJ=(e,t)=>(0,i.Y9)({url:"/usergroups",method:"post",headers:{"Content-Type":"application/json"},data:e},t),tX=(e,t,n)=>(0,i.Y9)({url:"/usergroups/".concat(e),method:"get",signal:n},t),tQ=e=>["/usergroups/".concat(e)],t0=(e,t)=>{var n;let{query:r,request:i}=null!=t?t:{},a=null!==(n=null==r?void 0:r.queryKey)&&void 0!==n?n:tQ(e),l=t=>{let{signal:n}=t;return tX(e,i,n)};return{queryKey:a,queryFn:l,enabled:!!e,retry:3,...r}},t1=(e,t)=>{let n=t0(e,t),i=(0,r.a)(n);return i.queryKey=n.queryKey,i},t9=(e,t,n)=>(0,i.Y9)({url:"/usergroups/".concat(e),method:"patch",headers:{"Content-Type":"application/json"},data:t},n),t2=(e,t)=>(0,i.Y9)({url:"/usergroups/".concat(e),method:"delete"},t),t8=(e,t)=>(0,i.Y9)({url:"/admin/organizations",method:"get",signal:t},e),t4=()=>["/admin/organizations"],t3=e=>{var t;let{query:n,request:r}=null!=e?e:{},i=null!==(t=null==n?void 0:n.queryKey)&&void 0!==t?t:t4(),a=e=>{let{signal:t}=e;return t8(r,t)};return{queryKey:i,queryFn:a,retry:3,...n}},t5=e=>{let t=t3(e),n=(0,r.a)(t);return n.queryKey=t.queryKey,n},t6=(e,t,n)=>(0,i.Y9)({url:"/admin/organizations/".concat(e,"/users"),method:"get",signal:n},t),t7=e=>["/admin/organizations/".concat(e,"/users")],ne=(e,t)=>{var n;let{query:r,request:i}=null!=t?t:{},a=null!==(n=null==r?void 0:r.queryKey)&&void 0!==n?n:t7(e),l=t=>{let{signal:n}=t;return t6(e,i,n)};return{queryKey:a,queryFn:l,enabled:!!e,retry:3,...r}},nt=(e,t)=>{let n=ne(e,t),i=(0,r.a)(n);return i.queryKey=n.queryKey,i},nn=(e,t,n)=>(0,i.Y9)({url:"/admin/operations",method:"get",params:e,signal:n},t),nr=e=>["/admin/operations",...e?[e]:[]],ni=(e,t)=>{var n;let{query:r,request:i}=null!=t?t:{},a=null!==(n=null==r?void 0:r.queryKey)&&void 0!==n?n:nr(e),l=t=>{let{signal:n}=t;return nn(e,i,n)};return{queryKey:a,queryFn:l,retry:3,...r}},na=(e,t)=>{let n=ni(e,t),i=(0,r.a)(n);return i.queryKey=n.queryKey,i},nl=(e,t)=>(0,i.Y9)({url:"/fiat/connect",method:"get",signal:t},e),no=(e,t)=>(0,i.Y9)({url:"/fiat/connect",method:"post",headers:{"Content-Type":"application/json"},data:e},t),ns=(e,t)=>(0,i.Y9)({url:"/fiat/connect",method:"put",headers:{"Content-Type":"application/json"},data:e},t),nd=(e,t,n)=>(0,i.Y9)({url:"/fiat/accounts",method:"get",params:e,signal:n},t),nu=e=>["/fiat/accounts",...e?[e]:[]],nc=(e,t)=>{var n;let{query:r,request:i}=null!=t?t:{},a=null!==(n=null==r?void 0:r.queryKey)&&void 0!==n?n:nu(e),l=t=>{let{signal:n}=t;return nd(e,i,n)};return{queryKey:a,queryFn:l,retry:3,...r}},nm=(e,t)=>{let n=nc(e,t),i=(0,r.a)(n);return i.queryKey=n.queryKey,i},np=(e,t)=>(0,i.Y9)({url:"/fiat/accounts",method:"delete",headers:{"Content-Type":"application/json"},data:e},t),nh=(e,t,n)=>(0,i.Y9)({url:"/fiat/accounts/".concat(e,"/link"),method:"post",headers:{"Content-Type":"application/json"},data:t},n),nf=(e,t)=>(0,i.Y9)({url:"/fiat/onramp",method:"post",headers:{"Content-Type":"application/json"},data:e},t),nv=(e,t)=>(0,i.Y9)({url:"/fiat/swiftonramp",method:"post",headers:{"Content-Type":"application/json"},data:e},t),ny=(e,t)=>(0,i.Y9)({url:"/fiat/offramp",method:"post",headers:{"Content-Type":"application/json"},data:e},t),nx=(e,t)=>(0,i.Y9)({url:"/fiat/offrampV2",method:"post",headers:{"Content-Type":"application/json"},data:e},t),ng=(e,t)=>(0,i.Y9)({url:"/fiat/offrampPrepare",method:"post",headers:{"Content-Type":"application/json"},data:e},t),nb=(e,t)=>(0,i.Y9)({url:"/fiat/transferSwap",method:"post",headers:{"Content-Type":"application/json"},data:e},t),nj=(e,t)=>(0,i.Y9)({url:"/permissions",method:"get",signal:t},e),nw=()=>["/permissions"],nZ=e=>{var t;let{query:n,request:r}=null!=e?e:{},i=null!==(t=null==n?void 0:n.queryKey)&&void 0!==t?t:nw(),a=e=>{let{signal:t}=e;return nj(r,t)};return{queryKey:i,queryFn:a,retry:3,...n}},nA=e=>{let t=nZ(e),n=(0,r.a)(t);return n.queryKey=t.queryKey,n},nC=(e,t,n)=>(0,i.Y9)({url:"/permissions/".concat(e),method:"get",signal:n},t),nS=e=>["/permissions/".concat(e)],nk=(e,t)=>{var n;let{query:r,request:i}=null!=t?t:{},a=null!==(n=null==r?void 0:r.queryKey)&&void 0!==n?n:nS(e),l=t=>{let{signal:n}=t;return nC(e,i,n)};return{queryKey:a,queryFn:l,enabled:!!e,retry:3,...r}},nI=(e,t)=>{let n=nk(e,t),i=(0,r.a)(n);return i.queryKey=n.queryKey,i},nD=(e,t,n)=>(0,i.Y9)({url:"/permissions/".concat(e),method:"patch",headers:{"Content-Type":"application/json"},data:t},n),n_=(e,t)=>(0,i.Y9)({url:"/wc/connections",method:"post",headers:{"Content-Type":"application/json"},data:e},t),nE=(e,t,n)=>(0,i.Y9)({url:"/wc/connections",method:"get",params:e,signal:n},t),nR=e=>["/wc/connections",...e?[e]:[]],nT=(e,t)=>{var n;let{query:r,request:i}=null!=t?t:{},a=null!==(n=null==r?void 0:r.queryKey)&&void 0!==n?n:nR(e),l=t=>{let{signal:n}=t;return nE(e,i,n)};return{queryKey:a,queryFn:l,retry:3,...r}},nN=(e,t)=>{let n=nT(e,t),i=(0,r.a)(n);return i.queryKey=n.queryKey,i},nP=(e,t)=>(0,i.Y9)({url:"/wc/connections",method:"delete",headers:{"Content-Type":"application/json"},data:e},t),nq=(e,t,n)=>(0,i.Y9)({url:"/wc/connections/".concat(e),method:"get",signal:n},t),nB=(e,t,n)=>(0,i.Y9)({url:"/wc/connections/".concat(e),method:"patch",headers:{"Content-Type":"application/json"},data:t},n),nU=(e,t)=>(0,i.Y9)({url:"/wc/connections/".concat(e),method:"delete"},t),nF=(e,t)=>(0,i.Y9)({url:"/fiat/virtual",method:"post",headers:{"Content-Type":"application/json"},data:e},t),nM=(e,t)=>(0,i.Y9)({url:"/fiat/virtual",method:"get",signal:t},e),nO=()=>["/fiat/virtual"],nW=e=>{var t;let{query:n,request:r}=null!=e?e:{},i=null!==(t=null==n?void 0:n.queryKey)&&void 0!==t?t:nO(),a=e=>{let{signal:t}=e;return nM(r,t)};return{queryKey:i,queryFn:a,retry:3,...n}},nK=e=>{let t=nW(e),n=(0,r.a)(t);return n.queryKey=t.queryKey,n},nV=(e,t,n)=>(0,i.Y9)({url:"/fiat/virtual/".concat(e),method:"put",headers:{"Content-Type":"application/json"},data:t},n),nL=(e,t)=>(0,i.Y9)({url:"/features",method:"get",signal:t},e),nY=()=>["/features"],nz=e=>{var t;let{query:n,request:r}=null!=e?e:{},i=null!==(t=null==n?void 0:n.queryKey)&&void 0!==t?t:nY(),a=e=>{let{signal:t}=e;return nL(r,t)};return{queryKey:i,queryFn:a,retry:3,...n}},nH=e=>{let t=nz(e),n=(0,r.a)(t);return n.queryKey=t.queryKey,n},nG=(e,t,n)=>(0,i.Y9)({url:"/history/balances",method:"get",params:e,signal:n},t),n$=e=>["/history/balances",...e?[e]:[]],nJ=(e,t)=>{var n;let{query:r,request:i}=null!=t?t:{},a=null!==(n=null==r?void 0:r.queryKey)&&void 0!==n?n:n$(e),l=t=>{let{signal:n}=t;return nG(e,i,n)};return{queryKey:a,queryFn:l,retry:3,...r}},nX=(e,t)=>{let n=nJ(e,t),i=(0,r.a)(n);return i.queryKey=n.queryKey,i},nQ=(e,t,n)=>(0,i.Y9)({url:"/history/inOut",method:"get",params:e,signal:n},t),n0=e=>["/history/inOut",...e?[e]:[]],n1=(e,t)=>{var n;let{query:r,request:i}=null!=t?t:{},a=null!==(n=null==r?void 0:r.queryKey)&&void 0!==n?n:n0(e),l=t=>{let{signal:n}=t;return nQ(e,i,n)};return{queryKey:a,queryFn:l,retry:3,...r}},n9=(e,t)=>{let n=n1(e,t),i=(0,r.a)(n);return i.queryKey=n.queryKey,i},n2=(e,t,n)=>(0,i.Y9)({url:"/history/earnings",method:"get",params:e,signal:n},t),n8=e=>["/history/earnings",...e?[e]:[]],n4=(e,t)=>{var n;let{query:r,request:i}=null!=t?t:{},a=null!==(n=null==r?void 0:r.queryKey)&&void 0!==n?n:n8(e),l=t=>{let{signal:n}=t;return n2(e,i,n)};return{queryKey:a,queryFn:l,retry:3,...r}},n3=(e,t)=>{let n=n4(e,t),i=(0,r.a)(n);return i.queryKey=n.queryKey,i},n5=(e,t,n)=>(0,i.Y9)({url:"/history/rewards",method:"get",params:e,signal:n},t),n6=e=>["/history/rewards",...e?[e]:[]],n7=(e,t)=>{var n;let{query:r,request:i}=null!=t?t:{},a=null!==(n=null==r?void 0:r.queryKey)&&void 0!==n?n:n6(e),l=t=>{let{signal:n}=t;return n5(e,i,n)};return{queryKey:a,queryFn:l,retry:3,...r}},re=(e,t)=>{let n=n7(e,t),i=(0,r.a)(n);return i.queryKey=n.queryKey,i},rt=(e,t)=>(0,i.Y9)({url:"/warmup",method:"post",headers:{"Content-Type":"application/json"},data:e},t),rn=(e,t,n)=>(0,i.Y9)({url:"/recipients",method:"get",params:e,signal:n},t),rr=e=>["/recipients",...e?[e]:[]],ri=(e,t)=>{var n;let{query:r,request:i}=null!=t?t:{},a=null!==(n=null==r?void 0:r.queryKey)&&void 0!==n?n:rr(e),l=t=>{let{signal:n}=t;return rn(e,i,n)};return{queryKey:a,queryFn:l,retry:3,...r}},ra=(e,t)=>{let n=ri(e,t),i=(0,r.a)(n);return i.queryKey=n.queryKey,i},rl=(e,t)=>(0,i.Y9)({url:"/recipients",method:"post",headers:{"Content-Type":"application/json"},data:e},t),ro=(e,t)=>(0,i.Y9)({url:"/recipients/".concat(e),method:"delete"},t),rs=(e,t,n)=>(0,i.Y9)({url:"/recipients/".concat(e),method:"put",headers:{"Content-Type":"application/json"},data:t},n),rd=(e,t)=>(0,i.Y9)({url:"/currencies",method:"get",signal:t},e),ru=()=>["/currencies"],rc=e=>{var t;let{query:n,request:r}=null!=e?e:{},i=null!==(t=null==n?void 0:n.queryKey)&&void 0!==t?t:ru(),a=e=>{let{signal:t}=e;return rd(r,t)};return{queryKey:i,queryFn:a,retry:3,...n}},rm=e=>{let t=rc(e),n=(0,r.a)(t);return n.queryKey=t.queryKey,n},rp=(e,t,n)=>(0,i.Y9)({url:"/countries/".concat(e),method:"get",signal:n},t),rh=e=>["/countries/".concat(e)],rf=(e,t)=>{var n;let{query:r,request:i}=null!=t?t:{},a=null!==(n=null==r?void 0:r.queryKey)&&void 0!==n?n:rh(e),l=t=>{let{signal:n}=t;return rp(e,i,n)};return{queryKey:a,queryFn:l,enabled:!!e,retry:3,...r}},rv=(e,t)=>{let n=rf(e,t),i=(0,r.a)(n);return i.queryKey=n.queryKey,i}},4684:function(e,t,n){n.d(t,{TR:function(){return r},VL:function(){return i},mX:function(){return a},cd:function(){return l},Kt:function(){return o},u$:function(){return s},oo:function(){return d},yr:function(){return u},vH:function(){return c},Z5:function(){return m},mZ:function(){return p},ZG:function(){return h},qb:function(){return f},uN:function(){return v},il:function(){return y}});let r={DefiEnabled:"DefiEnabled",OnlyVerifiedRecipients:"OnlyVerifiedRecipients"},i={DAKOTA:"DAKOTA",ZERODEV:"ZERODEV"},a={wire:"wire",ach:"ach",sepa:"sepa",swift:"swift",crypto:"crypto"},l={APPROVE:"APPROVE",REJECT:"REJECT"},o={OPEN:"OPEN",WAITING_ON_UBOS:"WAITING_ON_UBOS",READY_FOR_REVIEW:"READY_FOR_REVIEW",BUSINESS_APPROVED:"BUSINESS_APPROVED",BUSINESS_DECLINED:"BUSINESS_DECLINED",NOT_STARTED:"NOT_STARTED"},s={STAKED:"STAKED",UNSTAKED:"UNSTAKED",CLAIMABLE:"CLAIMABLE",FROZEN:"FROZEN"},d={Unknown:"Unknown",Initializing:"Initializing",Endorsing:"Endorsing",Reviewing:"Reviewing",Broadcasting:"Broadcasting",Completed:"Completed",Canceled:"Canceled",Awaiting_Login:"Awaiting Login",Pending:"Pending",Staking_Assets:"Staking Assets",Unstaking_Assets:"Unstaking Assets",Failed:"Failed"},u={NOT_STARTED:"NOT_STARTED",PENDING:"PENDING",FAILED:"FAILED",COMPLETED:"COMPLETED"},c={VIEW:"VIEW",GENERATE_ADDRESS:"GENERATE_ADDRESS"},m={POLICY_UPDATE:"POLICY_UPDATE",MANAGE_USERS:"MANAGE_USERS",APPROVE_TRANSFER:"APPROVE_TRANSFER",INITIATE_TRANSFER:"INITIATE_TRANSFER",STAKING:"STAKING",WC_UNKNOWN_TX:"WC_UNKNOWN_TX",RECIPIENTS:"RECIPIENTS"},p={client:"client",parent_company:"parent_company",subsidiary:"subsidiary",supplier:"supplier"},h={intra_group_transfer:"intra_group_transfer",invoice_for_goods_and_services:"invoice_for_goods_and_services"},f={wire:"wire",ach:"ach",sepa:"sepa",swift:"swift",crypto:"crypto"},v={UNKNOWN_LOCKEDSTATUS:"UNKNOWN_LOCKEDSTATUS",FREE_LOCKEDSTATUS:"FREE_LOCKEDSTATUS",UPDATE_SIGNING_KEY_LOCKEDSTATUS:"UPDATE_SIGNING_KEY_LOCKEDSTATUS",UPDATE_ENCRYPTION_KEY_LOCKEDSTATUS:"UPDATE_ENCRYPTION_KEY_LOCKEDSTATUS",DELETED_LOCKEDSTATUS:"DELETED_LOCKEDSTATUS"},y={pairing:"pairing",waiting_approval:"waiting_approval",active:"active",disconnected_dapp:"disconnected_dapp",disconnected_dkt:"disconnected_dkt",expired:"expired",no_compatible_addresses:"no_compatible_addresses"}},18106:function(e,t,n){var r=n(85893),i=n(69739);t.Z=(0,i.Z)((0,r.jsx)("path",{d:"M11 17H13V11H11V17ZM12 9C12.2833 9 12.5208 8.90417 12.7125 8.7125C12.9042 8.52083 13 8.28333 13 8C13 7.71667 12.9042 7.47917 12.7125 7.2875C12.5208 7.09583 12.2833 7 12 7C11.7167 7 11.4792 7.09583 11.2875 7.2875C11.0958 7.47917 11 7.71667 11 8C11 8.28333 11.0958 8.52083 11.2875 8.7125C11.4792 8.90417 11.7167 9 12 9ZM12 22C10.6167 22 9.31667 21.7375 8.1 21.2125C6.88333 20.6875 5.825 19.975 4.925 19.075C4.025 18.175 3.3125 17.1167 2.7875 15.9C2.2625 14.6833 2 13.3833 2 12C2 10.6167 2.2625 9.31667 2.7875 8.1C3.3125 6.88333 4.025 5.825 4.925 4.925C5.825 4.025 6.88333 3.3125 8.1 2.7875C9.31667 2.2625 10.6167 2 12 2C13.3833 2 14.6833 2.2625 15.9 2.7875C17.1167 3.3125 18.175 4.025 19.075 4.925C19.975 5.825 20.6875 6.88333 21.2125 8.1C21.7375 9.31667 22 10.6167 22 12C22 13.3833 21.7375 14.6833 21.2125 15.9C20.6875 17.1167 19.975 18.175 19.075 19.075C18.175 19.975 17.1167 20.6875 15.9 21.2125C14.6833 21.7375 13.3833 22 12 22ZM12 20C14.2333 20 16.125 19.225 17.675 17.675C19.225 16.125 20 14.2333 20 12C20 9.76667 19.225 7.875 17.675 6.325C16.125 4.775 14.2333 4 12 4C9.76667 4 7.875 4.775 6.325 6.325C4.775 7.875 4 9.76667 4 12C4 14.2333 4.775 16.125 6.325 17.675C7.875 19.225 9.76667 20 12 20Z"}),"Info","0 0 24 24")},68455:function(e,t,n){n.d(t,{T:function(){return i},Z:function(){return h}});var r,i,a=n(85893),l=n(67294),o=n(25675),s=n.n(o),d=n(79356),u=n(22635);let c={assetIconsUrl:"https://storage.googleapis.com/dakota-static-public-resources/asseticons",networkIconsUrl:"https://storage.googleapis.com/dakota-static-public-resources/networkicons"};(r=i||(i={}))[r.Asset=0]="Asset",r[r.Network=1]="Network";let m=e=>{let t=e.split("-");return t.length>1&&t[1].length>0?t[1][0]:t[0].length>0?t[0][0]:"d"},p=e=>{let{size:t="24px",item:n="",radius:r="small",type:o=i.Asset,inverted:p,fontSize:h="extraSmall"}=e,f=p?"-inverted":"",v="".concat(c.assetIconsUrl,"/default").concat(f,".svg"),[y,x]=(0,l.useState)(v),g=(0,l.useCallback)((e,t)=>{if(e){if(t===i.Asset)return"".concat(c.assetIconsUrl,"/").concat(e.toLowerCase()).concat(f,".svg");if(t===i.Network)return"".concat(c.networkIconsUrl,"/").concat(e.split("-")[0].toLowerCase()).concat(f,".svg")}return v},[v,f]);return(0,l.useEffect)(()=>{x(g(n,o))},[g,n,o]),(0,a.jsx)(d.Z,{position:"relative",width:t,height:t,userSelect:"none",children:o===i.Asset||o===i.Network&&n.includes("mainnet")?(0,a.jsx)(s(),{priority:!0,fill:!0,src:y,alt:n,title:n,onError:()=>{x(v)}}):(0,a.jsx)(u.Z,{backgroundColor:p?"white":"primary100",color:p?"primary100":"white",textTransform:"uppercase",title:n,alignItems:"center",justifyContent:"center",textAlign:"center",borderRadius:r,width:t,height:t,fontSize:h,fontWeight:"bold",children:m(n)})})};var h=p},13410:function(e,t,n){n.d(t,{av:function(){return i},f1:function(){return l}});var r=n(64487);let i=e=>{r.av(e)},a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error",n=arguments.length>2?arguments[2]:void 0,i={level:t};n&&(i.tags={dk_tag:n}),r.Tb(e,i)},l=(e,t)=>a(e,"warning",t)},72395:function(e,t,n){n.d(t,{Wf:function(){return l},Y9:function(){return s}});var r=n(50196),i=n(72378),a=n.n(i);let l=r.ZP.create(),o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.entries(e).reduce((e,t)=>{let[n,r]=t;return Array.isArray(r)?e[n]=r.join(","):e[n]=r,e},{})},s=(e,t)=>{let n=r.ZP.CancelToken.source(),i=a()(e,t);i.params=o(i.params||{});let s=l({...i,cancelToken:n.token}).then(e=>{let{data:t}=e;return t});return s.cancel=()=>{n.cancel("Query was cancelled")},s}},42046:function(e,t,n){var r=n(30584);let i=()=>{let{session_jwt:e}=r.ZP.session.getTokens()||{};return e?{Authorization:"Bearer ".concat(e)}:{}};t.Z=i},32510:function(e,t,n){n.d(t,{l4:function(){return i},Ho:function(){return q},aC:function(){return B}});var r,i,a=n(85893),l=n(67294),o=n(43550);let s=e=>{let{id:t,...n}=e;(0,o.u8)("setIdentity",{uid:t,properties:n})},d=e=>{(0,o.S1)({orgId:"o-1YD13J-na1",host:"".concat(window.location.hostname,"/fs"),script:"".concat(window.location.hostname,"/fs/s/fs.js"),appHost:"https://edge.fullstory.com"}),e&&s(e)};var u=n(80247),c=n(11163),m=n(88460),p=n(48780),h=n(30584),f=n(83138),v=n(77699),y=n(20117);let x="copy",g="convert";function b(e,t){return{required:!0,schema:e,derive:t}}function j(e){return{required:!0,schema:e}}function w(e){return{required:!1,schema:e}}function Z(e){let t=new Uint8Array(e),n="";for(let e of t)n+=String.fromCharCode(e);let r=btoa(n),i=r.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");return i}let A={appid:w(x),appidExclude:w(x),credProps:w(x)},C={type:j(x),id:j(x),rawId:j(g),authenticatorAttachment:w(x),response:j({clientDataJSON:j(g),attestationObject:j(g),transports:b(x,e=>{var t;return(null===(t=e.getTransports)||void 0===t?void 0:t.call(e))||[]})}),clientExtensionResults:b(A,e=>e.getClientExtensionResults())},S=[{type:"public-key",alg:-7}],k=!1,I=()=>{let e=navigator.credentials.create.bind(navigator.credentials),t=async t=>{(null==t?void 0:t.publicKey)&&(t.publicKey.pubKeyCredParams=S);let n=await e(t),r=function e(t,n,r){if(n===x)return r;if(n===g)return t(r);if(n instanceof Array)return r.map(r=>e(t,n[0],r));if(n instanceof Object){let i={};for(let[a,l]of Object.entries(n)){if(l.derive){let e=l.derive(r);void 0!==e&&(r[a]=e)}if(!(a in r)){if(l.required)throw Error("Missing key: ".concat(a));continue}if(null==r[a]){i[a]=null;continue}i[a]=e(t,l.schema,r[a])}return i}}(Z,C,n);try{await (0,p.MNv)({rawAttestation:JSON.stringify(r)})}catch(e){console.error("Error sending credentials to backend")}return n};k||(navigator.credentials.create=t,k=!0)};var D=n(41537),_=n(45619),E=n(13410);let R=6e4*f.dP,T=6e4*Math.max(f.dP/2,1);(r=i||(i={})).Resend="resend",r.GoogleAccountNotFound="google_account_not_found",r.Generic="generic",r.FailedToCreateDakotaAccount="failed_to_create_dakota_account";let N={authenticateAfterRedirect:()=>null,authenticateWebAuthn:()=>null,isInitialized:!1,registerWebAuthn:()=>null,signInWithEmail:()=>null,signUpWithEmail:()=>null,signInWithGoogle:()=>null,signUpWithGoogle:()=>null,signOut:()=>null,session:null,user:null,refreshSession:()=>null,refreshSessionFrequently:()=>null},P=(0,l.createContext)(N),q=e=>{let{children:t}=e,n=function(){let e=(0,h.G6)(),{user:t,isInitialized:n}=(0,h.JR)(),{session:r}=(0,h.Au)(),a=(0,c.useRouter)(),{closeModal:o}=(0,D.Z)(),s=(0,l.useRef)(null),x=!!r&&!!(null==t?void 0:t.trusted_metadata.user_id),{data:g,isLoading:b}=(0,p.Smy)({query:{enabled:x}}),j=e=>"?authError="+e;(0,l.useEffect)(()=>{g?((0,E.av)({id:g.id,email:g.email,username:g.name}),d({id:g.id,email:g.email,displayName:g.name||""}),(0,u.j2)(g.id)):(v.gC.includes(a.pathname)&&d(),(0,E.av)(null),(0,u.j2)())},[b]);let w=async()=>{if(t){o();try{await e.session.revoke()}catch(e){}}};(0,l.useEffect)(()=>{if(n&&(!x||!b)){if(!t&&n&&(0,v.xq)(a.pathname,[...v.n_,...v.EV]))a.replace(v.Z6.signin,void 0,{unstable_skipClientCache:!0});else if(t&&!g&&!a.query.authError&&(0,v.xq)(a.pathname,[...v.oV,v.Z6.authenticate]))a.replace(v.Z6.onboarding);else if(a.query.authError!==i.GoogleAccountNotFound||(0,v.xq)(a.pathname,[v.Z6.signin])){if(t&&g&&r){var e;let n=r.authentication_factors.length>1,{userKey:i}=g,l=!!i,o=null===(e=t.trusted_metadata)||void 0===e?void 0:e.has_onboarded;if(!o&&!(0,v.xq)(a.pathname,[v.Z6.onboarding])){a.replace(v.Z6.onboarding,void 0,{unstable_skipClientCache:!0});return}if(!n&&!(0,v.xq)(a.pathname,[v.Z6.twoFactor,v.Z6.onboarding])){a.replace(v.Z6.twoFactor);return}if(!l&&n&&!(0,v.xq)(a.pathname,[v.Z6.createPIN,v.Z6.onboarding])){a.replace(v.Z6.createPIN);return}n&&l&&o&&(0,v.xq)(a.pathname,[...v.EV,...v.oV,v.Z6.createPIN])&&a.replace(v.Z6.dashboard,void 0,{unstable_skipClientCache:!0})}}else t&&(0,p.onn)({userID:t.user_id,email:t.emails[0].email}).then(()=>a.replace(v.Z6.signin+j(i.GoogleAccountNotFound))).catch(()=>a.replace(v.Z6.signin+j(i.FailedToCreateDakotaAccount)))}},[r,t,g,a,b,n,x]),(0,l.useEffect)(()=>{e.session.onChange(e=>{let t=null==e?void 0:e.session_id;t?localStorage.setItem(_.F.sessionID,t):(localStorage.removeItem(_.F.sessionID),a.replace(v.Z6.signin,void 0,{unstable_skipClientCache:!0}))})},[]),(0,l.useEffect)(()=>{let e=async()=>{try{await q()}catch(e){console.error("Failed to refresh stytch session",e)}};return e(),s.current=setInterval(e,T),()=>{s.current&&clearInterval(s.current)}},[]),(0,m.Yp)({crossTab:!0,onIdle:w,timeout:R});let Z=(0,y.Z)()?"".concat(window.location.origin).concat(v.Z6.authenticate):"",A=t=>((0,u.j)(u.FP.SIGNIN.EMAIL),e.magicLinks.email.send(t,{login_magic_link_url:Z,login_expiration_minutes:f.kn})),C=t=>((0,u.j)(u.FP.SIGNUP.EMAIL),e.magicLinks.email.loginOrCreate(t,{login_magic_link_url:Z,login_expiration_minutes:f.kn,signup_magic_link_url:Z,signup_expiration_minutes:f.kn})),S=()=>((0,u.j)(u.FP.SIGNIN.GOOGLE),e.oauth.google.start({login_redirect_url:Z,signup_redirect_url:Z+j(i.GoogleAccountNotFound)})),k=()=>((0,u.j)(u.FP.SIGNUP.GOOGLE),e.oauth.google.start({login_redirect_url:Z,signup_redirect_url:Z})),N=async()=>{I(),await e.webauthn.register()},P=()=>e.webauthn.authenticate({session_duration_minutes:f.dP}),q=async()=>{e.session.getSync()&&await e.session.authenticate({session_duration_minutes:f.dP})},B=async()=>{if(!t)try{var n,r,l,o;let t=null==a?void 0:null===(n=a.query)||void 0===n?void 0:null===(r=n.stytch_token_type)||void 0===r?void 0:r.toString(),i=null==a?void 0:null===(l=a.query)||void 0===l?void 0:null===(o=l.token)||void 0===o?void 0:o.toString();i&&t===f.nC?await e.oauth.authenticate(i,{session_duration_minutes:f.dP}):i&&t===f.b&&await e.magicLinks.authenticate(i,{session_duration_minutes:f.dP})}catch(t){let e=i.Generic;401===t.status_code&&(e=i.Resend),a.replace("".concat(v.Z6.signin,"?authError=").concat(e),v.Z6.signin)}};return{authenticateAfterRedirect:B,authenticateWebAuthn:P,isInitialized:n,registerWebAuthn:N,signInWithEmail:A,signInWithGoogle:S,signUpWithGoogle:k,signUpWithEmail:C,signOut:w,user:t,refreshSession:q,refreshSessionFrequently:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return s.current&&clearInterval(s.current),s.current=setInterval(q,e),new Promise(n=>setTimeout(()=>{s.current&&clearInterval(s.current),s.current=setInterval(q,T),n(!0)},t*e))}}}();return(0,a.jsx)(P.Provider,{value:n,children:t})},B=()=>{let e=(0,l.useContext)(P);return(0,y.Z)()?e:N}},30584:function(e,t,n){n.d(t,{di:function(){return N},ZP:function(){return q},dP:function(){return P},G6:function(){return _},Au:function(){return R},JR:function(){return E}});var r=n(85893),i=n(51891),a=n(87419),l=n(67294),o=n(11163),s=n.n(o),d=n(20117),u=n(34155);let c="mock-stytch-session",m="mock-stytch-user",p=()=>{let e=u.env.GITPOD_WORKSPACE_URL;return e?e.replace("dakotaxyz","3211-dakotaxyz"):"http://localhost:3211"},h=new class{createUser(e){return this.post("/users",{email:e})}async post(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=await fetch("".concat(this.baseURL).concat(e),{method:"POST",body:JSON.stringify(t||{}),headers:{"Content-Type":"application/json",...n},mode:"cors",credentials:"include"});return await r.json()}get(e){return fetch("".concat(this.baseURL).concat(e))}constructor(){this.baseURL=(0,d.Z)()?window.location.origin.replace("3000","3211"):p()}};var f=n(83138);let v=e=>{var t;return null===(t=document.cookie.split("; ").find(t=>t.startsWith("".concat(e,"="))))||void 0===t?void 0:t.split("=")[1]},y=[],x=e=>{e&&localStorage.setItem(c,JSON.stringify(e))},g=e=>{e&&localStorage.setItem(m,JSON.stringify(e))},b=()=>{let e=localStorage.getItem(m);return e?JSON.parse(e):null},j=()=>{let e=localStorage.getItem(c);return e?JSON.parse(e):null},w=()=>{let e=j();y.forEach(t=>{t(e)})},Z=async(e,t)=>{let{login_magic_link_url:n}=t,{token:r,user:i,session:a}=await h.post("/sessions/login",{email:e});a&&i&&(document.cookie="stytch_session_jwt=".concat(r,"; max-age=31560000; Secure"),x(a),g(i),w()),n&&s().replace("".concat(n,"?stytch_token_type=").concat(f.b,"&token=").concat(r))},A={oauth:{authenticate:()=>h.post("/oauth/authenticate"),google:{start:()=>(console.warn("Oauth is not supported with mock Stytch. Please use magic link auth."),null)}},magicLinks:{authenticate:async()=>{let{session:e}=await h.post("/sessions/authenticate");x(e),w()},email:{send:Z,loginOrCreate:Z}},webauthn:{register:async()=>{let{user:e}=await h.post("/webauthn/register");g(e),w()},authenticate:async()=>{let{session:e}=await h.post("/webauthn/authenticate");x(e),w()}},session:{authenticate:()=>{},onChange:e=>{y.push(e)},revoke:async()=>{await h.post("/sessions/revoke"),localStorage.removeItem(c),y.forEach(e=>{e(null)})},getSync:j,getTokens:()=>{let e=v("stytch_session_jwt");return e?{session_jwt:e}:null}}},C=()=>((0,l.useEffect)(()=>{let e=async()=>{let{session:e,user:t}=await h.post("/sessions/authenticate");x(e),g(t),w()};e()},[]),A),S=()=>{let[e,t]=(0,l.useState)(null);return(0,l.useEffect)(()=>{A.session.onChange(()=>{let e=A.session.getSync();t(e)})},[t]),{session:e}},k=()=>{let[e,t]=(0,l.useState)(null),[n,r]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{A.session.onChange(()=>{r(!0);let e=b();e&&t(e)})},[t,r]),{isInitialized:n,user:e}};var I=n(34155);let D="true"===I.env.NEXT_PUBLIC_MOCK_STYTCH,_=D?C:i.G6,E=D?k:i.JR,R=D?S:i.Au,T=e=>{let{children:t}=e;return(0,r.jsx)(l.Fragment,{children:t})},N=D?T:i.di,P=(0,a.F)("public-token-live-4b37b556-e0b3-41db-8fe2-0e230e21c502",{cookieOptions:{availableToSubdomains:!1}});var q=D?A:P},83138:function(e,t,n){n.d(t,{b:function(){return o},dP:function(){return a},kn:function(){return i},nC:function(){return l}});var r=n(34155);let i=15,a=parseInt(r.env.NEXT_PUBLIC_SESSION_DURATION_IN_MINUTES||"20",10),l="oauth",o="magic_links"},63439:function(e,t,n){n.d(t,{AA:function(){return l},Ow:function(){return i},RD:function(){return u},gn:function(){return a},hB:function(){return s},k7:function(){return d},qY:function(){return r},ug:function(){return o}});let r={name:"US Dollar",symbol:"USD"},i={name:"Euro",symbol:"EUR"},a={name:"USD Coin",symbol:"USDC",precision:6},l={name:"Tether USD",symbol:"USDT",precision:6},o={name:"Dakota USD",symbol:"DKUSD",precision:6},s={name:"Ethereum",symbol:"ETH",precision:18},d={name:"AAVE USDC",symbol:"aaveUSDC",precision:6},u=[a,l,o]},51262:function(e,t,n){n.d(t,{H8:function(){return l},jB:function(){return s},pX:function(){return o}});var r,i,a=n(26755);(r=i||(i={})).ETHEREUM_MAINNET="ethereum-mainnet",r.OPTIMISM_MAINNET="optimism-mainnet",r.ETHEREUM_SEPOLIA="ethereum-sepolia",r.SOLANA_DEVNET="solana-devnet";let l=[i.ETHEREUM_MAINNET,i.OPTIMISM_MAINNET],o=[i.ETHEREUM_SEPOLIA];a.B?i.ETHEREUM_MAINNET:i.ETHEREUM_SEPOLIA,a.B||[...l,...o];let s="fiat"},44940:function(e,t,n){n.d(t,{C8:function(){return a},EG:function(){return p},En:function(){return x},GL:function(){return u},Kl:function(){return c},QF:function(){return b},RB:function(){return w},bb:function(){return g},be:function(){return j},cV:function(){return m},kK:function(){return v},qb:function(){return l},qn:function(){return h},rA:function(){return y},rs:function(){return d},uV:function(){return f}});var r,i,a,l,o=n(4684),s=n(26755);(r=a||(a={})).AccountSettingUpdate="ACCOUNT_SETTING_UPDATE",r.AddUser="ADD_USER",r.BankDeposit="BANK_DEPOSIT",r.BankWithdrawal="BANK_WITHDRAWAL",r.BlockchainClaim="BLOCKCHAIN_CLAIM",r.BlockchainDeposit="BLOCKCHAIN_DEPOSIT",r.BlockchainReward="BLOCKCHAIN_REWARD",r.BlockchainStake="BLOCKCHAIN_STAKE",r.BlockchainUnstake="BLOCKCHAIN_UNSTAKE",r.BlockchainVaultApprove="BLOCKCHAIN_VAULT_APPROVE",r.BlockchainVaultDeposit="BLOCKCHAIN_VAULT_DEPOSIT",r.BlockchainVaultEarning="BLOCKCHAIN_VAULT_EARNING",r.BlockchainVaultWithdrawal="BLOCKCHAIN_VAULT_WITHDRAWAL",r.BlockchainWithdrawal="BLOCKCHAIN_WITHDRAWAL",r.CreateAccount="CREATE_ACCOUNT",r.CreateAddress="CREATE_ADDRESS",r.CreateBackupShard="CREATE_BACKUP_SHARD",r.CreateOrganization="CREATE_ORGANIZATION",r.CreateRecipient="CREATE_RECIPIENT",r.CreateUserGroup="CREATE_USER_GROUP",r.CreateVirtualAccount="CREATE_VIRTUAL_ACCOUNT",r.DeleteRecipient="DELETE_RECIPIENT",r.DeleteUser="DELETE_USER",r.DeleteUserGroup="DELETE_USER_GROUP",r.OffRamp="OFFRAMP",r.RewardEarning="REWARD_EARNING",r.StableConversion="STABLE_CONVERSION",r.UpdateAccount="UPDATE_ACCOUNT",r.UpdateEncryptionKey="UPDATE_ENCRYPTION_KEY",r.UpdatePermission="UPDATE_PERMISSION",r.UpdatePolicies="UPDATE_POLICIES",r.UpdateRecipient="UPDATE_RECIPIENT",r.UpdateUser="UPDATE_USER",r.UpdateUserGroup="UPDATE_USER_GROUP",r.UpdateVirtualAccount="UPDATE_VIRTUAL_ACCOUNT",r.VerifyRecipient="VERIFY_RECIPIENT",r.VirtualAccountDeposit="VA_DEPOSIT",r.VirtualAccountMicrodeposit="VA_MICRODEPOSIT",r.WalletConnectRequest="WC_REQUEST";let d=[a.BankDeposit,a.BankWithdrawal,a.BlockchainClaim,a.BlockchainDeposit,a.BlockchainStake,a.BlockchainVaultDeposit,a.BlockchainVaultWithdrawal,a.BlockchainWithdrawal,a.OffRamp,a.RewardEarning,a.VirtualAccountDeposit,a.VirtualAccountMicrodeposit],u=[...d,a.BlockchainReward,a.BlockchainUnstake],c=[a.BankDeposit,a.BankWithdrawal,a.OffRamp,a.RewardEarning,a.VirtualAccountDeposit,a.VirtualAccountMicrodeposit],m=[a.BankWithdrawal,a.BlockchainWithdrawal,a.OffRamp],p=[a.BlockchainClaim,a.BlockchainReward,a.BlockchainStake,a.BlockchainUnstake];a.BlockchainVaultApprove,a.BlockchainVaultDeposit,a.BlockchainVaultEarning,a.BlockchainVaultWithdrawal;let h={[a.AccountSettingUpdate]:"Update Account Setting",[a.AddUser]:"Add User",[a.BankDeposit]:"Bank Deposit",[a.BankWithdrawal]:"Bank Withdrawal",[a.BlockchainClaim]:"Staking Claim",[a.BlockchainDeposit]:"Deposit",[a.BlockchainReward]:"Staking Reward",[a.BlockchainStake]:"Stake",[a.BlockchainUnstake]:"Unstake",[a.BlockchainVaultApprove]:"Lending Approval",[a.BlockchainVaultDeposit]:"Lend",[a.BlockchainVaultEarning]:"Lending Reward",[a.BlockchainVaultWithdrawal]:"Lending Recall",[a.BlockchainWithdrawal]:"Withdrawal",[a.CreateAccount]:"Create Account",[a.CreateAddress]:"Create Address",[a.CreateBackupShard]:"Create Backup Shard",[a.CreateOrganization]:"Create Organization",[a.CreateRecipient]:"Create Recipient",[a.CreateUserGroup]:"Add User Group",[a.CreateVirtualAccount]:"Create Virtual Account",[a.DeleteRecipient]:"Delete Recipient",[a.DeleteUser]:"Delete User",[a.DeleteUserGroup]:"Delete User Group",[a.OffRamp]:"USD Payment",[a.RewardEarning]:"Reward Earning",[a.StableConversion]:"Stable Conversion",[a.UpdateAccount]:"Update Account",[a.UpdateEncryptionKey]:"Update PIN",[a.UpdatePermission]:"Permission Updated",[a.UpdatePolicies]:"Update Policies",[a.UpdateRecipient]:"Update Recipient",[a.UpdateUser]:"Update User",[a.UpdateUserGroup]:"Update User Group",[a.UpdateVirtualAccount]:"Update Virtual Account",[a.VerifyRecipient]:"Verify Recipient",[a.VirtualAccountDeposit]:"Bank Deposit",[a.VirtualAccountMicrodeposit]:"Microdeposit",[a.WalletConnectRequest]:"Wallet Connect Operation"};(i=l||(l={})).Active="Active",i.Pending="Pending",i.Review="Review",i.Failed="Failed",i.Canceled="Canceled",i.Completed="Completed",i.Expired="Expired",i.Unknown="Unknown",i.AwaitingLogin="Awaiting Login";let f=[o.oo.Initializing,o.oo.Endorsing,o.oo.Reviewing,o.oo.Broadcasting],v=5,y=-1,x=s.B?20:2,g=x,b=(s.B,1e4),j=(s.B,1e3),w=101.01},56853:function(e,t,n){var r,i,a,l;n.d(t,{u:function(){return i},y:function(){return r}}),(a=r||(r={})).Wire="wire",a.ACH="ach",a.SEPA="sepa",a.SWIFT="swift",(l=i||(i={})).Wire="wire",l.ACH="ach",l.Crypto="crypto",l.SWIFT="swift",l.SEPA="sepa",l.Unknown=""},28742:function(e,t,n){n.d(t,{bi:function(){return o},iO:function(){return l},k:function(){return a}});var r=n(4684),i=n(9920);let a=[r.Z5.POLICY_UPDATE,r.Z5.MANAGE_USERS,r.Z5.WC_UNKNOWN_TX,r.Z5.STAKING,r.Z5.RECIPIENTS],l=[500,1e3,5e3,1e4,5e4,1e5,25e4,5e5,1e6].map(e=>({id:"".concat(e),name:"Up to ".concat((0,i.Z)(e,!0))})).concat({id:"ANY",name:"Any amount"}),o="ADMIN"},65819:function(e,t,n){n.d(t,{J:function(){return a},S:function(){return i}});var r=n(63439);let i=r.hB,a=["ethereum-mainnet","ethereum-holesky"]},87426:function(e,t,n){var r,i;n.d(t,{Z:function(){return r}}),(i=r||(r={}))[i.Internal=0]="Internal",i[i.External=1]="External"},19048:function(e,t,n){n.d(t,{uD:function(){return s},uV:function(){return l},vb:function(){return o}});var r=n(63439),i=n(51262),a=n(26755);let l=a.B?[r.gn,r.AA]:[r.k7,r.gn,r.AA],o=a.B?i.H8:[...i.H8,...i.pX];l.map(e=>e.name);let s=l.map(e=>e.symbol)},52594:function(e,t,n){var r=n(44940);let i=(e,t)=>{let n;switch(t){case r.C8.AddUser:{n=e;let t={operation_id:n.operationID,email:n.email};return t}case r.C8.OffRamp:case r.C8.StableConversion:case r.C8.BlockchainWithdrawal:{n=e;let t={operation_id:n.operationID,organization_id:n.organizationID,address_sub_id:n.addressSubID,network_id:n.networkID,destination_address:n.destinationAddress,amount:n.amount};return(null==n?void 0:n.maxFee)&&(t.max_fee=n.maxFee),t}case r.C8.BlockchainClaim:case r.C8.BlockchainStake:case r.C8.BlockchainUnstake:case r.C8.BlockchainVaultApprove:case r.C8.BlockchainVaultDeposit:case r.C8.BlockchainVaultWithdrawal:return{operation_id:(n=e).operationID,organization_id:n.organizationID,network_id:n.networkID,address_sub_id:n.addressSubID};case r.C8.CreateAddress:return{organization_id:(n=e).organizationID,address_sub_id:n.addressSubID,network_id:n.networkID,operation_id:n.operationID};case r.C8.CreateRecipient:{n=e;let t={recipient_name:n.recipientName,blockchain_address:n.blockchainAddress.canonicalAddress,blockchain_address_friendly_name:n.blockchainAddress.addressFriendlyName,blockchain_address_network_family_id:n.blockchainAddress.networkFamilyId,operation_id:n.operationID};return t}case r.C8.CreateBackupShard:{n=e;let t={operationID:n.operationID,public_key:n.publicKey};return t}case r.C8.CreateUserGroup:{n=e;let t={operation_id:n.operationID,users:n.users};return t}case r.C8.UpdatePolicies:return{operation_id:(n=e).operationID,update_policies:n.policies.map(e=>{let t={action_id:e.action.type,required_endorsement_count:e.requiredEndorsementCount,allowed_endorsers:e.allowedEndorsers.map(e=>null==e?void 0:e.publicKey),group_ids:e.groupIDs,account_id:e.accountID};return e.maxAmountUSD&&(t.max_amount_usd=e.maxAmountUSD),t})};case r.C8.UpdateUserGroup:{var i,a;n=e;let t={};return(null===(i=n.addUsers)||void 0===i?void 0:i.length)&&(t.add_users=n.addUsers),(null===(a=n.removeUsers)||void 0===a?void 0:a.length)&&(t.remove_users=n.removeUsers),t.operation_id=n.operationID,t}case r.C8.WalletConnectRequest:return{operation_id:(n=e).operationID,organization_id:n.organizationID,address_sub_id:n.addressSubID,network_id:n.networkID};case r.C8.UpdateEncryptionKey:case r.C8.VerifyRecipient:case r.C8.AccountSettingUpdate:return{operation_id:(n=e).operationID};default:return{}}};t.Z=i},59832:function(e,t,n){n.d(t,{oX:function(){return v},$C:function(){return f},n7:function(){return h},Hv:function(){return p},yU:function(){return m},sM:function(){return i},CB:function(){return l},RE:function(){return s},Mq:function(){return y},dM:function(){return b},A9:function(){return x},L_:function(){return u},rd:function(){return c},aS:function(){return w},oD:function(){return A},Y:function(){return I},gG:function(){return _}});var r=n(48764).lW;function i(e){let t="",n=new Uint8Array(e);for(let e=0;e<n.byteLength;e++)t+=String.fromCharCode(n[e]);return r.from(t,"binary").toString("base64")}let a=e=>[...new Uint8Array(e)].map(e=>e.toString(16).padStart(2,"0")).join("");var l=a;let o=async e=>{let{pin:t,wrappedKey:n,salt:r,iv:i}=e,a=await u(t),l=await c(a,r),o=await window.crypto.subtle.unwrapKey(p,n,l,{name:m,iv:i},{name:"ECDH",namedCurve:"P-384"},!0,["deriveKey"]);return o};var s=o;let d=e=>{let t=new TextEncoder;return window.crypto.subtle.importKey("raw",t.encode(e),{name:"PBKDF2"},!1,["deriveBits","deriveKey"])};var u=d,c=function(e,t){return window.crypto.subtle.deriveKey({name:"PBKDF2",salt:t,iterations:1e5,hash:"SHA-256"},e,{name:m,length:256},!1,["wrapKey","unwrapKey"])};let m="AES-GCM",p="pkcs8",h={name:"ECDSA",namedCurve:"P-384",hash:{name:"SHA-384"}},f="secp384r1",v={spki:"spki",pkcs8:"pkcs8",raw:"raw"};var y=async function(e){let{pin:t,keyToWrap:n,salt:r,iv:i}=e,a=await u(t),l=await c(a,r),o=await window.crypto.subtle.wrapKey(p,n,l,{name:m,iv:i});return{wrappedKey:o}},x=async function(){let{publicKey:e,privateKey:t}=await window.crypto.subtle.generateKey(h,!0,["sign","verify"]);return{publicKey:e,privateKey:t}};let g=()=>({salt:window.crypto.getRandomValues(new Uint8Array(16)),iv:window.crypto.getRandomValues(new Uint8Array(12))});var b=g;let j=e=>{var t;return new Uint8Array((null===(t=e.match(/../g))||void 0===t?void 0:t.map(e=>parseInt(e,16)))||[]).buffer};var w=j;let Z=async(e,t)=>{let n=await window.crypto.subtle.exportKey(t,e);return l(n)};var A=Z,C=n(48780),S=n(8433);let k=async e=>{let t=i(_(JSON.stringify(e))),n=await (0,C.meu)();if(!n)throw Error("No signing key found for this user.");let r=(0,S.wz)({publicKey:{challenge:t,allowCredentials:[{type:"public-key",id:n}],userVerification:"discouraged",timeout:3e5}}),a=await (0,S.U2)(r);return JSON.stringify(a.toJSON())};var I=k;let D=e=>{let t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let t=0,r=e.length;t<r;t++)n[t]=e.charCodeAt(t);return t};var _=D},46923:function(e,t,n){var r=n(11163);let i=()=>{var e;let{query:t}=(0,r.useRouter)();return(null==t?void 0:null===(e=t.accountID)||void 0===e?void 0:e.toString())||""};t.Z=i},56387:function(e,t,n){var r=n(67294),i=n(4684),a=n(47728),l=n(56623);let o=()=>{let{permissions:e,isLoading:t}=(0,a.Z)(),{accounts:n,isLoading:o}=(0,l.Z)(i.Z5.INITIATE_TRANSFER),{accounts:s,isLoading:d}=(0,l.Z)(i.Z5.APPROVE_TRANSFER),u=(0,r.useMemo)(()=>{let t=new Set([...n,...s]);return e.forEach(e=>{let{accountID:n}=e;t.add(n)}),Array.from(t)},[n,s,e]);return{accounts:u,isLoading:d||t||o}};t.Z=o},39635:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(67294),i=n(48780),a=n(14075);let l=(e,t)=>{let n=parseFloat(e.amountInUSD),r=parseFloat(t.amountInUSD);return n===r?e.name<t.name?-1:e.name>t.name?1:0:parseFloat(t.amountInUSD)-parseFloat(e.amountInUSD)},o=()=>{let{data:e=[],isLoading:t}=(0,i.kf3)(),{data:n=[],isLoading:o}=(0,i.Eo7)(),s=(0,r.useMemo)(()=>e.map(e=>{let t=n.find(t=>t.accountID===e.id);return{...e,amountInUSD:(null==t?void 0:t.amountInUSD)||"",currencies:(0,a.Z)(null==t?void 0:t.networkBalances)}}).sort(l),[e,n]);return{accounts:s,idLoading:t||o}};var s=o},11945:function(e,t,n){var r=n(48780);t.Z=function(){let{filters:e,pageSize:t=10,pageNumber:n,disabled:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{data:a,isLoading:l,refetch:o}=(0,r.oT5)({...e,pageSize:t,pageNumber:n},{query:{enabled:!i}}),{results:s,pageInfo:d,metadata:u}=a||{};return{activities:s,pageInfo:d,metadata:u,isLoading:l,refetch:o}}},94269:function(e,t,n){var r=n(67294),i=n(48780);let a=e=>{let{accountID:t,networkIDs:n,currencySymbol:a,lockedReason:l}=e,{data:o=[],isLoading:s}=(0,i.gM6)({accountID:t},{query:{enabled:!!t}}),d=(0,r.useMemo)(()=>{let e=Array.isArray(a)?a:[a],t=[];return o.forEach(r=>{let{address:i,balances:a}=r;for(let r of a){var o,s;e.includes((null===(o=r.amount)||void 0===o?void 0:o.currency.symbol)||"")&&parseFloat(r.amountInUSD)>0&&(!l||l&&(null===(s=r.locked)||void 0===s?void 0:s.reason)===l)&&(!n||n.includes(r.networkID))&&!t.some(e=>{var t,n,a,l;return e.canonicalAddress===i.canonicalAddress&&(null===(t=e.balance.amount)||void 0===t?void 0:t.currency.symbol)===(null===(n=r.amount)||void 0===n?void 0:n.currency.symbol)&&e.balance.networkID===r.networkID&&(null===(a=e.balance.locked)||void 0===a?void 0:a.reason)===(null===(l=r.locked)||void 0===l?void 0:l.reason)})&&t.push({...i,balance:r})}}),t},[o,a,l,n]);return{addresses:d,isLoading:s}};t.Z=a},43594:function(e,t,n){var r=n(67294),i=n(48780);let a=()=>{let{data:e=[]}=(0,i.Ilo)(),[t,n]=(0,r.useMemo)(()=>{let t=new Map,n=new Map;return e.forEach(e=>{var r,i;(null===(r=e.explorer)||void 0===r?void 0:r.addressURL)&&t.set(e.id,e.explorer.addressURL),(null===(i=e.explorer)||void 0===i?void 0:i.transactionURL)&&n.set(e.id,e.explorer.transactionURL)}),[t,n]},[e]);return{addressTemplatesByNetworkID:t,transactionTemplatesByNetworkID:n}};t.Z=a},99446:function(e,t,n){var r=n(29612);let i=()=>{let{bridgeCustomerID:e,bridgeApproved:t,isLoading:n}=(0,r.Z)();return{hasBridgeId:!!e,isBridgeApproved:t,isLoading:n}};t.Z=i},86432:function(e,t,n){var r=n(28742),i=n(71521);let a=()=>{let{groupIDs:e}=(0,i.Z)();return e.includes(r.bi)};t.Z=a},22318:function(e,t,n){var r=n(48780),i=n(67294);let a=()=>{let{data:e=[]}=(0,r.j1I)(),{maxReward:t,maxUnstakingInDays:n}=(0,i.useMemo)(()=>e.reduce((e,t)=>{let n=parseFloat(t.estimatedRewardRate),r=parseInt(t.unstakePeriodInDays,10);return{maxReward:Math.max(n,e.maxReward),maxUnstakingInDays:Math.max(r,e.maxUnstakingInDays)}},{maxReward:0,maxUnstakingInDays:0}),[e]);return{maxReward:t,maxUnstakingInDays:n}};t.Z=a},56623:function(e,t,n){var r=n(67294),i=n(48780),a=n(9414),l=n(71521);let o=e=>{let{data:t=[],isLoading:n}=(0,i.jIf)(),{groupIDs:o,isLoading:s}=(0,l.Z)(),{data:d,isLoading:u}=(0,i.Smy)(),c=(0,r.useMemo)(()=>{let n=new Set,r=t.filter(t=>{let{action:n}=t;return n.type===e}).reduce((e,t)=>{let{policies:n}=t;return[...e,...n]},[]);if(d&&r.length){for(let e of r)if(e.accountID){if(e.allowedEndorsers.find(e=>(null==e?void 0:e.ownerID)===d.id)){n.add(e.accountID);continue}(0,a.Z)(e.groupIDs||[],o)&&n.add(e.accountID)}}return Array.from(n)},[d,o,t,e]);return{accounts:c,isLoading:n||s||u}};t.Z=o},71521:function(e,t,n){var r=n(48780);let i=()=>{let{data:e=[],isLoading:t}=(0,r.y$c)(),{data:n,isLoading:i}=(0,r.Smy)(),a=n?e.filter(e=>{var t;return!!(null===(t=e.keys)||void 0===t?void 0:t.find(e=>(null==e?void 0:e.ownerID)===n.id))}).map(e=>e.id):[];return{groupIDs:a,isLoading:i||t}};t.Z=i},47728:function(e,t,n){var r=n(48780),i=n(67294),a=n(71521),l=n(9414);let o=()=>{let{data:e=[],isLoading:t}=(0,r.ctQ)(),{data:n,isLoading:o}=(0,r.Smy)(),{groupIDs:s,isLoading:d}=(0,a.Z)(),u=o||t||d,c=(0,i.useMemo)(()=>e.filter(e=>n&&e.userIDs.includes(n.id)||(0,l.Z)(s,e.groupIDs)),[u]);return{permissions:u?[]:c,isLoading:u}};t.Z=o},29612:function(e,t,n){var r=n(67294),i=n(48780),a=n(4684);t.Z=function(){let{refetchInterval:e,enabled:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{data:n,isLoading:l,refetch:o}=(0,i.waZ)({query:{enabled:t,refetchInterval:e}});return(0,r.useMemo)(()=>{var e,t;let r=null==n?void 0:null===(e=n.metadata)||void 0===e?void 0:e.bridge,i=null==n?void 0:null===(t=n.metadata)||void 0===t?void 0:t.persona,s=null==i?void 0:i.status,d=!!(null==r?void 0:r.kyc_accepted),u=s===a.Kt.BUSINESS_APPROVED;return{isLoading:l,refetch:o,bridgeApproved:d,bridgeCustomerID:null==r?void 0:r.customer_id,bridgeTOSLink:null==r?void 0:r.tos_link,bridgeTOSAccepted:!!(null==r?void 0:r.tos_accepted),personaStatus:s,personaApproved:u,personaRejected:s===a.Kt.BUSINESS_DECLINED,personaLink:null==i?void 0:i.kyc_link,orgApproved:u&&d}},[n,l,o])}},76767:function(e,t,n){var r=n(67294),i=n(48780),a=n(4684),l=n(41537),o=n(2357),s=n(97256);let d=e=>e===a.cd.APPROVE?"approved":e===a.cd.REJECT?"rejected":e===a.cd.APPROVE?"endorsed":void 0,u=()=>{let{closeModal:e,openModal:t,ModalType:n}=(0,l.Z)(),{display:u}=(0,o.Z)(),c=(0,r.useCallback)(async(t,n)=>{let{wrappedUserShard:r,signedMessage:l,extraData:o}=t,c=(null==o?void 0:o.verdict)||a.cd.APPROVE;try{await (0,i.coM)(null==o?void 0:o.operationID,{endorsement:{verdict:c,userShard:r,signedMessage:l}})}catch(n){e();let t=(0,s.Z)(n,"Encountered error endorsing operation.");u({title:"Endorsement failed",message:t});return}e(),n?n(null==o?void 0:o.operationID):u({title:"Endorsement complete",message:"Successfully ".concat(d(c)," operation.")})},[e,u]),m=async e=>{let{operationID:r,payload:a,onComplete:l,verdict:o="APPROVE"}=e,{encryptedUserShard:s,disposablePublicKey:d,iv:u}=await (0,i.R8Y)();if(!s||!d||!u)throw console.error("No user shard found for OperationID:",r),Error("No user shard found.");t(n.VerifyPIN,{payload:a,userShard:s,wrappingPublicKey:d,wrappingIV:u,onComplete:e=>c(e,l),extraData:{operationID:r,verdict:o}})};return{endorse:m}};t.Z=u},16349:function(e,t,n){n.d(t,{g:function(){return o}});var r=n(67294),i=n(39332),a=n(48780);let l="x_";function o(){let e=(0,i.useSearchParams)(),{data:t,isLoading:n}=(0,a.BMK)(),o=(0,r.useMemo)(()=>null==t?void 0:t.reduce((e,t)=>({...e,[t]:!0}),{}),[t]),s=(0,r.useMemo)(()=>{let t=Array.from(e.keys()).reduce((t,n)=>{if(n.toLowerCase().startsWith(l)){let r=e.get(n);"true"===r?t[n.slice(l.length).toUpperCase()]=!0:"false"===r&&(t[n.slice(l.length).toUpperCase()]=!1)}return t},{});return{...o,...t}},[e,o]);return{featureFlags:s,flags:s,isLoading:n}}},41537:function(e,t,n){n.d(t,{D:function(){return rT},Z:function(){return rP}});var r,i,a,l,o,s,d,u,c,m,p,h,f,v,y,x,g,b,j,w,Z,A,C=n(85893),S=n(67294),k=n(12854),I=n(26138);n(13461),n(69829),n(8477),n(63014),n(56089);var D=n(76710),_=(0,D.u)({defaultClassName:"_1fdeie9rm8 _1fdeie9vwx _1fdeie9ty8 _1fdeie9s28 _1fdeie95tc _1fdeie9vxm x4j4wj8",variantClassNames:{},defaultVariants:{},compoundVariants:[]}),E=(0,D.u)({defaultClassName:"_1fdeie9rm8 _1fdeie9tlc _1fdeie9euo _1fdeie9vkg _1fdeie9dhs _1fdeie9nw0 _1fdeie9868 _1fdeie9g _1fdeie9eqo _1fdeie9etc",variantClassNames:{},defaultVariants:{},compoundVariants:[]}),R=(0,D.u)({defaultClassName:"_1fdeie9r0g _1fdeie9o9s _1fdeie9p6o _1fdeie9q3k _1fdeie9kkw x4j4wj5",variantClassNames:{},defaultVariants:{},compoundVariants:[]}),T=(0,D.u)({defaultClassName:"_1fdeie9rm8 _1fdeie9dtc _1fdeie98w _1fdeie9nqo x4j4wj1",variantClassNames:{},defaultVariants:{},compoundVariants:[]}),N=n(79356),P=n(30280),q=n.n(P),B=n(5292),U=n.n(B);let F=e=>{let{children:t,open:n,onOpenChange:r,wide:i=!1}=e;return(0,C.jsx)(k.fC,{open:n,onOpenChange:r,children:(0,C.jsxs)(k.h_,{children:[(0,C.jsx)(k.aV,{className:T()}),(0,C.jsxs)(k.VY,{className:E()+" "+q().variable+" "+U().variable,children:[(0,C.jsx)(N.Z,{className:R(),style:{maxWidth:i?"1440px":"558px"},children:t}),(0,C.jsx)(k.x8,{asChild:!0,children:(0,C.jsx)(N.Z,{className:_(),children:(0,C.jsx)(I.Tw,{size:"24px"})})})]})]})})};var M=n(48780),O=n(49085),W=n(114),K=n(84582),V=n(22635),L=n(33014),Y=n(54778),z=n(52228);(r=h||(h={})).From="Transfer from",r.To="Transfer to",r.Review="Review",(i=f||(f={})).From="Withdraw from",i.To="Withdraw to",i.Review="Review",(a=v||(v={})).Recipient="Recipient info",a.Details="Wire details",a.Review="Review",(l=y||(y={})).Recipient="Recipient info",l.Details="ACH details",l.Review="Review",(o=x||(x={})).Recipient="Recipient info",o.Details="SWIFT details",o.Review="Review",(s=g||(g={})).Recipient="Recipient info",s.Details="SEPA details",s.Review="Review",(d=b||(b={})).From="Swap from",d.To="Swap to",d.Review="Review",(u=j||(j={})).AccountInfo="Account info",u.BankInfo="Sender bank info",u.DakotaInfo="Dakota info",u.Review="Review";let H=e=>{let{currentStep:t,steps:n}=e;return(0,C.jsxs)(V.Z,{position:"fixed",top:"0",bottom:"0",left:"0",width:"248px",backgroundColor:"primary91",display:{min1024:"flex",base:"none"},paddingY:"xxl",paddingX:"xl",direction:"vertical",children:[(0,C.jsx)(N.Z,{children:(0,C.jsx)(I.vc,{height:"16px",color:"white"})}),(0,C.jsx)(Y.Z,{size:"xxl"}),(0,C.jsx)(V.Z,{borderLeftWidth:"2px",borderColor:"primary80",children:(0,C.jsx)(V.Z,{direction:"vertical",fontSize:"medium",marginTop:"-32px",marginBottom:"-6px",children:Object.values(n).map((e,n)=>(0,C.jsxs)(V.Z,{marginLeft:"-5px",marginTop:"lg",children:[(0,C.jsx)(N.Z,{width:"24px",children:e===t&&(0,C.jsx)(N.Z,{width:"8px",height:"8px",borderRadius:"full",backgroundColor:"white"})}),(0,C.jsx)(z.Z,{fontWeight:e===t?"semiBold":"normal",color:e===t?"white":"primary30",children:e})]},n))})})]})},G=e=>{let{children:t,title:n,description:r,steps:i,currentStep:a}=e;return(0,C.jsxs)(C.Fragment,{children:[i&&a&&(0,C.jsx)(H,{currentStep:a,steps:i}),(0,C.jsxs)(V.Z,{direction:"vertical",color:"white",paddingBottom:"xl",children:[n&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(z.Z,{as:"h2",variant:"headlineMedium",marginTop:"-2px",children:n}),r&&(0,C.jsx)(z.Z,{variant:"bodyLarge",color:"textDetailInverted",children:r}),(0,C.jsx)(Y.Z,{size:"lg"})]}),t]})]})};var $=n(68455),J=n(16442),X=n(43594),Q=n(2357),ee=n(9920),et=n(48585),en=n(68753),er=n(33783),ei=n(86432);let ea=e=>{let{children:t}=e;return(0,C.jsx)(V.Z,{width:"full",borderColor:"white",borderWidth:"1px",borderRadius:"large",justify:"space-between",padding:"md",gap:"md",transitionDuration:"150",transitionProperty:"colors",transitionTimingFunction:"inOut",alignItems:"stretch",children:t})},el=e=>{let{accountID:t,prefetchedAddressBalances:n}=e,{closeModal:r,openModal:i,ModalType:a}=rP(),l=(0,ei.Z)(),{display:o}=(0,Q.Z)(),{data:s=n||[],refetch:d}=(0,M.gM6)({accountID:t}),{refetch:u}=(0,M.Eo7)({accountIDs:t}),{refetch:c}=(0,M.l62)({includeCustomAccounts:!0}),{refetch:m}=(0,M._DB)(),{addressTemplatesByNetworkID:p}=(0,X.Z)(),{refetch:h}=(0,M.sMP)(t),f=(0,S.useCallback)(e=>{let{canonicalAddress:n,name:l}=e;u(),d(),m(),c(),r(),o({title:"Address created",message:"Created address: ".concat(l||(0,et.Z)(n))}),i(a.AccountAddresses,{accountID:t})},[u,d,m,c,r,o,i,a.AccountAddresses,t]),v=(0,S.useCallback)(e=>{let{oldName:n,newName:r}=e;d(),i(a.AccountAddresses,{accountID:t}),o({title:"Address updated",message:"Updated address ".concat(n," to ").concat(r)})},[a,o,i,d,t]),y=(0,S.useCallback)(e=>{d(),h(),i(a.AccountAddresses,{accountID:t}),o({title:"Address archived",message:"Archived ".concat(e)})},[a,o,i,d,t,h]),x=(0,S.useMemo)(()=>s.map(e=>{var t,n,r;return{...e.address,symbol:(null===(t=e.balances[0])||void 0===t?void 0:null===(n=t.amount)||void 0===n?void 0:n.currency.symbol)||"",amountInUSD:e.amountInUSD,addressTemplate:p.get(null===(r=e.balances[0])||void 0===r?void 0:r.networkID)}}),[s,p]),g=(0,S.useMemo)(()=>[...x].sort((e,t)=>parseFloat(t.amountInUSD)-parseFloat(e.amountInUSD)),[x]);return(0,C.jsxs)(G,{title:"Your addresses",children:[(0,C.jsx)(L.Z,{faint:!0}),(0,C.jsxs)(V.Z,{direction:"vertical",gap:"24px",children:[g.map(e=>{var t;return(0,C.jsxs)(ea,{children:[(0,C.jsx)(W.Z,{backgroundColor:"white",size:"40px",icon:(0,C.jsx)($.Z,{item:null===(t=e.family)||void 0===t?void 0:t.name,type:$.T.Network,size:"32px",inverted:!0,fontSize:"large"})}),(0,C.jsxs)(V.Z,{direction:"vertical",flex:"auto",marginTop:"-4px",children:[(0,C.jsx)(z.Z,{variant:"titleMedium",children:e.name||"Address"}),(0,C.jsx)(z.Z,{color:"primary30",marginBottom:"xs",children:(0,C.jsx)(O.Z,{trimmed:!0,address:e.canonicalAddress,legacy:(0,er.Z)(e)})}),(0,C.jsx)(J.Z,{items:e.compatibleNetworks||[],type:$.T.Network,size:"20px"})]}),(0,C.jsxs)(V.Z,{direction:"vertical",gap:"sm",alignItems:"flex-end",justifyContent:"space-between",children:[(0,C.jsx)(N.Z,{color:"primary50",marginRight:"-8px",children:l&&(0,C.jsx)(en.Z,{items:[{label:"Edit",onClick:()=>i(a.UpdateAddress,{address:e,onSubmit:v})},{label:"Archive",onClick:()=>i(a.DeleteAddress,{address:e,onSubmit:y})}]})}),(0,C.jsx)(z.Z,{children:(0,ee.Z)(e.amountInUSD)})]})]},e.canonicalAddress)}),l&&(0,C.jsx)(K.Z,{onClick:()=>i(a.AddAddress,{onSubmit:f}),children:(0,C.jsxs)(ea,{children:[(0,C.jsx)(W.Z,{borderColor:"white",icon:(0,C.jsx)(I.pO,{})}),(0,C.jsx)(z.Z,{flexGrow:1,alignSelf:"center",children:"Add new address"})]})})]})]})};var eo=n(43979);let es=e=>{let{onSubmit:t}=e;return(0,C.jsx)(G,{title:"New Account",children:(0,C.jsx)(eo.Z,{onSubmit:t})})};var ed=n(70928),eu=n(81524),ec=n(78047),em=n(46923),ep=n(93931);let eh=e=>{let{onSubmit:t}=e,[n,r]=(0,S.useState)(!1),[i,a]=(0,S.useState)(""),{data:l=[]}=(0,M.kf3)(),{data:o=[]}=(0,M.Ilo)(),{data:s}=(0,M.Smy)(),{openModal:d,ModalType:u}=rP(),c=(0,em.Z)(),m=l.map(e=>({id:e.id,name:e.name})),p=c?m.find(e=>e.id===c):void 0,h=(0,S.useMemo)(()=>{let e=new Map;o.filter(e=>e.id.endsWith("mainnet")||(null==s?void 0:s.email.includes("@dakota.xyz"))).forEach(t=>{e.set(t.family.id,t.family.name)});let t=[];return e.forEach((e,n)=>t.push({id:n,name:e})),t},[o,s]),f=(0,S.useCallback)(async e=>{let{wrappedUserShard:n,signedMessage:r,extraData:i}=e,a=await (0,M.p6P)({name:null==i?void 0:i.name,accountID:null==i?void 0:i.accountID,networkID:null==i?void 0:i.networkID,endorsement:{verdict:"APPROVE",userShard:n,signedMessage:r}});t&&t(a)},[t]),v=(0,S.useCallback)(async e=>{let{accountID:t,name:n,familyID:i}=e;r(!0);try{var l;let{encryptedUserShard:e,disposablePublicKey:r,iv:c}=await (0,M.R8Y)();if(!e||!r||!c){a("Failed to generate address. Please try again.");return}let m=null===(l=o.find(e=>e.family.id===i))||void 0===l?void 0:l.id;if(!m){a("Failed to generate address. Please try again.");return}let p={organization_id:null==s?void 0:s.organizationID,address_sub_id:"0",network_id:m};d(u.VerifyPIN,{payload:p,userShard:e,wrappingPublicKey:r,wrappingIV:c,onComplete:f,extraData:{name:n,accountID:t,networkID:m}})}catch(e){a("Failed to generate address. Please try again.")}finally{r(!1)}},[r,a,d,f,s,u,o]);return(0,C.jsx)(G,{title:"New Address",children:(0,C.jsxs)(ed.ZP,{onSubmit:v,distribute:!0,error:i,children:[(0,C.jsx)(ec.Z,{required:!0,inverted:!0,name:"accountID",label:"Account",initialItem:p,items:m}),(0,C.jsx)(ec.Z,{required:!0,inverted:!0,name:"familyID",label:"Network",items:h}),(0,C.jsx)(eu.Z,{inverted:!0,name:"name",label:"Name"}),(0,C.jsx)(ep.Z,{primaryButtonText:"Continue",secondaryOnClick:()=>d(u.AccountAddresses),disabled:n,loading:n})]})})};var ef=n(52594),ev=n(76767),ey=n(50050),ex=n(67709),eg=n(91389),eb=n(99037);let ej=e=>{if(!(0,eb.Z)(e))return!1;let t=e.slice(2),n=(0,eg.iY)(t.toLowerCase()),r=(function(e){let t="0x";for(let n of e){let e=n.toString(16);t+=1===e.length?"0".concat(e):e}return t})((0,ex.wn)(n)).slice(2);for(let e=0;e<40;e+=1)if(parseInt(r[e],16)>7&&t[e].toUpperCase()!==t[e]||7>=parseInt(r[e],16)&&t[e].toLowerCase()!==t[e])return!1;return!0},ew=function(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return!!/^(0x)?[0-9a-f]{40}$/i.test(e)&&(!!(/^(0x|0X)?[0-9a-f]{40}$/.test(e)||/^(0x|0X)?[0-9A-F]{40}$/.test(e))||!t||ej(e))},eZ=e=>!!/^[1-9A-HJ-NP-Za-km-z]{32,44}$/.test(e),eA=e=>{let{placeholder:t,address:n,setAddress:r,isValidAddress:i,setIsValidAddress:a,setValidationError:l,setIsAddressBlurred:o,networkFamily:s,sourceAddress:d,...u}=e,[c,m]=(0,S.useState)(""),p=(0,S.useCallback)(e=>{o(!1);let t=e.trim();if(d&&t.toLowerCase()===d.canonicalAddress.toLowerCase()){a(!1),l("Destination address cannot be source address.");return}switch(l(""),null==s?void 0:s.toLowerCase()){case"ethereum":{let e=ew(t);e||l("Please enter a valid ETH address."),a(e),m("Valid ETH Address");break}case"solana":{let e=eZ(t);e||l("Please enter a valid SOL address."),a(e),m("SOL address");break}default:l("Please enter a valid ".concat(s," address."))}r&&r(t)},[s,d,l,r,a,o]);return(0,C.jsxs)(V.Z,{direction:"vertical",children:[(0,C.jsx)(eu.Z,{...u,placeholder:t,onChange:p,onBlur:()=>o(!0),value:n}),i&&(0,C.jsxs)(V.Z,{alignItems:"center",marginTop:"xs",children:[(0,C.jsx)(I.nQ,{color:ey.ZP.colors.success50,size:"20px"}),(0,C.jsx)(z.Z,{variant:"bodyMedium",color:"success50",marginLeft:"2px",children:c})]})]})};var eC=n(44940),eS=n(4684);let ek=e=>{let{name:t}=e,{closeModal:n,openModal:r,ModalType:i}=rP(),[a,l]=(0,S.useState)(""),[o,s]=(0,S.useState)(!1),[d,u]=(0,S.useState)(""),[c,m]=(0,S.useState)(!1),[p,h]=(0,S.useState)(""),{data:f}=(0,M.Smy)(),{data:v=[]}=(0,M.Ilo)(),{refetch:y}=(0,M.SwJ)(),{data:x=[]}=(0,M.$wb)(eS.Z5.RECIPIENTS),{display:g}=(0,Q.Z)(),{endorse:b}=(0,ev.Z)(),j=(0,S.useMemo)(()=>{let e=new Map;v.filter(e=>e.id.endsWith("mainnet")||(null==f?void 0:f.email.includes("@dakota.xyz"))).forEach(t=>{e.set(t.family.id,t.family.name)});let t=[];return e.forEach((e,n)=>t.push({id:n,name:e})),t},[v,f]),w=(0,S.useCallback)(e=>{h(e.name),l(""),s(!1)},[]),Z=(0,S.useCallback)(()=>{y();let e=x[0];(null==e?void 0:e.requiredEndorsementCount)>1?r(i.ApprovalsNeeded,{additionalApprovalsNeeded:e.requiredEndorsementCount-1,operationCopy:"new recipient"}):(n(),g({title:"Recipient added",message:"".concat(t," has been successfully created")}))},[y,x,g,t,r,i.ApprovalsNeeded,n]),A=(0,S.useCallback)(async e=>{let{address:n,networkFamilyID:r}=e,i=j.find(e=>e.id===r),a={recipientName:t,paymentType:eS.mX.crypto,blockchainAddress:{canonicalAddress:n,addressFriendlyName:"".concat(t,"'s ").concat((null==i?void 0:i.name)||""," address"),networkFamilyId:r}},{id:l}=await (0,M.Dx1)(a),o={operationID:l,recipientName:t,blockchainAddress:a.blockchainAddress},s=(0,ef.Z)(o,eC.C8.CreateRecipient);b({operationID:l,payload:s,onComplete:Z})},[t,b,Z,j]);return(0,C.jsx)(G,{title:"Add crypto details",children:(0,C.jsxs)(ed.ZP,{onSubmit:A,distribute:!0,error:c?d:void 0,children:[(0,C.jsx)(ec.Z,{inverted:!0,required:!0,label:"Network",name:"networkFamilyID",placeholder:"Choose a network",items:j,onChange:w}),(0,C.jsx)(eA,{label:"Address",name:"address",placeholder:"Enter address",networkFamily:p,isValidAddress:o,address:a,setAddress:l,setIsValidAddress:s,setValidationError:u,setIsAddressBlurred:m,inverted:!0,required:!0}),(0,C.jsx)(ep.Z,{primaryButtonText:"Done",secondaryButtonText:"Back",secondaryOnClick:()=>r(i.AddRecipient)})]})})};var eI=n(23937),eD=n(64627),e_=n(41429);n(45744),n(91953);var eE=(0,D.u)({defaultClassName:"_1fdeie9868 _1fdeie9d4g _1fdeie985c _1fdeie9wc0 _1fdeie9vw6 _1fdeie9vwd _1fdeie96m8 _1fdeie969c _1fdeie96bk _1fdeie9vx7 _1fdeie9vi8 _1gu1r6x2",variantClassNames:{inverted:{true:"_1fdeie95tc",false:"_1fdeie95sg"}},defaultVariants:{},compoundVariants:[]}),eR=(0,D.u)({defaultClassName:"_1fdeie9rk0 _1fdeie9otc _1fdeie9pq8 _1fdeie9qn4 _1fdeie9vwx _1fdeie9t5s _1fdeie96m8",variantClassNames:{inverted:{true:"_1fdeie95tc _1gu1r6xt",false:"_1fdeie9628 _1gu1r6xv"}},defaultVariants:{},compoundVariants:[]}),eT=(0,D.u)({defaultClassName:"_1fdeie96mo _1fdeie950w _1fdeie9rj4 _1fdeie9osg _1fdeie9ppc _1fdeie9qm8 _1fdeie9rls _1fdeie9ns0 _1fdeie9euo _1fdeie9rpc _1fdeie9vxh _1gu1r6xk",variantClassNames:{inverted:{true:"_1fdeie99s",false:"_1fdeie910w"}},defaultVariants:{},compoundVariants:[]}),eN=(0,D.u)({defaultClassName:"_1fdeie9ivk _1fdeie9g4w _1fdeie9h1s _1fdeie9hyo _1fdeie9qow _1fdeie9ny8 _1fdeie9ov4 _1fdeie9ps0 _1fdeie9m8w _1fdeie96m8 _1fdeie96bk _1fdeie969c _1fdeie985c _1fdeie9p5s _1fdeie9q2o _1fdeie9rmo _1fdeie9868 _1fdeie9g _1fdeie99ps",variantClassNames:{inverted:{true:"_1gu1r6x9",false:"_1fdeie92ds _1gu1r6xb"},disabled:{true:"_1gu1r6xi"}},defaultVariants:{},compoundVariants:[[{inverted:!0,disabled:!0},"_1fdeie99c _1fdeie91hs"],[{inverted:!0,disabled:!1},"_1fdeie99s _1fdeie91hs"],[{inverted:!1,disabled:!0},"_1fdeie919c"]]});let eP=e=>{let{initialOptions:t=[],inverted:n=!1,label:r,name:i,disabled:a=!1,options:l,onChange:o,placeholder:s,required:d}=e,[u,c]=(0,S.useState)(t),[m,p]=(0,S.useState)(""),h=(0,S.useRef)(null);(0,S.useEffect)(()=>{o&&o(u)},[o,u]);let f=(0,S.useMemo)(()=>{let e=l.filter(e=>{let{id:t}=e;return!u.find(e=>e.id===t)});return""===m?e:e.filter(e=>{let{name:t}=e;return t.toLowerCase().trim().includes(m.toLowerCase().trim())})},[m,u,l]),v=(0,S.useCallback)(e=>{let t=[...u];e.forEach(e=>{let n=l.find(t=>t.id===e);n&&t.push(n)}),c(t),p("")},[l,u,c,p]),y=(0,S.useCallback)(e=>{let t=u.filter(t=>t.id!==e);c(t)},[u,c]);return(0,C.jsxs)(ed.gN,{name:i,children:[r&&(0,C.jsx)(eD.Z,{children:r}),(0,C.jsx)(N.Z,{className:eN({inverted:n,disabled:a}),onClick:()=>{var e;return null===(e=h.current)||void 0===e?void 0:e.click()},children:(0,C.jsxs)(eI.h,{multiple:!0,disabled:a,value:u,onChange:v,children:[(0,C.jsx)(eI.h.Button,{className:"_1fdeie9vwe _1fdeie9rls _1fdeie9ups _1fdeie9vvq","aria-hidden":!0,ref:h}),(0,C.jsx)(ed.oT,{type:"hidden",required:d,value:u.length>0?JSON.stringify(u):""}),(0,C.jsxs)(V.Z,{width:"full",height:"full",boxSizing:"border-box",gap:"8px",flexWrap:"wrap",overflowY:"auto",paddingY:"md",children:[u.map(e=>(0,C.jsx)(e_.Z,{withClose:!0,clickable:!0,onClick:()=>y(e.id),children:e.name},e.id)),(0,C.jsx)(eI.h.Input,{value:m,placeholder:u.length>0?void 0:s,className:eE({inverted:n}),onChange:e=>p(e.target.value),onKeyUp:e=>{if("Enter"===e.key){var t;null===(t=h.current)||void 0===t||t.click()}}})]}),0!==f.length&&(0,C.jsx)(eI.h.Options,{className:eT({inverted:n}),children:f.map(e=>{let{id:t,name:r}=e;return(0,C.jsx)(eI.h.Option,{value:t,className:eR({inverted:n}),children:r},t)})})]})})]})};var eq=n(20920),eB=n(80247);let eU=e=>e.trim().toLowerCase(),eF=e=>{let{onSubmit:t}=e,[n,r]=(0,S.useState)(!1),[i,a]=(0,S.useState)([]),[l,o]=(0,S.useState)([]),[s,d]=(0,S.useState)(""),{data:u,refetch:c}=(0,M.i2_)(),{data:m=[]}=(0,M.y$c)(),{data:p=[],isLoading:h}=(0,M.kf3)(),{data:f=[]}=(0,M.$wb)(eS.Z5.MANAGE_USERS),{endorse:v}=(0,ev.Z)(),{openModal:y,ModalType:x}=rP(),g=(0,S.useCallback)(async e=>{let{accounts:n,groups:r,email:i}=e,a=eU(i);if(null==u?void 0:u.find(e=>eU(e.email)===a)){d("".concat(a," has already been added to the team."));return}let l={email:a};if(n){let e=JSON.parse(n);l.accountIDs=e.map(e=>e.id)}if(r){let e=JSON.parse(r);l.groupIDs=e.map(e=>e.id)}let o=()=>{c();let e=f[0];e&&e.requiredEndorsementCount>1?y(x.ApprovalsNeeded,{additionalApprovalsNeeded:e.requiredEndorsementCount-1,operationCopy:"user invite"}):t&&t(l.email),(0,eB.j)(eB.FP.TEAM.ADD_MEMBER)},{operationID:s}=await (0,M.r4W)(l),m=(0,ef.Z)({operationID:s,email:l.email},eC.C8.AddUser);v({payload:m,operationID:s,verdict:eS.cd.APPROVE,onComplete:o})},[u,v,c,f,t,y,x.ApprovalsNeeded]),b=m.map(e=>({id:e.id,name:e.name}));return(0,C.jsx)(G,{title:"Add team member",children:(0,C.jsxs)(ed.ZP,{onSubmit:g,distribute:!0,error:s,children:[(0,C.jsx)(eu.Z,{inverted:!0,name:"email",type:"email",label:"Email",placeholder:"Enter email",required:!0}),(0,C.jsx)(eP,{inverted:!0,name:"groups",label:"User groups",placeholder:"Assign to user groups",options:b,onChange:o,required:!i.length}),(0,C.jsxs)(V.Z,{alignItems:"center",justify:"space-between",marginBottom:"sm",children:[(0,C.jsx)(z.Z,{textStyle:"labelForm",children:"View only Access"}),(0,C.jsx)(eq.Z,{inverted:!0,checked:n,onChange:()=>r(!n),name:"viewOnly"})]}),n&&(0,C.jsx)(N.Z,{marginTop:"-24px",children:(0,C.jsx)(eP,{inverted:!0,name:"accounts",placeholder:"Choose accounts the member can view",options:p,onChange:a,required:!l.length,disabled:0===p.length})}),(0,C.jsx)(ep.Z,{primaryButtonText:"Send invite",disabled:h})]})})};var eM=n(65735);let eO=e=>e.map(e=>({id:e.id,name:(0,eM.Z)(e)})),eW=e=>{let{onSubmit:t}=e,[n,r]=(0,S.useState)(!1),[i,a]=(0,S.useState)(""),{data:l=[]}=(0,M.i2_)(),{refetch:o}=(0,M.y$c)(),{endorse:s}=(0,ev.Z)(),d=(0,S.useCallback)(async e=>{let{name:n,users:i}=e;r(!0);let d=i?JSON.parse(i):[],u=d.map(e=>{var t;return null===(t=l.find(t=>t.id===e.id))||void 0===t?void 0:t.signingKey}).filter(Boolean);try{let{operationID:e}=await (0,M.wZl)({name:n,userKeys:u}),r=()=>{o(),t&&t(n)};if(u.length>0&&e){let t=(0,ef.Z)({operationID:e,users:u},eC.C8.CreateUserGroup);s({operationID:e,payload:t,verdict:eS.cd.APPROVE,onComplete:r})}else r()}catch(e){a("Something went wrong. Please try again."),r(!1)}},[t,a,r,s,o,l]);return(0,C.jsx)(G,{title:"Add user group",children:(0,C.jsxs)(ed.ZP,{onSubmit:d,distribute:!0,error:i,children:[(0,C.jsx)(eu.Z,{inverted:!0,name:"name",label:"Name",placeholder:"Enter group name",required:!0}),(0,C.jsx)(eP,{inverted:!0,name:"users",label:"Users",placeholder:"Add users to your group",options:eO(l.filter(e=>!!e.signingKey))}),(0,C.jsx)(ep.Z,{primaryButtonText:"Create group",loading:n,disabled:n})]})})},eK=e=>{var t;let{accountID:n,dAppConnection:r}=e,{data:i=[]}=(0,M._DB)(),{refetch:a}=(0,M.cbT)({accountID:n}),{closeModal:l}=rP(),{display:o}=(0,Q.Z)(),s=(0,S.useMemo)(()=>i.filter(e=>{var t,i,a,l;return e.accountID===n&&((null===(t=r.dAppRequirements)||void 0===t?void 0:null===(i=t.requiredNetworks)||void 0===i?void 0:i.some(t=>{var n;return null===(n=e.compatibleNetworks)||void 0===n?void 0:n.includes(t)}))||(null===(a=r.dAppRequirements)||void 0===a?void 0:null===(l=a.optionalNetworks)||void 0===l?void 0:l.some(t=>{var n;return null===(n=e.compatibleNetworks)||void 0===n?void 0:n.includes(t)})))}).map(e=>({id:e.canonicalAddress,name:e.name||"",detail:(0,et.Z)(e.canonicalAddress,!0,12)})),[i,n,r]),d=(0,S.useCallback)(async e=>{var t;let{address:n}=e,s=i.find(e=>e.canonicalAddress===n);s&&(await (0,M.Cyd)(r.connectionID,{selectedAddresses:[s]}),a(),l(),o({title:"dApp connected",message:"Successfully created connection to ".concat((null===(t=r.dApp)||void 0===t?void 0:t.name)||"the dApp",".")}))},[i,r,a,l,o]);return(0,C.jsx)(G,{title:"Select primary address",children:(0,C.jsxs)(ed.ZP,{onSubmit:d,distribute:!0,children:[(0,C.jsxs)(V.Z,{direction:"vertical",children:[(0,C.jsxs)(z.Z,{variant:"bodyLarge",marginBottom:"md",children:["This address will be used to connect to ",null===(t=r.dApp)||void 0===t?void 0:t.name,"."]}),(0,C.jsx)(ec.Z,{autofill:!0,required:!0,inverted:!0,name:"address",label:"Address",placeholder:"Choose an address",items:s})]}),(0,C.jsx)(ep.Z,{})]})})};var eV=n(93696),eL=n(97256),eY=n(37842);let ez=e=>{let{accountID:t}=e,[n,r]=(0,S.useState)(!1),[i,a]=(0,S.useState)(""),{ModalType:l,openModal:o}=rP(),{refetch:s}=(0,M.cbT)({accountID:t}),d=(0,S.useCallback)(async e=>{let{uri:n}=e;try{r(!0);let e=await (0,M.pZr)({uri:n,accountID:t});if(null==e?void 0:e.connectionID){let n;for(;(null==n?void 0:n.connectionStatus)!==eS.il.waiting_approval;)n=await (0,M.O3h)(e.connectionID),s(),await new Promise(e=>setTimeout(e,1e3));o(l.AddDeFiConnection,{accountID:t,dAppConnection:n})}}catch(e){a((0,eL.Z)(e))}finally{r(!1)}},[r,t,o,l,a,s]);return(0,C.jsx)(G,{title:"dApp identifier info",children:(0,C.jsxs)(ed.ZP,{onSubmit:d,distribute:!0,gap:"24px",error:i,children:[(0,C.jsxs)(V.Z,{direction:"vertical",children:[(0,C.jsx)(z.Z,{variant:"bodyLarge",marginBottom:"sm",children:"Copy the identifier link from your preferred dApp and paste it here:"}),(0,C.jsx)(eV.Z,{inverted:!0,name:"uri",height:"160px",width:"full",resize:"vertical",placeholder:"Paste identifier info",required:!0})]}),(0,C.jsxs)(V.Z,{justify:"space-between",children:[(0,C.jsx)(eY.Z,{inline:!0,newTab:!0,external:!0,color:"light",href:"https://dakotaxyz.notion.site/Dakota-How-to-connect-a-dApp-2795278114f34d6081c870fdcdb3cd0a",children:"View instructions"}),(0,C.jsx)(ep.Z,{primaryButtonText:"Submit",loading:n,disabled:n})]})]})})};var eH=n(56853);(c=w||(w={}))[c.Add=0]="Add",c[c.Ramp=1]="Ramp";var eG=n(16349);let e$=()=>{let{openModal:e,ModalType:t}=rP(),[n,r]=(0,S.useState)(""),{flags:i}=(0,eG.g)(),a=[{id:eH.u.ACH,name:"ACH transfer"},{id:eH.u.Wire,name:"Wire transfer"},{id:eH.u.Crypto,name:"Crypto transfer"}];i.SEPA_ENDORSEMENT&&(a.push({id:eH.u.SWIFT,name:"SWIFT transfer"}),a.push({id:eH.u.SEPA,name:"SEPA transfer"}));let l=(0,S.useMemo)(()=>n===eH.u.ACH||n===eH.u.Wire||n===eH.u.SWIFT||n===eH.u.SEPA,[n]),o=(0,S.useCallback)(e=>r(e.id),[]),s=(0,S.useCallback)(n=>{let{name:r,nickname:i="",paymentType:a}=n;switch(a){case eH.u.ACH:e(t.AddRecipientAddress,{name:r,nickname:i,paymentType:eH.y.ACH,recipientFlow:w.Add});break;case eH.u.Wire:e(t.AddRecipientAddress,{name:r,nickname:i,paymentType:eH.y.Wire,recipientFlow:w.Add});break;case eH.u.SWIFT:e(t.AddRecipientAddress,{name:r,nickname:i,paymentType:eH.y.SWIFT,recipientFlow:w.Add});break;case eH.u.SEPA:e(t.AddRecipientAddress,{name:r,nickname:i,paymentType:eH.y.SEPA,recipientFlow:w.Add});break;case eH.u.Crypto:e(t.AddCryptoRecipient,{name:i||r,paymentType:eH.u.Crypto,recipientFlow:w.Add});break;default:console.error("Unknown recipient type:",a)}},[t,e]);return(0,C.jsx)(G,{title:"Add new recipient",children:(0,C.jsxs)(ed.ZP,{onSubmit:s,distribute:!0,children:[(0,C.jsx)(ec.Z,{inverted:!0,required:!0,autofill:!0,label:"Payment type",name:"paymentType",placeholder:"Choose an payment type",onChange:o,items:a}),l&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(eu.Z,{inverted:!0,required:!0,name:"name",label:"Legal Name"}),(0,C.jsx)(eu.Z,{inverted:!0,name:"nickname",label:"Nickname (optional)"})]}),n===eH.u.Crypto&&(0,C.jsx)(eu.Z,{inverted:!0,required:!0,name:"nickname",label:"Name"}),(0,C.jsx)(ep.Z,{primaryButtonText:"Next"})]})})};var eJ=n(87468);let eX=e=>{let{defaultCountry:t="USA"}=e,[n,r]=(0,S.useState)(eJ.o.find(e=>{let{id:n}=e;return n===t})),{data:i,refetch:a}=(0,M.E2U)((null==n?void 0:n.id)||t);(0,S.useEffect)(()=>{(null==n?void 0:n.id)&&a()},[n,a]);let l=(0,S.useCallback)(e=>{r(e)},[]),o=(0,S.useMemo)(()=>(null==n?void 0:n.id)==="USA",[n]),s=(0,S.useMemo)(()=>{var e;return null==i?void 0:null===(e=i.subdivisions)||void 0===e?void 0:e.sort((e,t)=>e.name.localeCompare(t.name)).map(e=>({id:e.code,name:e.name}))},[i]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(ec.Z,{inverted:!0,required:!0,name:"country",label:"Country",initialItem:n,onChange:l,items:eJ.o}),(0,C.jsx)(eu.Z,{inverted:!0,name:"address1",label:"Address 1",required:!0}),(0,C.jsx)(eu.Z,{inverted:!0,name:"address2",label:"Address 2"}),(0,C.jsx)(eu.Z,{inverted:!0,name:"city",label:"City",required:!0}),(null==s?void 0:s.length)?(0,C.jsx)(ec.Z,{inverted:!0,name:"state",label:o?"State":"State / Province / Region",required:!0,items:s}):(0,C.jsx)(eu.Z,{inverted:!0,name:"state",label:"State / Province / Region",required:!0}),(0,C.jsx)(eu.Z,{inverted:!0,name:"zip",label:o?"Zip":"Postal code",required:!0})]})},eQ=e=>{let{paymentType:t,name:n,nickname:r,recipientFlow:i}=e,{ModalType:a,openModal:l}=rP(),o=(0,S.useCallback)(e=>{let{address1:o,address2:s,city:d,state:u,zip:c,country:m}=e;l(a.AddRecipientBank,{paymentType:t,name:n,nickname:r,beneficiaryAddress:{street_line_1:o,street_line_2:s||"",city:d,state:u,postal_code:c,country:m},recipientFlow:i})},[a,n,r,l,t,i]),s=i===w.Ramp,d=(0,S.useMemo)(()=>t===eH.y.Wire,[t]),u=(0,S.useMemo)(()=>t===eH.y.ACH,[t]),c=(0,S.useMemo)(()=>t===eH.y.SWIFT,[t]),m=(0,S.useCallback)(()=>{i===w.Add&&l(a.AddRecipient),i===w.Ramp&&l(a.ChooseRecipient)},[a,l,i]);return(0,C.jsx)(G,{title:"Add recipient address",currentStep:s?d?v.Recipient:u?y.Recipient:c?x.Recipient:g.Recipient:void 0,steps:s?d?v:u?y:c?x:g:void 0,children:(0,C.jsxs)(ed.ZP,{onSubmit:o,distribute:!0,children:[(0,C.jsx)(eX,{}),(0,C.jsx)(ep.Z,{primaryButtonText:"Next",secondaryOnClick:m})]})})},e0=/\D/g,e1=e=>e.replace(e0,""),e9=e=>(0,C.jsx)(eu.Z,{type:"text",formatFunc:e1,...e}),e2=/^[A-Z]{2}\d{2}[A-Z0-9]{1,34}$/,e8=e=>{let t=e.replace(/[-\s]/g,"").trim();return e2.test(t)},e4=/^[A-Z]{4}[A-Z]{2}[0-9A-Z]{2}([0-9A-Z]{3})?$/,e3=e=>{let t=e.replace(/[-\s]/g,"").trim();return e4.test(t)};var e5=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[" ","-"];if(!e)return;let n=e;return t.forEach(e=>{let t=RegExp(e,"g");n=n.replace(t,"")}),n};let e6=e=>{let{paymentType:t,name:n,nickname:r,beneficiaryAddress:i,recipientFlow:a}=e,{ModalType:l,openModal:o,closeModal:s}=rP(),{refetch:d}=(0,M.SwJ)(),{display:u}=(0,Q.Z)(),c=a===w.Ramp,m=t===eH.y.Wire,p=t===eH.y.ACH,h=t===eH.y.SWIFT,f=t===eH.y.SEPA,[b,j]=(0,S.useState)(""),[Z,A]=(0,S.useState)(""),[k,I]=(0,S.useState)(""),D=(0,S.useMemo)(()=>!!(Z||k),[Z,k]),_=async e=>{let{bankName:c,country:v,address1:y,address2:x,city:g,state:b,zip:Z,routingNumber:A,accountNumber:C,bic:S,iban:k}=e,I={accountNumber:C};if(m&&(I.wireRoutingNumber=A),p&&(I.routingNumber=A),f){if(!k||!e8(k)){j("Please enter a valid IBAN.");return}I.bic=e5(S),I.iban=e5(k)}if(h){if(k&&!e8(k)){j("Please enter a valid IBAN.");return}if(S&&!e3(S)){j("Please enter a valid SWIFT / BIC.");return}I.iban=e5(k),I.bic=e5(S),o(l.AddRecipientInfo,{paymentType:t,name:n,nickname:r,beneficiaryAddress:i,bankAccountInfo:I,bankName:c,bankAddress:{street_line_1:y,street_line_2:x||"",city:g,state:b||"",postal_code:Z,country:v},recipientFlow:a});return}let{bankAccount:D}=await (0,M.Dx1)({recipientName:r||n,paymentType:t,bankAccount:{bankName:c,accountFriendlyName:r,bankAccountInfo:I,beneficiaryName:n,beneficiaryAddress:i}});a===w.Ramp?o(l.CreateOffRamp,{paymentType:t,recipient:D}):(d(),s(),u({title:"Recipient added",message:"".concat(n," has been successfully created")}))};return(0,C.jsx)(G,{title:"Add recipient bank",description:h?"A SWIFT / BIC code and bank account number or the IBAN is required.":void 0,currentStep:c?m?v.Recipient:p?y.Recipient:h?x.Recipient:g.Recipient:void 0,steps:c?m?v:p?y:h?x:g:void 0,children:(0,C.jsxs)(ed.ZP,{onSubmit:_,distribute:!0,error:b,defaultServerError:"Something went wrong adding a new recipient. Please try again.",children:[(0,C.jsx)(eu.Z,{inverted:!0,name:"bankName",label:"Recipient bank name",required:!0}),h?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(eX,{}),(0,C.jsx)(eu.Z,{inverted:!0,name:"bic",label:"SWIFT / BIC",required:!0}),(0,C.jsx)(e9,{inverted:!0,name:"accountNumber",label:"Account number",onChange:e=>I(e)}),(0,C.jsx)(eu.Z,{inverted:!0,name:"iban",label:"IBAN",onChange:e=>A(e)})]}):f?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(eu.Z,{inverted:!0,name:"bic",label:"SWIFT / BIC",required:!0}),(0,C.jsx)(eu.Z,{inverted:!0,name:"iban",label:"IBAN",onChange:e=>A(e)})]}):(0,C.jsxs)(V.Z,{gap:"lg",children:[(0,C.jsx)(N.Z,{flex:"auto",children:(0,C.jsx)(e9,{inverted:!0,name:"routingNumber",label:"Routing number",minLength:9,maxLength:9,required:!0})}),(0,C.jsx)(N.Z,{flex:"auto",children:(0,C.jsx)(e9,{inverted:!0,name:"accountNumber",label:"Account number",required:!0})})]}),(0,C.jsx)(ep.Z,{disabled:h?!D:void 0,primaryButtonText:a===w.Ramp||h?"Next":"Done",secondaryOnClick:()=>o(l.AddRecipientAddress,{paymentType:t,name:n,nickname:r,recipientFlow:a})})]})})},e7=[{id:eS.mZ.parent_company,name:"Parent company"},{id:eS.mZ.subsidiary,name:"Subsidiary"}],te=[{id:eS.mZ.client,name:"Client"},{id:eS.mZ.supplier,name:"Supplier"}],tt=[...e7,...te],tn=[{id:eS.ZG.intra_group_transfer,name:"Intra-group transfer"},{id:eS.ZG.invoice_for_goods_and_services,name:"Invoice for goods and services"}],tr=["AFG","ASM","AIA","AZE","BHS","BRB","BLR","BIH","BWA","BFA","BDI","KHM","CAF","COG","CUB","EGY","GHA","GIN","GNB","HTI","IRN","IRQ","JAM","LBN","LBY","MLI","MNG","MNE","MMR","PRK","PAK","PLW","PAN","RUS","WSM","SRB","SYC","SOM","SSD","SDN","SYR","TTO","TUN","UGA","UKR","VIR","VUT","VEN","YEM","ZWE"],ti=e=>{let{paymentType:t,name:n,nickname:r,beneficiaryAddress:i,recipientFlow:a,bankAccountInfo:l,bankName:o,bankAddress:s,recipientID:d}=e,{ModalType:u,openModal:c,closeModal:m}=rP(),{data:p,refetch:h}=(0,M.SwJ)(),{display:f}=(0,Q.Z)(),v=a===w.Ramp,y=(0,S.useMemo)(()=>null==p?void 0:p.find(e=>e.id===d),[p,d]),g=(0,S.useMemo)(()=>{let e=null==i?void 0:i.country,t=null==s?void 0:s.country;if(!e||!t)return[];let n=tr.includes(e)||tr.includes(t);return n?e7:tt},[i,s]),b=async e=>{let a,{businessDescription:d,category:p,purposeOfFunds:x}=e;if(null==y?void 0:y.bankAccount)a={...y.bankAccount,businessDescription:d,category:p,purposeOfFunds:x};else{let{bankAccount:e}=await (0,M.Dx1)({recipientName:r||n,paymentType:t,bankAccount:{bankName:o,accountFriendlyName:r,bankAccountInfo:l,bankAddress:s,category:p,purposeOfFunds:x,businessDescription:d,beneficiaryName:n,beneficiaryAddress:i}});a=e}v?c(u.CreateOffRamp,{paymentType:t,recipient:a}):(h(),m(),f({title:"Recipient added",message:"".concat(n," has been successfully created")}))};return(0,C.jsx)(G,{title:"Add recipient info",currentStep:v?x.Recipient:void 0,steps:v?x:void 0,children:(0,C.jsxs)(ed.ZP,{onSubmit:b,distribute:!0,defaultServerError:"Something went wrong adding a new recipient. Please try again.",children:[(0,C.jsx)(ec.Z,{inverted:!0,required:!0,name:"category",label:"Bank account category",items:g}),(0,C.jsx)(ec.Z,{inverted:!0,required:!0,name:"purposeOfFunds",label:"Purpose of funds",items:tn}),(0,C.jsx)(eu.Z,{inverted:!0,required:!0,name:"businessDescription",label:"Short business description",placeholder:"ex: Technology platform"}),(0,C.jsx)(ep.Z,{primaryButtonText:v?"Next":"Done",secondaryOnClick:()=>{d?c(u.ChooseRecipient,{paymentType:t}):c(u.AddRecipientBank,{paymentType:t,name:n,nickname:r,beneficiaryAddress:i,recipientFlow:a})}})]})})};var ta=n(63439);let tl=()=>{let{data:e=[],isLoading:t}=(0,M.eXZ)(),{flags:n,isLoading:r}=(0,eG.g)();return(0,S.useMemo)(()=>{let i=["USDT","USDC"];n.DAKOTA_STABLECOIN&&i.push("DKUSD");let a=e.filter(e=>i.includes(e.symbol));return{rampCurrencies:a,rampCurrencySymbols:i,isLoading:r||t}},[n,e,r,t])},to=e=>{var t,n;let{accountID:r}=e,{data:i=[]}=(0,M.Ilo)(),{data:a=[]}=(0,M._DB)(),{data:l}=(0,M.waZ)(),{data:o}=(0,M.m7G)((null==l?void 0:l.id)||""),{data:s=[]}=(0,M.eXZ)(),{rampCurrencies:d,rampCurrencySymbols:u}=tl(),{refetch:c}=(0,M.sMP)(r),{closeModal:m}=rP(),{display:p}=(0,Q.Z)(),[h,f]=(0,S.useState)((null==o?void 0:null===(t=o.defaultNetworkCurrency)||void 0===t?void 0:t.symbol)||""),[v,y]=(0,S.useState)((null==o?void 0:null===(n=o.defaultNetworkCurrency)||void 0===n?void 0:n.network.id)||""),[x,g]=(0,S.useState)(),b=(0,S.useCallback)(e=>{let{id:t}=e;return g(t)},[]);(0,S.useEffect)(()=>{if(o){let{defaultNetworkCurrency:e}=o;f(e.symbol),y(e.network.id)}},[o]);let j=s.filter(e=>u.includes(e.symbol)).map(e=>({name:e.name,id:e.symbol})),w=(0,S.useMemo)(()=>{if(!h)return[];let e=new Set,t=[];return i.forEach(n=>{!a.some(e=>{var t;return e.accountID===r&&(null===(t=e.compatibleNetworks)||void 0===t?void 0:t.includes(n.id))})||h===ta.ug.symbol&&!n.id.includes("base")||h===ta.AA.symbol&&!n.id.includes("ethereum")||e.has(n.id)||(e.add(n.id),t.push({id:n.id,name:n.name}))}),t},[a,i,h,r]),Z=(0,S.useMemo)(()=>v?a.filter(e=>{var t;return e.accountID===r&&(null===(t=e.compatibleNetworks)||void 0===t?void 0:t.includes(v))}).map(e=>({id:e.canonicalAddress,name:e.name||"",detail:(0,et.Z)(e.canonicalAddress,!0,12)})):[],[a,r,v]),A=(0,S.useCallback)(async()=>{let e=a.find(e=>e.canonicalAddress===x),t=d.find(e=>e.symbol===h);if(e&&t){let{supportedNetworks:n,...r}=t,i=await (0,M.Csg)({destinationAddress:{...e,networkID:v},destinationCurrency:r});c(),m(),p({title:"Virtual account created",message:"Connected ".concat(i.linkedDakotaAccount.name," and ").concat(i.bankName)})}},[a,d,x,h,v,c,m,p]);return(0,C.jsx)(G,{title:"Add virtual account",children:(0,C.jsxs)(ed.ZP,{onSubmit:A,distribute:!0,children:[(0,C.jsx)(ec.Z,{required:!0,inverted:!0,name:"currencySymbol",label:"Currency",placeholder:"Choose a currency",initialItem:j.find(e=>e.id===h),disabled:0===j.length,items:j,onChange:e=>{f(e.id)}}),(0,C.jsx)(ec.Z,{required:!0,inverted:!0,label:"Network",placeholder:"Choose a network",name:"networkID",initialItem:w.find(e=>e.id===v),items:w,onChange:e=>y(e.id)}),(0,C.jsx)(ec.Z,{inverted:!0,required:!0,name:"address",label:"Address",placeholder:"Choose an address",disabled:0===a.length,items:Z,onChange:b}),(0,C.jsx)(ep.Z,{disabled:!x||!h})]})})},ts=e=>{let{amount:t,purposeOfFunds:n,senderName:r,senderAddress:i,businessDescription:a,relationship:l,onSubmit:o}=e,{ModalType:s,openModal:d}=rP(),[u,c]=(0,S.useState)(""),[m,p]=(0,S.useState)(""),[h,f]=(0,S.useState)(""),[v,y]=(0,S.useState)(""),x=(0,S.useMemo)(()=>""!==h||""!==v,[h,v]),g=(0,S.useCallback)(e=>{let{bankName:u,country:p,address1:f,address2:y,city:x,state:g,zip:b}=e;if(h&&!e8(h)){c("Please enter a valid IBAN.");return}if(m&&!e3(m)){c("Please enter a valid BIC / SWIFT number.");return}d(s.DakotaInfoForSwift,{amount:t,purposeOfFunds:n,senderName:r,senderAddress:i,businessDescription:a,relationship:l,bankName:u,bankAddress:{street_line_1:f,street_line_2:y||"",city:x,state:g,postal_code:b,country:p},accountNumber:v,iban:h,bic:m}),o&&o()},[h,m,d,s.DakotaInfoForSwift,t,n,r,i,a,l,v,o]);return(0,C.jsx)(G,{title:"Sender bank info",description:"A SWIFT / BIC code and bank account number or the IBAN is required.",currentStep:j.BankInfo,steps:j,children:(0,C.jsxs)(ed.ZP,{onSubmit:g,distribute:!0,error:u,children:[(0,C.jsx)(eu.Z,{inverted:!0,name:"bankName",label:"Sender bank name",required:!0}),(0,C.jsx)(eX,{}),(0,C.jsx)(eu.Z,{inverted:!0,name:"bic",label:"SWIFT / BIC",required:!0,onChange:e=>p(e)}),(0,C.jsx)(e9,{inverted:!0,name:"accountNumber",label:"Account number",onChange:e=>y(e)}),(0,C.jsx)(eu.Z,{inverted:!0,name:"iban",label:"IBAN",onChange:e=>f(e)}),(0,C.jsx)(ep.Z,{disabled:!x,primaryButtonText:"Next",secondaryOnClick:()=>d(s.CreateSwiftDeposit)})]})})},td=e=>{let{virtualAccount:t}=e,{initialAddress:n,initialNetworkID:r,initialCurrency:i}=(0,S.useMemo)(()=>({initialAddress:t.linkedAddress.canonicalAddress,initialNetworkID:t.destinationNetworkID||t.linkedAddress.networkID,initialCurrency:t.destinationCurrency.symbol}),[t]),a=t.linkedDakotaAccount.id,{refetch:l}=(0,M.sMP)(a),{data:o=[]}=(0,M.Ilo)(),{data:s=[]}=(0,M._DB)(),{data:d=[]}=(0,M.eXZ)(),{closeModal:u}=rP(),{display:c}=(0,Q.Z)(),[m,p]=(0,S.useState)(n),[h,f]=(0,S.useState)(r),{rampCurrencies:v}=tl(),y=(0,S.useMemo)(()=>s.filter(e=>e.accountID===a).map(e=>({id:e.canonicalAddress,name:e.name||"",detail:(0,et.Z)(e.canonicalAddress,!0,12)})),[a,s]),x=(0,S.useMemo)(()=>{let e=s.find(e=>e.canonicalAddress===m);return e?o.filter(t=>{var n;return null===(n=e.compatibleNetworks)||void 0===n?void 0:n.includes(t.id)}).map(e=>({id:e.id,name:e.name})):[]},[m,s,o]),g=(0,S.useMemo)(()=>v.filter(e=>!(e.symbol===ta.AA.symbol&&!h.includes("ethereum"))&&!(e.symbol===ta.ug.symbol&&!h.includes("base"))).map(e=>({name:e.name,id:e.symbol})),[h,v]),b=(0,S.useMemo)(()=>y.find(e=>e.id===n),[y,n]),j=(0,S.useMemo)(()=>x.find(e=>e.id===r),[x,r]),w=(0,S.useMemo)(()=>g.find(e=>e.id===i),[g,i]),Z=(0,S.useCallback)(async e=>{let{address:n,currency:r,networkID:i}=e,a=s.find(e=>e.canonicalAddress===n),o=d.find(e=>e.symbol===r);a&&o&&(await (0,M.FAP)(t.id,{destinationAddress:a.canonicalAddress,destinationNetworkID:i,destinationCurrencySymbol:o.symbol}),l(),u(),c({title:"Deposit destination updated",message:"Successfully updated your deposit details."}))},[s,u,d,c,l,t.id]);return(0,C.jsx)(G,{title:"Update deposit destination",children:(0,C.jsxs)(ed.ZP,{onSubmit:Z,distribute:!0,children:[(0,C.jsx)(ec.Z,{inverted:!0,required:!0,name:"address",label:"Address",placeholder:"Choose an address",initialItem:b,items:y,onChange:e=>p(e.id)}),(0,C.jsx)(ec.Z,{required:!0,inverted:!0,label:"Network",placeholder:"Choose a network",name:"networkID",initialItem:j,items:x,onChange:e=>f(e.id)}),(0,C.jsx)(ec.Z,{required:!0,inverted:!0,name:"currency",label:"Currency",placeholder:"Choose a currency",initialItem:w,items:g}),(0,C.jsx)(ep.Z,{primaryButtonText:"Save"})]})})};var tu=n(11163),tc=n(77699);let tm=e=>{let{additionalApprovalsNeeded:t,operationCopy:n="operation",onClose:r}=e,{closeModal:i}=rP(),a=(0,tu.useRouter)();return(0,C.jsx)(G,{title:"Additional approvals needed",children:(0,C.jsxs)(ed.ZP,{onSubmit:r,children:[(0,C.jsxs)(N.Z,{marginBottom:"xl",borderRadius:"large",borderWidth:"1px",borderColor:"primary70",padding:"lg",children:[(0,C.jsxs)(z.Z,{variant:"bodyLarge",marginBottom:"xl",children:["Your ",n," requires ",t," more"," ",1===t?"approval":"approvals"," to reach consensus. Once approved, we will apply the update to your account. We have notified all authorized approvers that their review is needed."]}),(0,C.jsx)(eY.Z,{color:"light",onClick:()=>{i(),a.replace(tc.Z6.activityAll)},children:"View activity details"})]}),(0,C.jsx)(ep.Z,{})]})})};var tp=n(96311),th=n(63414);let tf=()=>{let{data:e}=(0,M.Smy)(),{endorse:t}=(0,ev.Z)(),n=(0,S.useCallback)(async()=>{if(!e)return;let{operationID:n}=await (0,M.Q36)(e.id),r=(0,ef.Z)({operationID:n},eC.C8.UpdateEncryptionKey);t({operationID:n,payload:r})},[e,t]);return(0,C.jsx)(G,{title:"Change PIN",children:(0,C.jsxs)(ed.ZP,{onSubmit:n,children:[(0,C.jsx)(tp.Z,{message:"You will be prompted for your current PIN before you create a new PIN. Your platform capabilities will be limited until Dakota approves this operation.",icon:(0,C.jsx)(th.Z,{size:"48px"})}),(0,C.jsx)(ep.Z,{primaryButtonText:"Continue"})]})})},tv="newRecipient",ty=e=>{let{paymentType:t}=e,[n,r]=(0,S.useState)(),{ModalType:i,openModal:a}=rP(),[l,o]=(0,S.useState)(),{data:s=[]}=(0,M.l62)({includeCustomAccounts:!0}),{data:d}=(0,M.SwJ)(),u=(0,S.useCallback)(()=>o(""),[]),c=t===eH.y.Wire,m=t===eH.y.ACH,p=t===eH.y.SWIFT,h=t===eH.y.SEPA,f=(0,S.useMemo)(()=>s.filter(e=>e.bridgeID),[s]),b=(0,S.useMemo)(()=>{let e=[];return(e=f.filter(e=>{var n;return null===(n=e.supportedPaymentRails)||void 0===n?void 0:n.includes(t)}).map(e=>{var t,n;let r=null===(t=e.accountData.accountNumber)||void 0===t?void 0:t.slice(-4),i=null===(n=e.accountData.iban)||void 0===n?void 0:n.slice(-4);return{id:e.id,name:"".concat(e.accountName," ").concat(r||i||"")}})).unshift({id:tv,name:"Add new recipient",prefix:(0,C.jsx)(I.pO,{})}),e},[f,t]),j=(0,S.useCallback)(e=>{let{name:n,nickname:l,bankAccountID:o}=e;if(o===tv)a(i.AddRecipientAddress,{paymentType:t,name:n,nickname:l,recipientFlow:w.Ramp});else{let e=null==f?void 0:f.find(e=>e.id===o),n=null==d?void 0:d.find(e=>{var t;return(null===(t=e.bankAccount)||void 0===t?void 0:t.bankAccountID)===o});if(!p&&!e&&!(null==n?void 0:n.bankAccount)){r("Something went wrong. Please try again.");return}if(p&&(null==n?void 0:n.bankAccount)&&a(i.AddRecipientInfo,{paymentType:t,name:n.name,recipientFlow:w.Ramp,bankAccountInfo:n.bankAccount.bankAccountInfo,bankName:n.bankAccount.bankName,nickname:n.bankAccount.accountFriendlyName||"",beneficiaryAddress:n.bankAccount.beneficiaryAddress,bankAddress:n.bankAccount.bankAddress||null,recipientID:n.id}),!p&&e){var s;let r={bankAccountID:e.id,bankAccountInfo:e.accountData,bankName:(null==n?void 0:null===(s=n.bankAccount)||void 0===s?void 0:s.bankName)||e.accountName,beneficiaryName:e.accountName,beneficiaryAddress:null};a(i.CreateOffRamp,{paymentType:t,recipient:r})}}},[a,i,t,f,d,p]);return(0,C.jsx)(G,{title:"Send money to",currentStep:c?v.Recipient:m?y.Recipient:p?x.Recipient:g.Recipient,steps:c?v:m?y:p?x:g,children:(0,C.jsxs)(ed.ZP,{onSubmit:j,distribute:!0,error:n,children:[(0,C.jsx)(ec.Z,{inverted:!0,name:"bankAccountID",label:"Recipient",required:!0,items:b,onChange:e=>{let{id:t}=e;return o(t)},onClear:u}),l===tv&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(eu.Z,{inverted:!0,required:!0,name:"name",label:"Legal Name"}),(0,C.jsx)(eu.Z,{inverted:!0,name:"nickname",label:"Nickname (optional)"})]}),(0,C.jsx)(ep.Z,{primaryButtonText:"Next",secondaryOnClick:()=>p||h?a(i.SelectI18nSendType):a(i.SelectSendType)})]})})};var tx=n(47296),tg=n(6892);let tb=e=>{let{amount:t}=e,[n,r]=(0,S.useMemo)(()=>(0,tx.Z)(t).split(" ").filter(Boolean),[t]);return(0,C.jsxs)(V.Z,{alignItems:"flex-end",gap:"4px",children:[(0,C.jsx)(z.Z,{variant:"displayLarge",children:n}),(0,C.jsx)(z.Z,{variant:"displaySmall",marginBottom:"4px",marginLeft:"4px",children:r})]})},tj=e=>{let{label:t,value:n,splitValue:r,ruleBelow:i,breakWord:a,fullWidth:l,highlighted:o,lowlighted:s}=e;return(0,C.jsxs)(V.Z,{direction:"vertical",gap:"24px",marginX:l?"-24px":"0",children:[(0,C.jsxs)(V.Z,{gap:"24px",justify:"space-between",paddingX:l?"24px":"0",children:[(0,C.jsx)(z.Z,{flexShrink:0,color:s?"primary30":"white",children:t}),!r&&(0,C.jsx)(z.Z,{color:o?"white":"primary30",textAlign:"right",wordBreak:a?"break-word":void 0,children:n}),r&&(0,C.jsxs)(V.Z,{children:[(0,C.jsx)(z.Z,{children:n}),(0,C.jsx)(z.Z,{marginX:"4px",children:"|"}),(0,C.jsx)(z.Z,{color:"primary30",children:r})]})]}),i&&(0,C.jsx)(L.Z,{faint:!0})]})},tw=e=>{let{sourceAddress:t,networkID:n,stakingProvider:r}=e,[i,a]=(0,S.useState)(null),[l,o]=(0,S.useState)(!1),[s,d]=(0,S.useState)(null),{ModalType:u,openModal:c}=rP(),{data:m}=(0,M.Smy)(),{endorse:p}=(0,ev.Z)(),{display:h}=(0,Q.Z)();(0,S.useEffect)(()=>{let e=async()=>{try{let e=await (0,M.aYe)({sourceAddress:t,networkID:n,providerID:r.id});d(e)}catch(e){a((0,eL.Z)(e))}};e()},[t,n,r]);let f=(0,S.useCallback)(async e=>{if(e){let t=await (0,M.Iu4)(e);t.policy&&t.policy.requiredEndorsementCount>1?c(u.ApprovalsNeeded,{additionalApprovalsNeeded:t.policy.requiredEndorsementCount-1,operationCopy:"claim"}):h({title:"Claim initiated",message:"Successfully initiated claim operation."})}},[c,u,h]),v=(0,S.useCallback)(async()=>{if(m){o(!0);try{let{operationID:e}=await (0,M.lrr)({sourceAddress:t,networkID:n,providerID:r.id,maxFee:s.maxFee}),i=(0,ef.Z)({operationID:e,organizationID:m.organizationID,addressSubID:t.addressSubID,networkID:t.networkID},eC.C8.BlockchainClaim);p({operationID:e,payload:i,onComplete:f})}catch(e){a((0,eL.Z)(e,"Failed to claim assets. Please try again."))}finally{o(!1)}}},[m,t,n,r,s,p,f]);return(0,C.jsx)(G,{title:"Confirm Claim",children:(0,C.jsxs)(ed.ZP,{onSubmit:v,error:i||void 0,distribute:!0,children:[(0,C.jsxs)(V.Z,{direction:"vertical",borderRadius:"large",borderColor:"primary70",borderWidth:"1px",children:[(0,C.jsx)(V.Z,{paddingY:"4px",alignSelf:"center",children:(0,C.jsx)(tb,{amount:null==s?void 0:s.amount})}),(0,C.jsx)(L.Z,{faint:!0}),!s&&(0,C.jsx)(V.Z,{justify:"center",paddingY:"lg",children:(0,C.jsx)(tg.Z,{})}),!!s&&(0,C.jsxs)(V.Z,{direction:"vertical",padding:"lg",gap:"lg",children:[(0,C.jsx)(tj,{label:"Amount",value:(0,tx.Z)(s.amount),splitValue:(0,ee.Z)(s.amountInUSD),ruleBelow:!0}),(0,C.jsx)(tj,{label:"Max network fee",value:(0,tx.Z)(s.maxFee),splitValue:(0,ee.Z)(s.maxFeeInUSD),ruleBelow:!0})]})]}),!!s&&(0,C.jsx)(ep.Z,{primaryButtonText:"Claim",disabled:l||!!i||!s,loading:l})]})})},tZ=e=>{var t;return(null===(t=e.replace("-","").split(".")[1])||void 0===t?void 0:t.length)>2?parseFloat(e).toFixed(2).toString():e},tA=e=>(0,C.jsx)(eu.Z,{type:"number",placeholder:"$0.00",currencyPrefix:!0,currencySymbol:"$",formatFunc:tZ,step:"0.01",...e});var tC=n(44359);let tS={DEPOSIT:{WIRE:"Arrives 1-2 business days",ACH:"Arrives 1-2 business days",I18N:"Arrives 1-5 business days",SWIFT:"Arrives 1-5 business days",SEPA:"Arrives 1-2 business days",CRYPTO:"Arrives instantly"},WITHDRAWAL:{WIRE:"Arrives 1-2 business days",ACH:"Arrives 1-2 business days",I18N:"Arrives 1-5 business days",SWIFT:"Arrives 3-5 business days",SEPA:"Arrives 1-2 business days",CRYPTO:"Arrives instantly"}},tk=e=>{var t;let{paymentType:n,initialAmount:r,initialMemo:i,recipient:a}=e,[l,o]=(0,S.useState)(),{query:s}=(0,tu.useRouter)(),{ModalType:d,openModal:u}=rP(),c=(null==s?void 0:null===(t=s.accountID)||void 0===t?void 0:t.toString())||"",[m,p]=(0,S.useState)(c),[h,f]=(0,S.useState)(),{data:b=[]}=(0,M.kf3)(),{data:j=[]}=(0,M.gM6)(),{data:w=[]}=(0,M._DB)(),{data:Z=[]}=(0,M.Ilo)(),[A,k]=(0,S.useState)(""),[I,D]=(0,S.useState)(""),[_,E]=(0,S.useState)(""),[R,T]=(0,S.useState)(""),{flags:N}=(0,eG.g)(),P=n===eH.y.Wire,q=n===eH.y.ACH,B=n===eH.y.SWIFT,U=n===eH.y.SEPA,{rampCurrencies:F,rampCurrencySymbols:O}=tl(),W=(0,S.useMemo)(()=>F.map(e=>({name:e.name,id:e.symbol,detail:e.symbol})),[F]),K=(0,S.useMemo)(()=>{let e=new Set;return j.forEach(t=>{let{balances:n}=t;n.forEach(t=>{var n;let r=null===(n=t.amount)||void 0===n?void 0:n.currency.symbol;(r!==ta.AA.symbol||t.networkID.includes("ethereum"))&&(!(parseFloat(t.amountInUSD)>0)||(B||U)&&r!==ta.gn.symbol||e.add(r))})}),W.filter(t=>e.has(t.id))},[j,W,B,U]),V=(0,S.useMemo)(()=>{let e=new Set;return j.forEach(t=>{let{address:n,balances:r}=t,i=r.some(e=>{var t;let n=null===(t=e.amount)||void 0===t?void 0:t.currency.symbol;return!!((n!==ta.AA.symbol||e.networkID.includes("ethereum"))&&(n!==ta.ug.symbol||e.networkID.includes("base")))&&R===n&&parseFloat(e.amountInUSD)>0});i&&e.add(n.accountID)}),e},[j,R]),L=(0,S.useCallback)(e=>{let t=j.find(t=>t.address.accountID===m&&t.address.canonicalAddress===e);if(!t)return"0";let n=t.balances.filter(e=>{var t,n;return O.includes((null===(t=e.amount)||void 0===t?void 0:t.currency.symbol)||"")&&(null===(n=e.amount)||void 0===n?void 0:n.currency.symbol)===R&&!e.locked}).map(e=>e.amountInUSD).filter(e=>parseInt(e)>0).reduce((e,t)=>e+parseInt(t),0);return n||"0"},[j,m,O,R]),Y=(0,S.useCallback)(e=>{var t;let n=j.find(e=>e.address.accountID===m&&e.address.canonicalAddress===h);return(null===(t=null==n?void 0:n.balances.find(t=>t.networkID===e))||void 0===t?void 0:t.amountInUSD)||"0"},[h,m,j]),z=(0,S.useMemo)(()=>{let e=[];return j.forEach(t=>{let{address:n,balances:r}=t;m===n.accountID&&r.some(e=>{var t;return(null===(t=e.amount)||void 0===t?void 0:t.currency.symbol)===R&&parseInt(e.amountInUSD)>0})&&(R!==ta.AA.symbol||r.some(e=>{var t;return(null===(t=e.amount)||void 0===t?void 0:t.currency.symbol)===ta.AA.symbol&&e.networkID.includes("ethereum")}))&&(R!==ta.ug.symbol||r.some(e=>{var t;return(null===(t=e.amount)||void 0===t?void 0:t.currency.symbol)===ta.ug.symbol&&e.networkID.includes("base")}))&&e.push({id:n.canonicalAddress,name:n.name||"",detail:(0,ee.Z)(L(n.canonicalAddress))})}),e},[j,R,m,L]),H=(0,S.useMemo)(()=>{let e=j.filter(e=>{let{address:t}=e;return t.accountID===m&&t.canonicalAddress===h}).flatMap(e=>{let{balances:t}=e;return t}).filter(e=>{let{amount:t,networkID:n}=e;return!!t&&R===t.currency.symbol&&O.includes(R)&&!(R===ta.AA.symbol&&!n.includes("ethereum"))&&!(R===ta.ug.symbol&&!n.includes("base"))}).map(e=>{let{networkID:t}=e;return t}),t=Z.filter(t=>e.includes(t.id));return 1===t.length&&E(t[0].id),t.map(e=>({name:e.name,id:e.id,detail:(0,ee.Z)(Y(e.id))}))},[j,Z,m,h,R,O,Y]),$=(0,S.useCallback)(async e=>{let{amount:t,accountID:r,currencySymbol:i,memo:l,wireMessage:s}=e,c=b.find(e=>e.id===r),m=w.find(e=>e.canonicalAddress===h),p=F.find(e=>e.symbol===i);if(!m||!c||!p)return;let{supportedNetworks:f,...v}=p,y={value:t,currency:v},x={address:m,amount:y,networkID:_};if(N.NEW_OFFRAMP_API){let e=await (0,M.d3x)({source:x});u(d.ReviewOffRamp,{amount:y,sourceAccount:c,sourceAddress:m,preparedData:e,memo:l,paymentType:n,recipient:a,wireMessage:s,networkID:_})}else{let e=n==eH.y.SEPA?ta.Ow:ta.qY,t={payment_type:n,bank_account_id:(null==a?void 0:a.bankAccountID)||"",currency:e};P&&(t.wire_message=s);let{depositInstructions:r,transferID:i}=await (0,M.NIy)({source:x,destination:t}),p=r.address;if(!p){o("Transfer failed. Please try again.");return}r.amount&&(y=r.amount);let h=await (0,M.iAe)({sourceAddress:m,destinationAddress:p,amount:y,networkID:_,rampTransferID:i});u(d.ReviewTransferDeprecated,{amount:y,sourceAccount:c,sourceAddress:m,destinationAddress:p,memo:l,paymentType:n,recipient:a,transferData:h,transferID:i,wireMessage:s,networkID:_})}},[b,w,F,_,N.NEW_OFFRAMP_API,h,u,d.ReviewOffRamp,d.ReviewTransferDeprecated,n,a,P]),J=(0,S.useCallback)(()=>{k(I)},[k,I]),X=(0,S.useMemo)(()=>{if(!A)return;let e=B?eC.be:eC.En;if(!(parseFloat(A)>=e)&&parseFloat(A)!==eC.RB)return"Amount must be at least ".concat((0,ee.Z)(e))},[A,B]);return(0,C.jsx)(G,{title:"".concat(P?"Wire":q?"ACH":B?"SWIFT":"SEPA"," Transfer"),description:P?tS.WITHDRAWAL.WIRE:q?tS.WITHDRAWAL.ACH:B?tS.WITHDRAWAL.SWIFT:tS.WITHDRAWAL.SEPA,currentStep:P?v.Details:q?y.Details:B?x.Details:g.Details,steps:P?v:q?y:B?x:g,children:(0,C.jsxs)(ed.ZP,{onSubmit:$,distribute:!0,defaultServerError:"Failed to prepare transfer. Please try again.",error:l||X,children:[(0,C.jsx)(tA,{inverted:!0,onBlur:J,onChange:D,name:"amount",label:"Amount",defaultValue:r,borderRadius:"medium",required:!0}),(0,C.jsx)(ec.Z,{required:!0,inverted:!0,label:"Withdrawal currency",name:"currencySymbol",placeholder:"Choose a currency",onChange:e=>T(e.id),items:K}),(0,C.jsx)(tC.Z,{label:"Withdrawal account",accountIDs:V,onChange:e=>p(e.id),currencySymbol:R}),(0,C.jsx)(ec.Z,{required:!0,inverted:!0,label:"Withdrawal address",placeholder:"Choose an address",name:"addressID",items:z,onChange:e=>f(e.id)}),H.length>1&&(0,C.jsx)(ec.Z,{inverted:!0,required:!0,label:"Network",name:"networkID",placeholder:"Choose a network",items:H,initialItem:H.find(e=>e.id===_),onChange:e=>E(e.id)}),P&&(0,C.jsx)(eV.Z,{inverted:!0,height:"100px",width:"280px",resize:"none",label:"Wire message",name:"wireMessage",placeholder:"Sent to the recipient (e.g, For Further Credit, For Benefit Of)"}),(0,C.jsx)(eV.Z,{inverted:!0,height:"80px",width:"280px",resize:"none",label:"Memo",name:"memo",placeholder:"Only visible to internal members of your organization",defaultValue:i}),(0,C.jsx)(ep.Z,{disabled:!!X,primaryButtonText:"Next",secondaryOnClick:()=>u(d.ChooseRecipient,{paymentType:n})})]})})},tI=e=>{let{onSubmit:t}=e,{ModalType:n,openModal:r}=rP(),[i,a]=(0,S.useState)(""),[l,o]=(0,S.useState)(""),s=(0,S.useCallback)(e=>{let{amount:i,purposeOfFunds:a,senderName:l,country:o,address1:s,address2:d,city:u,state:c,zip:m,businessDescription:p,relationship:h}=e;r(n.BankInfoForSwift,{amount:i,purposeOfFunds:a,senderName:l,senderAddress:{street_line_1:s,street_line_2:d||"",city:u,state:c,postal_code:m,country:o},businessDescription:p,relationship:h}),t&&t()},[t,n,r]),d=(0,S.useCallback)(()=>{a(l)},[a,l]),u=(0,S.useMemo)(()=>{if(i&&!(parseFloat(i)>=eC.QF)&&parseFloat(i)!==eC.RB)return"Amount must be at least ".concat((0,ee.Z)(eC.QF))},[i]);return(0,C.jsx)(G,{title:"Account info",description:"Please provide the required transaction information.",currentStep:j.AccountInfo,steps:j,children:(0,C.jsxs)(ed.ZP,{onSubmit:s,distribute:!0,error:u,children:[(0,C.jsx)(tA,{inverted:!0,onBlur:d,onChange:o,name:"amount",label:"Amount (USD)",borderRadius:"medium",required:!0}),(0,C.jsx)(ec.Z,{inverted:!0,required:!0,name:"purposeOfFunds",label:"Purpose of funds",items:tn}),(0,C.jsx)(eu.Z,{inverted:!0,name:"businessDescription",label:"Short business description",placeholder:"ex: Technology platform",required:!0}),(0,C.jsx)(eu.Z,{inverted:!0,name:"senderName",label:"Sender name",required:!0}),(0,C.jsx)(ec.Z,{inverted:!0,required:!0,name:"relationship",label:"Relationship to Sender",items:tt}),(0,C.jsx)(eX,{}),(0,C.jsx)(ep.Z,{disabled:!!u,primaryButtonText:"Next",secondaryOnClick:()=>r(n.SelectI18nDepositType)})]})})},tD=e=>{var t,n;let{onSubmit:r}=e,i=(0,em.Z)(),{ModalType:a,openModal:l}=rP(),[o,s]=(0,S.useState)(i),{data:d=[]}=(0,M.gM6)(),{data:u=[]}=(0,M.eXZ)(),{data:c}=(0,M.waZ)(),{data:m}=(0,M.m7G)((null==c?void 0:c.id)||""),{data:p=[]}=(0,M.loN)(),{rampCurrencies:h}=tl(),[f,v]=(0,S.useState)(""),[y,x]=(0,S.useState)(""),[g,b]=(0,S.useState)((null==m?void 0:null===(t=m.defaultNetworkCurrency)||void 0===t?void 0:t.symbol)||""),[j,w]=(0,S.useState)((null==m?void 0:null===(n=m.defaultNetworkCurrency)||void 0===n?void 0:n.network.id)||""),[,Z]=(0,S.useState)("");(0,S.useEffect)(()=>{if(m){let{defaultNetworkCurrency:e}=m;b(e.symbol),w(e.network.id)}},[m]);let A=(0,S.useMemo)(()=>p[0].bankBeneficiaryAddress,[p]),k=(0,S.useMemo)(()=>{let e=new Set;return d.forEach(t=>{var n,r;let{address:i}=t;g&&((null===(n=i.family)||void 0===n?void 0:n.id.includes("ethereum"))||(null===(r=i.family)||void 0===r?void 0:r.id.includes("solana")))&&e.add(i.accountID)}),e},[d,g]),I=(0,S.useMemo)(()=>h.map(e=>({name:e.name,id:e.symbol})),[h]),D=(0,S.useMemo)(()=>{var e;return g&&(null===(e=null==u?void 0:u.find(e=>e.symbol===g))||void 0===e?void 0:e.supportedNetworks.map(e=>({id:e.id,name:e.name})))||[]},[u,g]),_=(0,S.useMemo)(()=>{let e=[];return d.forEach(t=>{var n,r;let{address:i}=t;o&&i.accountID===o&&(null===(n=i.compatibleNetworks)||void 0===n?void 0:n.includes(j))&&(g!==ta.AA.symbol||(null===(r=i.family)||void 0===r?void 0:r.name.toLowerCase())==="ethereum")&&e.push({id:i.canonicalAddress,name:i.name||"",detail:(0,et.Z)(i.canonicalAddress,!0,12)})}),e},[d,o,g,j]),E=(0,S.useCallback)(async e=>{var t,n,i;let{amount:o,addressID:s,accountID:m}=e,p=null===(t=d.find(e=>e.address.canonicalAddress===s))||void 0===t?void 0:t.address,h=null===(n=d.find(e=>e.address.accountID===m&&"Primary"===e.address.name))||void 0===n?void 0:n.address,f=null===(i=d.find(e=>e.address.accountID===m))||void 0===i?void 0:i.address,v=u.map(e=>({name:e.name,symbol:e.symbol})).find(e=>e.symbol===g),y=p||h||f;if(!y||!v)return;let{deposit_instructions:x}=await (0,M.VZ1)({source:{payment_type:eH.y.Wire,amount:{value:o,currency:ta.qY}},destination:{currency:v,address:{...y,networkID:j}}});l(a.ReviewWireDeposit,{bankName:x.bank_name,bankAddress:x.bank_address,accountNumber:x.bank_account_number,routingNumber:x.bank_routing_number,bankBeneficaryName:(null==c?void 0:c.name)||"",depositMessage:x.deposit_message,bankBeneficiaryAddress:A||""}),r&&r()},[r,a,l,d,u,g,j,c,A]),R=(0,S.useCallback)(()=>{v(y)},[v,y]),T=(0,S.useMemo)(()=>{if(f&&!(parseFloat(f)>=eC.En))return"Amount must be at least $".concat(eC.En)},[f]);return(0,C.jsx)(G,{title:"Wire Transfer",description:tS.DEPOSIT.WIRE,children:(0,C.jsxs)(ed.ZP,{onSubmit:E,distribute:!0,error:T,defaultServerError:"Conversion failed. Please try again.",children:[(0,C.jsx)(tA,{inverted:!0,onBlur:R,onChange:x,min:eC.En,name:"amount",label:"Amount",borderRadius:"medium",required:!0}),(0,C.jsx)(tC.Z,{label:"Deposit account",accountIDs:k,onChange:e=>s(e.id)}),(0,C.jsx)(ec.Z,{required:!0,inverted:!0,label:"Deposit currency",placeholder:"Choose an currency",name:"currencySymbol",initialItem:I.find(e=>e.id===g),onChange:e=>{b(e.id)},items:I}),(0,C.jsx)(ec.Z,{required:!0,inverted:!0,label:"Network",placeholder:"Choose a network",name:"networkID",initialItem:D.find(e=>e.id===j),items:D,onChange:e=>w(e.id)}),(0,C.jsx)(ec.Z,{required:!0,inverted:!0,label:"Deposit address",description:"This is where your digital dollar will be stored once its converted",placeholder:"Choose an address",name:"addressID",onChange:e=>Z(e.id),items:_}),(0,C.jsx)(ep.Z,{primaryButtonText:"Next",secondaryOnClick:()=>l(a.SelectDepositType)})]})})},t_=e=>{var t,n;let{amount:r,senderName:i,senderAddress:a,bankName:l,bankAddress:o,accountNumber:s,iban:d,bic:u,businessDescription:c,relationship:m,purposeOfFunds:p,onSubmit:h}=e,f=(0,em.Z)(),{ModalType:v,openModal:y}=rP(),[x,g]=(0,S.useState)(f),{data:b=[]}=(0,M._DB)(),{data:w=[]}=(0,M.Ilo)(),{data:Z=[]}=(0,M.kf3)(),{data:A=[]}=(0,M.eXZ)(),{data:k}=(0,M.waZ)(),{data:I}=(0,M.m7G)((null==k?void 0:k.id)||""),{rampCurrencies:D}=tl(),[_,E]=(0,S.useState)((null==I?void 0:null===(t=I.defaultNetworkCurrency)||void 0===t?void 0:t.symbol)||""),[R,T]=(0,S.useState)((null==I?void 0:null===(n=I.defaultNetworkCurrency)||void 0===n?void 0:n.network.id)||""),[N,P]=(0,S.useState)("");(0,S.useEffect)(()=>{if(I&&!R){let{defaultNetworkCurrency:e}=I;T(e.network.id)}},[R,I]);let q=(0,S.useMemo)(()=>new Set(Z.map(e=>e.id)),[Z]),B=(0,S.useMemo)(()=>D.filter(e=>e.symbol===ta.gn.symbol).map(e=>({name:e.name,id:e.symbol})),[D]),U=(0,S.useMemo)(()=>{var e,t;return _&&N&&(null===(e=b.find(e=>e.canonicalAddress===N))||void 0===e?void 0:null===(t=e.compatibleNetworks)||void 0===t?void 0:t.map(e=>{var t;return{id:e,name:(null===(t=w.find(t=>t.id===e))||void 0===t?void 0:t.name)||""}}))||[]},[_,N,b,w]),F=(0,S.useMemo)(()=>{let e=[];return b.forEach(t=>{var n;x&&t.accountID===x&&(null===(n=t.compatibleNetworks)||void 0===n?void 0:n.includes(R))&&e.push({id:t.canonicalAddress,name:t.name||"",detail:(0,et.Z)(t.canonicalAddress,!0,12)})}),e},[b,x,R]),O=(0,S.useCallback)(e=>{let{addressID:t,accountID:n}=e,f=b.find(e=>e.canonicalAddress===t),x=b.find(e=>e.accountID===n&&"Primary"===e.name),g=b.find(e=>e.accountID===n),j=A.map(e=>({name:e.name,symbol:e.symbol})).find(e=>e.symbol===_),w=f||x||g,C=Z.find(e=>{let{id:t}=e;return t===n});w&&j&&C&&(y(v.ReviewSwiftDeposit,{amount:r,senderName:i,senderAddress:a,bankName:l,bankAddress:o,accountNumber:s,iban:d,bic:u,businessDescription:c,relationship:m,purposeOfFunds:p,account:C,currency:j,address:w,networkID:R}),h&&h())},[b,A,Z,y,v,r,i,a,l,o,s,d,u,c,m,p,R,h,_]);return(0,C.jsx)(G,{title:"Account info",description:"Please provide the required transaction information.",currentStep:j.DakotaInfo,steps:j,children:(0,C.jsxs)(ed.ZP,{onSubmit:O,distribute:!0,defaultServerError:"Submission failed. Please try again.",children:[(0,C.jsx)(tC.Z,{label:"Deposit account",accountIDs:q,onChange:e=>g(e.id)}),(0,C.jsx)(ec.Z,{required:!0,inverted:!0,label:"Deposit currency",placeholder:"Choose an currency",name:"currencySymbol",initialItem:B.find(e=>e.id===_),onChange:e=>{E(e.id)},items:B}),(0,C.jsx)(ec.Z,{required:!0,inverted:!0,label:"Deposit address",placeholder:"Choose an address",name:"addressID",onChange:e=>P(e.id),items:F}),(0,C.jsx)(ec.Z,{required:!0,inverted:!0,label:"Network",placeholder:"Choose a network",name:"networkID",initialItem:U.find(e=>e.id===R),items:U,onChange:e=>T(e.id)}),(0,C.jsx)(ep.Z,{primaryButtonText:"Next",secondaryOnClick:()=>y(v.BankInfoForSwift)})]})})},tE=e=>{let{accountID:t}=e,{closeModal:n}=rP(),{display:r}=(0,Q.Z)(),[i,a]=(0,S.useState)(!1),[l,o]=(0,S.useState)(""),{refetch:s}=(0,M.uhj)(t),{data:d=[]}=(0,M.kf3)(),u=(0,S.useMemo)(()=>{var e;return null===(e=d.find(e=>e.id===t))||void 0===e?void 0:e.name},[d,t]),c=(0,S.useCallback)(async()=>{a(!0);try{await (0,M.Hd4)(t,{settingName:eS.TR.DefiEnabled,settingEnabled:!0}),s(),n(),r({title:"DeFi enabled",message:"".concat(u," has full access to DeFi.")})}catch(e){console.error(e),o((0,eL.Z)(e,"Something went wrong while enabling DeFi. Please try again."))}finally{a(!1)}},[t,s,n,r,u]);return(0,C.jsx)(G,{title:"Enable DeFi",children:(0,C.jsxs)(ed.ZP,{onSubmit:c,distribute:!0,error:l,children:[(0,C.jsx)(z.Z,{as:"p",variant:"bodyLarge",children:"This action enables all addresses in this account to interact with the broader crypto ecosystem through a WalletConnect integration."}),(0,C.jsx)(z.Z,{as:"p",variant:"bodyLarge",children:'Transfers are governed by the withdrawal policies in the account. All other\n        operations are governed by your "blind signing" policy.'}),(0,C.jsx)(ep.Z,{primaryButtonText:"Enable",disabled:i,loading:i})]})})},tR=e=>{var t;let{address:n}=e,{data:r=[]}=(0,M.gM6)({accountID:n.accountID},{query:{enabled:!!n.accountID}});return(null===(t=r.find(e=>{let{address:t}=e;return t.canonicalAddress===n.canonicalAddress}))||void 0===t?void 0:t.amountInUSD)||"0"};var tT=n(43113);let tN=e=>{let{address:t,onSubmit:n}=e,[r,i]=(0,S.useState)(!1),[a,l]=(0,S.useState)(""),o=tR({address:t}),s=(0,S.useMemo)(()=>parseFloat(o)>50?(0,ee.Z)(o):null,[o]),d=(0,S.useCallback)(async()=>{if(t)try{i(!0),await (0,M._NA)(t.canonicalAddress),n&&n(t.name||"")}catch(e){console.error(e),l((0,eL.Z)(e,"Something went wrong while updating the address. Please try again."))}finally{i(!1)}},[t,l,i,n]),u=(0,S.useMemo)(()=>s?"The ".concat(t.name," address still has a balance of\n        ").concat(s,". Please transfer those funds to another address\n        and try again."):"This will archive the ".concat(t.name," address. Are you sure you want to proceed?"),[s,t]);return(0,C.jsx)(G,{title:"Archive address",children:(0,C.jsxs)(ed.ZP,{onSubmit:d,error:a,children:[(0,C.jsx)(tp.Z,{message:u,icon:(0,C.jsx)(tT.Z,{size:"48px"})}),(0,C.jsx)(ep.Z,{primaryButtonText:"Archive",loading:r,disabled:r||!!s})]})})};var tP=n(39635);let tq=e=>{let{account:t,onSubmit:n}=e,[r,i]=(0,S.useState)(!1),[a,l]=(0,S.useState)(""),{accounts:o}=(0,tP.Z)(),s=(0,S.useMemo)(()=>{var e;let n=null===(e=o.find(e=>e.id===t.id))||void 0===e?void 0:e.amountInUSD;return n&&parseFloat(n)>50?(0,ee.Z)(n):null},[o,t]),d=(0,S.useCallback)(async()=>{try{i(!0),await (0,M.tmw)(t.id),n&&n()}catch(e){l("Something went wrong. Please try again.")}finally{i(!1)}},[t,n,l,i]),u=(0,S.useMemo)(()=>s?"The ".concat(t.name," account still has a balance of\n      ").concat(s,". Please transfer those funds to another account\n      and try again."):"This will permanently delete the ".concat(t.name," account and archive\n    its addresses. Are you sure you want to proceed?"),[s,t]);return(0,C.jsx)(G,{title:"Delete Account",children:(0,C.jsxs)(ed.ZP,{onSubmit:d,distribute:!0,error:a,children:[(0,C.jsx)(tp.Z,{message:u,icon:(0,C.jsx)(tT.Z,{size:"48px"})}),(0,C.jsx)(ep.Z,{primaryButtonText:"Confirm",disabled:r||!!s,loading:r})]})})};var tB=n(77781);let tU=e=>{let{accountID:t,policy:n,onDelete:r}=e,[i,a]=(0,S.useState)(!1),[l,o]=(0,S.useState)(""),{data:s=[],isLoading:d}=(0,M.$wb)(eS.Z5.APPROVE_TRANSFER,{accountID:t},{query:{enabled:!!t}}),{endorse:u}=(0,ev.Z)(),c=(0,S.useCallback)(async()=>{try{if(a(!0),1===s.length){a(!1),o("You cannot remove the only remaining approver threshold.");return}let e=(0,tB.Z)(s.filter(e=>e.accountID!==t||e.maxAmountUSD!==n.maxAmountUSD)),{operationID:i}=await (0,M.$Z7)(eS.Z5.APPROVE_TRANSFER,{policies:e}),l=(0,ef.Z)({operationID:i,policies:e},eC.C8.UpdatePolicies);u({operationID:i,payload:l,onComplete:r})}catch(e){o("Something went wrong. Please try again")}finally{a(!1)}},[t,r,n,s,u,a,o]),m=n.maxAmountUSD?"up to ".concat((0,ee.Z)(n.maxAmountUSD,!0)):"of any amount";return(0,C.jsx)(G,{title:"Delete approver threshold",children:(0,C.jsxs)(ed.ZP,{onSubmit:c,error:l,children:[(0,C.jsx)(tp.Z,{message:"Are you sure you want to remove the approver threshold for withdrawals{' '}\n          ".concat(m,"?"),icon:(0,C.jsx)(tT.Z,{size:"48px"})}),(0,C.jsx)(ep.Z,{primaryButtonText:"Delete",disabled:d||i,loading:i})]})})},tF=e=>{let{accountID:t,policy:n,onClose:r,onDelete:i}=e,a=(0,S.useCallback)(()=>{r&&r()},[r]),[l,o]=(0,S.useState)(!1),[s,d]=(0,S.useState)(""),{data:u=[],isLoading:c}=(0,M.$wb)(eS.Z5.INITIATE_TRANSFER,{accountID:t},{query:{enabled:!!t}}),{endorse:m}=(0,ev.Z)(),p=(0,S.useCallback)(async()=>{try{if(!n)return;o(!0);let e=(0,tB.Z)(u.filter(e=>e.maxAmountUSD!==n.maxAmountUSD)),{operationID:t}=await (0,M.$Z7)(eS.Z5.INITIATE_TRANSFER,{policies:e}),r=(0,ef.Z)({operationID:t,policies:e},eC.C8.UpdatePolicies);m({operationID:t,payload:r,onComplete:i})}catch(e){d("Something went wrong. Please try again")}finally{o(!1)}},[i,u,m,n,o,d]);if(!n)return a(),null;let h=n.maxAmountUSD?"up to ".concat((0,ee.Z)(n.maxAmountUSD,!0)):"of any amount";return(0,C.jsx)(G,{title:"Delete initiator threshold",children:(0,C.jsxs)(ed.ZP,{onSubmit:p,error:s,children:[(0,C.jsx)(tp.Z,{message:"Are you sure you want to remove the initiator threshold for\n          withdrawals ".concat(h,"?"),icon:(0,C.jsx)(tT.Z,{size:"48px"})}),(0,C.jsx)(ep.Z,{primaryButtonText:"Delete",disabled:c||l,loading:l})]})})},tM=e=>{let{user:t}=e,{endorse:n}=(0,ev.Z)(),r=(0,S.useCallback)(async()=>{let{operationID:e}=await (0,M.Q36)(t.id),r=(0,ef.Z)({operationID:e},eC.C8.UpdateEncryptionKey);n({operationID:e,payload:r})},[n,t]);return(0,C.jsx)(G,{title:"Reset PIN",children:(0,C.jsxs)(ed.ZP,{onSubmit:r,children:[(0,C.jsx)(tp.Z,{message:"Are you sure you would like to reset the PIN for ".concat((0,eM.Z)(t),"?\n          This action cannot be undone."),icon:(0,C.jsx)(th.Z,{size:"48px"})}),(0,C.jsx)(ep.Z,{primaryButtonText:"Confirm"})]})})},tO=e=>{let{user:t,onClose:n,onDelete:r}=e,{data:i=[],isLoading:a}=(0,M.jIf)(),{data:l=[],isLoading:o}=(0,M.y$c)(),s=(0,S.useMemo)(()=>{var e;if(!(null==t?void 0:null===(e=t.signingKey)||void 0===e?void 0:e.publicKey))return!1;for(let e of i)for(let n of e.policies)if(n.allowedEndorsers.find(e=>(null==e?void 0:e.ownerID)===(null==t?void 0:t.id)))return!0;return!1},[t,i]),d=(0,S.useMemo)(()=>{if(!t)return!1;for(let n of l){var e;if(null===(e=n.keys)||void 0===e?void 0:e.map(e=>null==e?void 0:e.ownerID).includes(t.id))return!0}return!1},[t,l]),u=(0,S.useCallback)(()=>{n&&n()},[n]),[c,m]=(0,S.useState)(!1),[p,h]=(0,S.useState)(""),f=(0,S.useCallback)(async(e,t)=>{try{m(!0),await (0,M.h8f)(e),r&&r(t)}catch(e){console.error("e :>> ",e),m(!1),h(String(e))}},[h,m,r]);if(!t)return u(),null;let v=(0,eM.Z)(t);return(0,C.jsx)(G,{title:"Delete team member",children:(0,C.jsxs)(ed.ZP,{onSubmit:()=>f(t.id,v),error:s?"User cannot be removed, they are part of a security policy.":d?"User cannot be removed, they are in a user group.":p||void 0,children:[(0,C.jsx)(tp.Z,{message:"Are you sure you would like to remove ".concat(v," from the team? This\n          action cannot be undone."),icon:(0,C.jsx)(tT.Z,{size:"48px"})}),(0,C.jsx)(ep.Z,{primaryButtonText:"Delete",loading:c,disabled:c||a||o||s||d})]})})},tW=e=>{let{group:t,onClose:n,onDelete:r}=e,{data:i=[],isLoading:a}=(0,M.jIf)(),l=(0,S.useMemo)(()=>{for(let n of i)for(let r of n.policies){var e;if(null===(e=r.groupIDs)||void 0===e?void 0:e.find(e=>e===t.id))return!0}return!1},[t,i]),o=(0,S.useCallback)(()=>{n&&n()},[n]),[s,d]=(0,S.useState)(!1),[u,c]=(0,S.useState)(""),m=(0,S.useCallback)(async(e,t)=>{try{d(!0),await (0,M.FU4)(e),r&&r(t)}catch(e){console.error("Error deleting user group :>> ",e),d(!1),c(String(e))}},[c,d,r]);return t?(0,C.jsx)(G,{title:"Delete user group",children:(0,C.jsxs)(ed.ZP,{onSubmit:()=>m(t.id,t.name),error:l?"The ".concat(t.name," user group cannot be removed because it is part of a security policy. Remove it from all security policies and try again."):u||void 0,children:[(0,C.jsx)(tp.Z,{message:"Are you sure you would like to remove the ".concat(t.name," user group?\n          This action cannot be undone."),icon:(0,C.jsx)(tT.Z,{size:"48px"})}),(0,C.jsx)(ep.Z,{primaryButtonText:"Delete",loading:s,disabled:s||a||l})]})}):(o(),null)};var tK=n(77594);let tV=e=>{var t,n,r,i,a,l,o,s,d,u,c,m,p,h,f,v;let{recipient:y}=e,{ModalType:x,openModal:g,closeModal:b}=rP(),{refetch:j}=(0,M.SwJ)(),{display:w}=(0,Q.Z)(),[Z,A]=(0,S.useState)(),{bankAccount:k,paymentType:I}=y,D=k&&I===eH.u.SWIFT,_=k&&I===eH.u.SEPA,E=k&&I===eH.u.Wire,R=k&&I===eH.u.ACH,[T,P]=(0,S.useState)(""),[q,B]=(0,S.useState)(null==k?void 0:k.bankAccountInfo.iban),[U,F]=(0,S.useState)(null==k?void 0:k.bankAccountInfo.accountNumber),O=(0,S.useMemo)(()=>!!(q||U),[q,U]),[W,K]=(0,S.useState)(eJ.o.find(e=>{let{id:t}=e;return"USA"===t})),[Y,H]=(0,S.useState)(eJ.o.find(e=>{let{id:t}=e;return"USA"===t})),{data:$,refetch:J}=(0,M.E2U)((null==W?void 0:W.id)||"USA"),{data:X,refetch:ee}=(0,M.E2U)((null==Y?void 0:Y.id)||"USA"),et=(0,S.useMemo)(()=>{var e;return null==$?void 0:null===(e=$.subdivisions)||void 0===e?void 0:e.sort((e,t)=>e.name.localeCompare(t.name)).map(e=>({id:e.code,name:e.name}))},[$]),en=(0,S.useMemo)(()=>{var e;return null==X?void 0:null===(e=X.subdivisions)||void 0===e?void 0:e.sort((e,t)=>e.name.localeCompare(t.name)).map(e=>({id:e.code,name:e.name}))},[X]);(0,S.useEffect)(()=>{(null==W?void 0:W.id)&&J(),(null==Y?void 0:Y.id)&&ee()},[W,Y,J,ee]),(0,S.useEffect)(()=>{K(eJ.o.find(e=>{var t,n;return e.id===(null===(t=y.bankAccount)||void 0===t?void 0:null===(n=t.beneficiaryAddress)||void 0===n?void 0:n.country.toUpperCase())})),H(eJ.o.find(e=>{var t,n;return e.id===(null===(t=y.bankAccount)||void 0===t?void 0:null===(n=t.bankAddress)||void 0===n?void 0:n.country.toUpperCase())}))},[y]);let er=(0,S.useMemo)(()=>(null==W?void 0:W.id)==="USA",[W]),ei=e=>{K(e)},ea=e=>{H(e)},el=(0,S.useMemo)(()=>{if(!W||!Y)return[];let e=tr.includes(W.id)||tr.includes(Y.id);return D&&e?e7:tt},[W,Y,D]),eo=(0,S.useCallback)(async e=>{let{nickname:t,name:n,address1:r,address2:i,city:a,state:l,zip:o,country:s,bankName:d,accountNumber:u,routingNumber:c,wireRoutingNumber:m,bic:p,iban:h,bankAddress1:f,bankAddress2:v,bankCity:x,bankState:g,bankZip:Z,bankCountry:A,businessDescription:C,category:S,purposeOfFunds:k}=e;if(D||_){if(h&&!e8(h)){P("Please enter a valid IBAN.");return}if(p&&!e3(p)){P("Please enter a valid SWIFT / BIC.");return}}await (0,M.Ynv)(y.id,{...y,name:t||n,bankAccount:((e,y)=>{let b={bankName:d,bankAccountInfo:{accountNumber:u,...e||y?{bic:e5(p),iban:e5(h)}:{routingNumber:c,wireRoutingNumber:m}},beneficiaryName:n,beneficiaryAddress:{street_line_1:r,street_line_2:i,city:a,state:l,postal_code:o,country:s}};return e?{...b,bankAddress:{street_line_1:f,street_line_2:v,city:x,state:g,postal_code:Z,country:A},accountFriendlyName:t,businessDescription:C,category:S,purposeOfFunds:k}:b})(!!D,!!_)}),j(),b(),w({title:"Recipient updated",message:"".concat(t," has been successfully updated")})},[D,_,y,j,b,w]),es=(0,S.useCallback)(async()=>{try{await (0,M._57)(y.id),j(),b(),w({title:"Recipient deleted",message:"".concat(y.name," has been successfully deleted")})}catch(e){A((0,eL.Z)(e,"Something went wrong deleting the recipient. Please try again."))}},[y,j,w,b]);return(0,C.jsx)(G,{title:"Edit recipient",children:(0,C.jsxs)(ed.ZP,{onSubmit:eo,distribute:!0,error:Z||T,children:[(0,C.jsx)(z.Z,{variant:"titleLarge",children:"Recipient info"}),(0,C.jsx)(eu.Z,{inverted:!0,required:!0,name:"name",label:"Legal Name",defaultValue:(null==k?void 0:k.beneficiaryName)||y.name}),(0,C.jsx)(eu.Z,{inverted:!0,name:"nickname",label:"Nickname (optional)",defaultValue:y.name}),(0,C.jsx)(ec.Z,{inverted:!0,required:!0,name:"country",label:"Country",initialItem:eJ.o.find(e=>{var t;return e.id===(null==k?void 0:null===(t=k.beneficiaryAddress)||void 0===t?void 0:t.country.toUpperCase())}),onChange:ei,items:eJ.o}),(0,C.jsx)(eu.Z,{inverted:!0,name:"address1",label:"Address 1",defaultValue:null==k?void 0:null===(t=k.beneficiaryAddress)||void 0===t?void 0:t.street_line_1,required:!0}),(0,C.jsx)(eu.Z,{inverted:!0,name:"address2",label:"Address 2",defaultValue:null==k?void 0:null===(n=k.beneficiaryAddress)||void 0===n?void 0:n.street_line_2}),(0,C.jsx)(eu.Z,{inverted:!0,name:"city",label:"City",defaultValue:null==k?void 0:null===(r=k.beneficiaryAddress)||void 0===r?void 0:r.city,required:!0}),(null==et?void 0:et.length)?(0,C.jsx)(ec.Z,{name:"state",label:er?"State":"State / Province / Region",items:et,initialItem:et.find(e=>{var t;return e.id===(null==k?void 0:null===(t=k.beneficiaryAddress)||void 0===t?void 0:t.state)}),inverted:!0,required:!0}):(0,C.jsx)(eu.Z,{inverted:!0,name:"state",label:"State / Province / Region",defaultValue:null==k?void 0:null===(i=k.beneficiaryAddress)||void 0===i?void 0:i.state,required:!0}),(0,C.jsx)(eu.Z,{inverted:!0,name:"zip",label:er?"Zip":"Postal code",defaultValue:null==k?void 0:null===(a=k.beneficiaryAddress)||void 0===a?void 0:a.postal_code,required:!0}),(0,C.jsx)(L.Z,{faint:!0,marginY:"md"}),(0,C.jsxs)(V.Z,{direction:"vertical",gap:"lg",children:[(0,C.jsx)(z.Z,{variant:"titleLarge",children:"Bank info"}),(0,C.jsx)(eu.Z,{inverted:!0,name:"bankName",label:"Recipient bank name",defaultValue:null==k?void 0:k.bankName,required:!0}),(E||R)&&(0,C.jsxs)(V.Z,{gap:"lg",children:[(0,C.jsx)(N.Z,{flex:"auto",children:(0,C.jsx)(e9,{inverted:!0,name:E?"wireRoutingNumber":"routingNumber",label:"Routing number",defaultValue:parseInt(E?null!==(h=null===(l=k.bankAccountInfo)||void 0===l?void 0:l.wireRoutingNumber)&&void 0!==h?h:"0":null!==(f=k.bankAccountInfo.routingNumber)&&void 0!==f?f:"0",10),minLength:9,maxLength:9,required:!0})}),(0,C.jsx)(N.Z,{flex:"auto",children:(0,C.jsx)(e9,{inverted:!0,name:"accountNumber",label:"Account number",defaultValue:parseInt(null!==(v=k.bankAccountInfo.accountNumber)&&void 0!==v?v:"0",10),required:!0})})]}),D&&(0,C.jsxs)(V.Z,{direction:"vertical",gap:"lg",children:[(0,C.jsx)(eu.Z,{inverted:!0,name:"bic",label:"SWIFT / BIC",defaultValue:k.bankAccountInfo.bic,required:!0}),(0,C.jsx)(e9,{inverted:!0,name:"accountNumber",label:"Account number",defaultValue:k.bankAccountInfo.accountNumber,onChange:e=>F(e)}),(0,C.jsx)(eu.Z,{inverted:!0,name:"iban",label:"IBAN",defaultValue:k.bankAccountInfo.iban,onChange:e=>B(e)}),(0,C.jsx)(L.Z,{faint:!0,marginY:"md"}),(0,C.jsx)(ec.Z,{inverted:!0,required:!0,name:"bankCountry",label:"Country",initialItem:eJ.o.find(e=>{var t;return e.id===(null===(t=k.bankAddress)||void 0===t?void 0:t.country.toUpperCase())}),onChange:ea,items:eJ.o}),(0,C.jsx)(eu.Z,{inverted:!0,name:"bankAddress1",label:"Address 1",defaultValue:null===(o=k.bankAddress)||void 0===o?void 0:o.street_line_1,required:!0}),(0,C.jsx)(eu.Z,{inverted:!0,name:"bankAddress2",label:"Address 2",defaultValue:null===(s=k.bankAddress)||void 0===s?void 0:s.street_line_2}),(0,C.jsx)(eu.Z,{inverted:!0,name:"bankCity",label:"City",defaultValue:null===(d=k.bankAddress)||void 0===d?void 0:d.city,required:!0}),(null==en?void 0:en.length)?(0,C.jsx)(ec.Z,{name:"bankState",label:er?"State":"State / Province / Region",items:en,initialItem:en.find(e=>{var t;return e.id===(null==k?void 0:null===(t=k.bankAddress)||void 0===t?void 0:t.state)}),inverted:!0,required:!0}):(0,C.jsx)(eu.Z,{inverted:!0,name:"bankState",label:"State / Province / Region",defaultValue:null==k?void 0:null===(u=k.bankAddress)||void 0===u?void 0:u.state,required:!0}),(0,C.jsx)(eu.Z,{inverted:!0,name:"bankZip",label:er?"Zip":"Postal code",defaultValue:null==k?void 0:null===(c=k.bankAddress)||void 0===c?void 0:c.postal_code,required:!0}),(0,C.jsx)(L.Z,{faint:!0,marginY:"md"}),(0,C.jsx)(ec.Z,{inverted:!0,required:!0,name:"category",label:"Bank account category",items:el,initialItem:(null==y?void 0:null===(m=y.bankAccount)||void 0===m?void 0:m.category)?{id:y.bankAccount.category,name:(null===(p=tt.find(e=>{var t;return e.id===(null==y?void 0:null===(t=y.bankAccount)||void 0===t?void 0:t.category)}))||void 0===p?void 0:p.name)||""}:void 0}),(0,C.jsx)(ec.Z,{inverted:!0,required:!0,name:"purposeOfFunds",label:"Purpose of funds",items:tn,initialItem:tn.find(e=>e.id===k.purposeOfFunds)}),(0,C.jsx)(eu.Z,{inverted:!0,name:"businessDescription",label:"Short business description",placeholder:"ex: Technology platform",defaultValue:k.businessDescription,required:!0})]}),_&&(0,C.jsxs)(V.Z,{direction:"vertical",gap:"lg",children:[(0,C.jsx)(eu.Z,{inverted:!0,name:"bic",label:"SWIFT / BIC",defaultValue:k.bankAccountInfo.bic,required:!0}),(0,C.jsx)(eu.Z,{inverted:!0,name:"iban",label:"IBAN",defaultValue:k.bankAccountInfo.iban,required:!0,onChange:e=>B(e)})]})]}),(0,C.jsxs)(V.Z,{justify:"space-between",children:[(0,C.jsx)(tK.Z,{variant:"dangerInverted",onClick:es,children:"Delete"}),(0,C.jsx)(ep.Z,{disabled:D?!O:void 0,primaryButtonText:"Save",secondaryButtonText:"Cancel",secondaryOnClick:()=>g(x.ViewRecipient,{recipient:y})})]})]})})},tL=e=>{let{onSubmit:t,fiatAccount:n,linkedDakotaAccount:r}=e,[i,a]=(0,S.useState)(!1),[l,o]=(0,S.useState)(""),{isLoading:s}=(0,M.kf3)(),d=(0,S.useCallback)(async e=>{let{accountID:r}=e;await (0,M.vFL)(n.id,{accountID:r}),t&&t()},[n,t]),u=(0,S.useCallback)(async()=>{a(!0);try{await (0,M.vFL)(n.id,{accountID:""}),t&&t()}catch(e){o("Something went wrong unlinking your account. Please try again.")}finally{a(!1)}},[n,t,o,a]);return(0,C.jsx)(G,{title:"".concat((null==r?void 0:r.id)?"Edit linked ":"Link to a "," Dakota Account"),children:(0,C.jsxs)(ed.ZP,{onSubmit:d,distribute:!0,error:l,defaultServerError:"Failed to link account. Please try again.",children:[(0,C.jsx)(eu.Z,{inverted:!0,label:"External Account",name:"fiatAccount",value:n.name,disabled:!0}),(0,C.jsx)(tC.Z,{label:"Choose Dakota Account",initialItem:(null==r?void 0:r.id)?r:void 0}),(0,C.jsxs)(V.Z,{justify:"flex-end",gap:"sm",children:[(null==r?void 0:r.id)&&(0,C.jsx)(tK.Z,{variant:"secondaryInverted",onClick:u,disabled:i,loading:i,children:"Delete"}),(0,C.jsx)(ed.k4,{inverted:!0,disabled:i||s,loading:i,children:"Done"})]})]})})};var tY=n(94269),tz=n(19048),tH=n(18106);let tG=e=>{let{name:t="amount",label:n="Amount",placeholder:r="Enter amount",customValidate:i,min:a,maxDecimals:l,onChange:o,onErrorChange:s,...d}=e,[u,c]=(0,S.useState)(""),[m,p]=(0,S.useState)("");(0,S.useEffect)(()=>{s&&s(m)},[m,s]);let h=(0,S.useCallback)(()=>{var e;if(!u)return;let t=parseFloat(u);if(isNaN(t))p("Please enter amount as a number.");else if(0===t)p("Please enter an amount greater than 0.");else if(a&&t<a)p("Please enter an amount greater than ".concat(a));else if(u.includes(","))p("Please enter an amount without commas.");else if(l&&((null===(e=u.split(".")[1])||void 0===e?void 0:e.length)||0)>l)p("Please limit your decimal precision to ".concat(l));else if(i){let e=i(u,t);e&&p(e)}},[u,i,l,a]),f=(0,S.useCallback)(e=>{c(e),p(""),o&&o(e)},[o]);return(0,C.jsx)(eu.Z,{label:n,name:t,placeholder:r,onChange:f,onBlur:h,serverInvalid:!!m,zIndex:{focus:"10",hover:"10"},type:"number",...d})},t$=tz.uV.map(e=>({name:e.name,id:e.symbol})),tJ=e=>{let{approvingVaults:t=[],onApprove:n}=e,{ModalType:r,openModal:i}=rP(),a=(0,em.Z)(),[l,o]=(0,S.useState)(""),{data:s}=(0,M.Smy)(),{endorse:d}=(0,ev.Z)(),[u,c]=(0,S.useState)(),[m,p]=(0,S.useState)(""),[h,f]=(0,S.useState)(""),[v,y]=(0,S.useState)(""),{data:x=[]}=(0,M._DB)(),{addresses:g=[]}=(0,tY.Z)({accountID:a,networkIDs:tz.vb,currencySymbol:tz.uD}),{data:b=[]}=(0,M.Ilo)(),{data:j=[]}=(0,M.ul4)(),w=(0,S.useMemo)(()=>{let e=new Set;return g.filter(e=>e.accountID===a&&!e.balance.locked).forEach(t=>e.add(t.canonicalAddress)),x.filter(t=>e.has(t.canonicalAddress)).map(e=>({id:e.canonicalAddress,name:e.name||(0,et.Z)(e.canonicalAddress,!0,12)}))},[g,x,a]),Z=(0,S.useMemo)(()=>{if(m&&u){var e;let t=j.find(e=>e.id===m);return!(!t||(null===(e=t.approvedAddresses)||void 0===e?void 0:e.some(e=>e.canonicalAddress===u)))}},[m,u,j]),A=(0,S.useMemo)(()=>t.find(e=>e.address===u&&e.vault.id===m),[m,u,t]),k=(0,S.useCallback)(async(e,t,n,a)=>{let l=await (0,M.$o4)({sourceAddress:t,vaultID:e.id,amount:a,networkID:n});i(r.LendReview,{amount:a,sourceAddress:t,networkID:n,vault:e,transactionData:l})},[r,i]),I=(0,S.useCallback)(async(e,t,r)=>{if(!s){o("Something went wrong. Please try again.");return}let i=await (0,M.Bh_)({sourceAddress:t,vaultID:e.id,networkID:r}),{operationID:a}=await (0,M.i$P)({sourceAddress:t,vaultID:e.id,networkID:r,maxFee:i.maxFee});t.wallet===eS.VL.ZERODEV&&o("Something went wrong. Please try again.");let l=(0,ef.Z)({operationID:a,organizationID:s.organizationID,addressSubID:t.addressSubID,networkID:t.networkID},eC.C8.BlockchainVaultApprove);d({operationID:a,payload:l,onComplete:n})},[d,s,n]),D=(0,S.useMemo)(()=>{if(!u)return[];let e=new Set;return g.forEach(t=>{if(t.canonicalAddress===u){var n;e.add(null===(n=t.balance.amount)||void 0===n?void 0:n.currency.symbol)}}),t$.filter(t=>e.has(t.id))},[g,u]),_=(0,S.useMemo)(()=>{if(!h)return[];let e=new Set;g.forEach(t=>{var n;t.canonicalAddress===u&&(null===(n=t.balance.amount)||void 0===n?void 0:n.currency.symbol)===h&&e.add(t.balance.networkID)});let t=b.filter(t=>e.has(t.id)).map(e=>{let{id:t,name:n}=e;return{id:t,name:n}});return 1===t.length&&y(t[0].id),t},[h,g,b,u]),E=(0,S.useMemo)(()=>j.filter(e=>e.network===v&&e.currency===h).map(e=>{let{id:t,name:n}=e;return{id:t,name:n}}),[j,v,h]),R=(0,S.useCallback)(async e=>{let{sourceAddress:t,vaultID:n,amount:r}=e,i=g.find(e=>e.canonicalAddress===t),a=j.find(e=>e.id===n);if(!i||!a){o("Something went wrong. Please try again.");return}let l={value:r,currency:tz.uV.find(e=>e.symbol===h)},{balance:s,...d}=i;Z?await I(a,d,v):await k(a,d,v,l)},[g,j,Z,I,k,h,v]);return(0,C.jsx)(G,{title:"Lend from",children:(0,C.jsxs)(ed.ZP,{onSubmit:R,distribute:!0,error:l,children:[(0,C.jsx)(ec.Z,{required:!0,inverted:!0,autofill:!0,label:"Source Address",placeholder:"Choose an address",name:"sourceAddress",onChange:e=>{let{id:t}=e;return c(t)},initialItem:w.find(e=>e.id===u),items:w}),(0,C.jsx)(ec.Z,{required:!0,inverted:!0,label:"Currency",name:"currencySymbol",placeholder:"Choose a currency",onChange:e=>f(e.id),initialItem:D.find(e=>e.id===h),items:D}),_.length>1&&(0,C.jsx)(ec.Z,{required:!0,inverted:!0,label:"Network",name:"networkID",placeholder:"Choose a network",onChange:e=>y(e.id),initialItem:_.find(e=>e.id===v),items:_}),(0,C.jsx)(ec.Z,{required:!0,inverted:!0,autofill:!0,label:"Offering",name:"vaultID",placeholder:"Choose an offering",onChange:e=>{let{id:t}=e;return p(t)},items:E}),m&&!Z&&(0,C.jsx)(tG,{required:!0,inverted:!0,position:"relative",suffix:h,disabled:!u,onErrorChange:o,paddingRight:"xxl"}),Z&&(0,C.jsxs)(V.Z,{gap:"6px",align:"flex-start",children:[(0,C.jsx)(tH.Z,{size:"19px"}),(0,C.jsx)(z.Z,{variant:"bodyMedium",marginTop:"-1px",children:A?(0,C.jsxs)(V.Z,{children:["This offering is awaiting approval."," ",(0,C.jsx)(eY.Z,{fontSize:"medium",underline:!0,inline:!0,href:"".concat(tc.Z6.activity,"/").concat(A.operationID),children:"View activity"})]}):"Before lending from this address, you'll first need to approve the offering."})]}),(0,C.jsx)(ep.Z,{disabled:!!A,primaryButtonText:Z?A?"Approval pending":"Approve offering":"Next"})]})})};var tX=n(25579);let tQ=e=>{var t;let{amount:n,sourceAddress:r,networkID:i,transactionData:a,vault:l}=e,{ModalType:o,openModal:s}=rP(),{data:d}=(0,M.Smy)(),{endorse:u}=(0,ev.Z)(),{display:c}=(0,Q.Z)(),{data:m}=(0,M.Ilo)(),p=(0,S.useCallback)(async e=>{if(e){let t=await (0,M.Iu4)(e);t.policy&&t.policy.requiredEndorsementCount>1?s(o.ApprovalsNeeded,{additionalApprovalsNeeded:t.policy.requiredEndorsementCount-1,operationCopy:"lend"}):c({title:"Lend initiated",message:"Successfully initiated lending operation."})}},[s,o,c]),h=(0,S.useCallback)(async()=>{if(!d)return;let{operationID:e}=await (0,M.pNm)({sourceAddress:r,amount:n,networkID:i,vaultID:l.id,maxFee:a.maxFee}),t=(0,ef.Z)({operationID:e,organizationID:d.organizationID,addressSubID:r.addressSubID,networkID:r.networkID},eC.C8.BlockchainVaultDeposit);u({operationID:e,payload:t,onComplete:p})},[d,r,n,l.id,a,u,p,i]),f=(0,S.useCallback)(()=>s(o.LendForm),[s,o]);return(0,C.jsx)(G,{title:"Confirm lend",children:(0,C.jsxs)(ed.ZP,{onSubmit:h,distribute:!0,defaultServerError:"Failed to lend assets. Please try again.",children:[(0,C.jsxs)(V.Z,{direction:"vertical",borderRadius:"large",borderColor:"primary70",borderWidth:"1px",children:[(0,C.jsx)(V.Z,{paddingY:"4px",alignSelf:"center",children:(0,C.jsx)(tb,{amount:n})}),(0,C.jsx)(L.Z,{faint:!0}),(0,C.jsxs)(V.Z,{direction:"vertical",padding:"lg",gap:"lg",children:[(0,C.jsx)(tj,{label:"Amount",value:(0,tx.Z)(n),splitValue:(0,ee.Z)(a.depositAmountInUSD),ruleBelow:!0}),(0,C.jsx)(tj,{label:"Withdraw from",value:r.name||(0,et.Z)(r.canonicalAddress,!0,12),ruleBelow:!0}),(0,C.jsx)(tj,{label:"Earnings rate (APY)",value:(0,tX.Z)(l.yieldRate,2),ruleBelow:!0}),(0,C.jsx)(tj,{label:"Network",value:(null===(t=null==m?void 0:m.find(e=>e.id===i))||void 0===t?void 0:t.name)||"",ruleBelow:!0}),a.maxFee&&"0"!==a.maxFee.value&&(0,C.jsx)(tj,{label:"Max network fee",value:(0,tx.Z)(a.maxFee,{precision:4}),splitValue:(0,ee.Z)(a.maxFeeInUSD),ruleBelow:!0}),(0,C.jsx)(tj,{label:"Rewards commission",value:(0,tX.Z)(l.commissionRate,0)})]})]}),(0,C.jsx)(ep.Z,{primaryButtonText:"Submit",secondaryOnClick:f})]})})},t0=()=>{let{ModalType:e,openModal:t}=rP(),n=(0,em.Z)(),[r,i]=(0,S.useState)(""),[a,l]=(0,S.useState)(!1),[o,s]=(0,S.useState)(""),[d,u]=(0,S.useState)(""),[c,m]=(0,S.useState)(),{data:p=[]}=(0,M.Ilo)(),{addresses:h=[]}=(0,tY.Z)({accountID:n,currencySymbol:tz.uD,lockedReason:eS.u$.FROZEN}),f=(0,S.useMemo)(()=>{var e;let t=h.find(e=>e.canonicalAddress===c);return null===(e=null==t?void 0:t.balance.amount)||void 0===e?void 0:e.value},[h,c]),v=(0,S.useMemo)(()=>{if(!d)return[];let e=new Set;return h.forEach(t=>{e.add(t.balance.networkID)}),p.filter(t=>e.has(t.id)).map(e=>({id:e.id,name:e.name}))},[d,h,p]);(0,S.useEffect)(()=>{1===v.length&&s(v[0].id)},[v]);let y=(0,S.useCallback)(e=>s(e.id),[s]),x=(0,S.useCallback)(e=>{var t,n;let{id:r}=e;m(r),u((null===(t=null===(n=h.find(e=>e.canonicalAddress===r))||void 0===n?void 0:n.balance.amount)||void 0===t?void 0:t.currency.symbol)||"")},[u,h]),g=(0,S.useCallback)(async n=>{var r;let{sourceAddress:l,amount:s}=n,u=tz.uV.find(e=>e.symbol===d),c=h.find(e=>e.canonicalAddress===l);if(!c||!u){i("Something went wrong. Please try again.");return}let{balance:m,...p}=c,f=null===(r=c.balance.locked)||void 0===r?void 0:r.provider.id;if(!f){i("Something went wrong. Please try again.");return}let v=await (0,M.hxv)({sourceAddress:p,networkID:o,vaultID:f,withdrawalAmount:{value:s,currency:u},all:a});t(e.RecallReview,{sourceAddress:p,networkID:o,transactionData:v,vaultID:f,all:a})},[h,a,t,e,d,o]);return(0,C.jsx)(G,{title:"Recall funds",children:(0,C.jsxs)(ed.ZP,{onSubmit:g,distribute:!0,error:r,children:[(0,C.jsx)(ec.Z,{inverted:!0,required:!0,autofill:!0,label:"Source Address",placeholder:"Choose an address",name:"sourceAddress",items:h.map((e,t)=>({id:e.canonicalAddress,name:e.name||(0,et.Z)(e.canonicalAddress,!0,12),detail:(0,tx.Z)(h[t].balance.amount)})),onChange:x}),v.length>1&&(0,C.jsx)(ec.Z,{required:!0,inverted:!0,label:"Network",name:"networkID",disabled:!d,placeholder:"Choose a network",onChange:y,items:v}),(0,C.jsxs)(N.Z,{position:"relative",children:[(0,C.jsx)(eu.Z,{inverted:!0,required:!0,label:"Amount",name:"amount",position:"relative",placeholder:"Enter amount",disabled:!c,readOnly:!!a||void 0,suffix:d,paddingRight:"xxl",value:a?f:void 0,zIndex:{focus:"10"}}),(0,C.jsxs)(V.Z,{position:"absolute",top:"0",right:"0",children:[(0,C.jsx)(z.Z,{textStyle:"labelForm",marginRight:"xs",children:"Recall all"}),(0,C.jsx)(eq.Z,{inverted:!0,disabled:!c,checked:a,onChange:()=>l(!a),name:"recallAll"})]})]}),(0,C.jsx)(ep.Z,{primaryButtonText:"Next"})]})})},t1=e=>{var t;let{all:n,sourceAddress:r,transactionData:i,vaultID:a,networkID:l}=e,{ModalType:o,openModal:s}=rP(),{data:d}=(0,M.Smy)(),{endorse:u}=(0,ev.Z)(),{display:c}=(0,Q.Z)(),{data:m}=(0,M.Ilo)(),p=(0,S.useCallback)(async e=>{if(e){let t=await (0,M.Iu4)(e);t.policy&&t.policy.requiredEndorsementCount>1?s(o.ApprovalsNeeded,{additionalApprovalsNeeded:t.policy.requiredEndorsementCount-1,operationCopy:"recall"}):c({title:"Recall initiated",message:"Successfully initiated recall operation."})}},[s,o,c]),h=(0,S.useCallback)(async()=>{if(!d)return;let{withdrawalAmount:e}=i,{operationID:t}=await (0,M.T31)({sourceAddress:r,networkID:l,withdrawalAmount:e,vaultID:a,maxFee:i.maxFee,all:n}),o=(0,ef.Z)({operationID:t,organizationID:d.organizationID,addressSubID:r.addressSubID,networkID:r.networkID},eC.C8.BlockchainVaultWithdrawal);u({operationID:t,payload:o,onComplete:p})},[d,r,i,a,n,u,p,l]),f=(0,S.useCallback)(()=>s(o.RecallForm),[s,o]);return(0,C.jsx)(G,{title:"Confirm recall",children:(0,C.jsxs)(ed.ZP,{onSubmit:h,distribute:!0,defaultServerError:"Failed to recall assets. Please try again.",children:[(0,C.jsxs)(V.Z,{direction:"vertical",borderRadius:"large",borderColor:"primary70",borderWidth:"1px",children:[(0,C.jsx)(V.Z,{paddingY:"4px",alignSelf:"center",children:(0,C.jsx)(tb,{amount:i.withdrawalAmount})}),(0,C.jsx)(L.Z,{faint:!0}),(0,C.jsxs)(V.Z,{direction:"vertical",padding:"lg",gap:"lg",children:[(0,C.jsx)(tj,{label:"Amount",value:(0,tx.Z)(i.withdrawalAmount),splitValue:(0,ee.Z)(i.withdrawalAmountInUSD),ruleBelow:!0}),(0,C.jsx)(tj,{label:"Recall to",value:r.name||(0,et.Z)(r.canonicalAddress,!0,12),ruleBelow:!0}),(0,C.jsx)(tj,{label:"Network",value:null===(t=null==m?void 0:m.find(e=>e.id===l))||void 0===t?void 0:t.name,ruleBelow:!0}),i.maxFee&&"0"!==i.maxFee.value&&(0,C.jsx)(tj,{label:"Max network fee",value:(0,tx.Z)(i.maxFee,{precision:4}),splitValue:(0,ee.Z)(i.maxFeeInUSD)})]})]}),(0,C.jsx)(ep.Z,{primaryButtonText:"Submit",secondaryOnClick:f})]})})};var t9=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=new Set;return e.allowedEndorsers.forEach(e=>{(null==e?void 0:e.ownerID)&&n.add(e.ownerID)}),e.groupIDs.forEach(e=>{let r=t.find(t=>t.id===e);if(r){var i;null===(i=r.keys)||void 0===i||i.forEach(e=>{(null==e?void 0:e.ownerID)&&n.add(e.ownerID)})}}),n},t2=n(87426);let t8=e=>{var t;let{onSubmit:n,sourceAddress:r,sourceBalances:i,description:a="",recipientName:l,destinationAccount:o,destinationAddress:s,transferData:d,amount:u,transferType:c,networkID:m}=e,p=c===t2.Z.Internal,{ModalType:v,openModal:y}=rP(),{data:x}=(0,M.Smy)(),{endorse:g}=(0,ev.Z)(),{data:b=[]}=(0,M.y$c)(),{data:j}=(0,M.Ilo)(),{display:w}=(0,Q.Z)(),Z=(0,S.useCallback)(async e=>{if(e){let t=await (0,M.Iu4)(e);t.policy&&t.policy.requiredEndorsementCount>1?y(v.ApprovalsNeeded,{additionalApprovalsNeeded:t.policy.requiredEndorsementCount-1,operationCopy:"withdrawal"}):(w({title:"Transfer initiated",message:"View transactions for more information"}),n&&n())}},[n,y,v,w]),A=(0,S.useCallback)(async()=>{if(!x)return;let{operationID:e}=await (0,M.oh0)({sourceAddress:r,destinationAddress:s,amount:u,maxFee:d.maxFee,description:a,networkID:m}),t=await (0,M.Iu4)(e),i=t.policy?t9(t.policy,b):new Set;if(i.has(x.id)){let t=(0,ef.Z)({operationID:e,organizationID:x.organizationID,addressSubID:r.addressSubID,networkID:r.networkID,destinationAddress:s,amount:u,maxFee:d.maxFee},eC.C8.BlockchainWithdrawal);g({operationID:e,payload:t,onComplete:Z})}else{var l;(null===(l=t.policy)||void 0===l?void 0:l.requiredEndorsementCount)?y(v.ApprovalsNeeded,{additionalApprovalsNeeded:t.policy.requiredEndorsementCount,operationCopy:"withdrawal"}):n&&n()}},[u,a,s,n,v,Z,g,x,y,b,r,d,m]),k=(0,S.useCallback)(()=>{u?y(v.SendCryptoTo,{sourceBalances:i,amount:u,sourceAddress:r,currency:u.currency,transferType:c,networkID:m}):y(v.WithdrawCryptoFrom)},[i,y,v,u,r,c,m]);return(0,C.jsx)(G,{title:p?"Confirm transfer":"Confirm withdrawal",currentStep:p?h.Review:f.Review,steps:p?h:f,children:(0,C.jsxs)(ed.ZP,{onSubmit:A,distribute:!0,defaultServerError:"Failed to create operation. Please try again.",children:[(0,C.jsxs)(V.Z,{direction:"vertical",borderRadius:"large",borderColor:"primary70",borderWidth:"1px",children:[(0,C.jsx)(V.Z,{paddingY:"4px",alignSelf:"center",children:(0,C.jsx)(tb,{amount:u})}),(0,C.jsx)(L.Z,{faint:!0}),(0,C.jsxs)(V.Z,{direction:"vertical",padding:"lg",gap:"lg",children:[p&&o&&(0,C.jsx)(tj,{label:"Transfer to",value:o.name,splitValue:(0,et.Z)(s,!0,12),breakWord:!0}),!p&&l&&(0,C.jsx)(tj,{label:"Send to",value:l,splitValue:(0,et.Z)(s,!0,12),breakWord:!0}),!p&&!l&&(0,C.jsx)(tj,{label:"Send to",value:s,breakWord:!0}),!p&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(L.Z,{faint:!0}),(0,C.jsx)(tj,{label:"Memo",value:a})]})]}),(0,C.jsx)(L.Z,{faint:!0}),(0,C.jsxs)(V.Z,{direction:"vertical",padding:"lg",gap:"lg",children:[(0,C.jsx)(tj,{label:"Withdrawal",value:(0,tx.Z)(u),splitValue:(0,ee.Z)(d.amountInUSD),ruleBelow:!0}),(0,C.jsx)(tj,{label:"Network",value:(null===(t=null==j?void 0:j.find(e=>e.id===m))||void 0===t?void 0:t.name)||"",ruleBelow:!0}),d.maxFee&&(0,C.jsx)(tj,{label:"Max Network Fee",value:(0,tx.Z)(d.maxFee),splitValue:(0,ee.Z)(d.maxFeeInUSD,!1,!0),ruleBelow:!0}),(0,C.jsx)(tj,{label:"Total",value:(0,ee.Z)(d.totalAmountUSD,!1,!0)})]})]}),(0,C.jsx)(ep.Z,{primaryButtonText:"Submit",secondaryOnClick:k})]})})};var t4=n(39949);let t3=e=>{let{grossFee:t,netFee:n}=e,r=t!==n;return(0,C.jsxs)(V.Z,{gap:"8px",children:[r&&(0,C.jsx)(z.Z,{color:"success60",children:0===n?"FREE":(0,ee.Z)(n)}),(0,C.jsx)(z.Z,{textDecoration:r?"line-through":void 0,children:(0,ee.Z)(t)})]})},t5=e=>{var t;let{onSubmit:n,sourceAccount:r,sourceAddress:i,recipient:a,paymentType:l,memo:o="",preparedData:s,amount:d,wireMessage:u,networkID:c}=e,{ModalType:m,openModal:p}=rP(),{data:h}=(0,M.waZ)(),{data:f}=(0,M.Smy)(),{endorse:g}=(0,ev.Z)(),{data:b=[]}=(0,M.y$c)(),{display:j}=(0,Q.Z)(),w=l===eH.y.Wire,Z=l===eH.y.ACH,A=l===eH.y.SEPA,{data:k}=(0,M.eqh)({to:ta.Ow.symbol,from:ta.qY.symbol,amount:(null==d?void 0:d.value)?parseFloat(d.value):void 0}),I=(0,S.useMemo)(()=>{var e,t;let n=null===(e=null==a?void 0:a.bankAccountInfo.accountNumber)||void 0===e?void 0:e.slice(-4),r=null===(t=null==a?void 0:a.bankAccountInfo.iban)||void 0===t?void 0:t.slice(-4);return"".concat(null==a?void 0:a.bankName," ").concat(n||r||"")},[a]),D=(0,S.useCallback)(async e=>{if(e){let t=await (0,M.Iu4)(e);t.policy&&t.policy.requiredEndorsementCount>1?p(m.ApprovalsNeeded,{additionalApprovalsNeeded:t.policy.requiredEndorsementCount-1,operationCopy:"transfer"}):(j({title:"Transfer initiated",message:"View transactions for more information"}),n&&n())}},[n,p,m,j]),_=(0,S.useCallback)(async()=>{if(!f)return;let e={source:{address:i,amount:s.totalWithdrawalAmount,networkID:c},destination:{paymentType:l,bankAccountId:a.bankAccountID,currency:A?ta.Ow:ta.qY},dakotaFee:s.netDakotaFee,freeCreditsUsed:s.creditsUsed};u&&(e.destination.wireMessage=u);let{operationID:t}=await (0,M.Y87)(e),r=await (0,M.Iu4)(t),o=r.operation,h=r.policy?t9(r.policy,b):new Set;if(h.has(f.id)){let e=(0,ef.Z)({operationID:t,organizationID:f.organizationID,addressSubID:i.addressSubID,networkID:i.networkID,destinationAddress:null==o?void 0:o.destination,amount:d},eC.C8.OffRamp);g({operationID:t,payload:e,onComplete:D})}else{var v;(null===(v=r.policy)||void 0===v?void 0:v.requiredEndorsementCount)?p(m.ApprovalsNeeded,{additionalApprovalsNeeded:r.policy.requiredEndorsementCount,operationCopy:"withdrawal"}):n&&n()}},[f,b,i,d,c,l,a,u,s,g,D,n,p,m.ApprovalsNeeded,A]),E=(0,S.useMemo)(()=>{var e;return parseFloat((null===(e=s.externalExchangeFee)||void 0===e?void 0:e.value)||"0")},[s]),R=(0,S.useMemo)(()=>{var e;return parseFloat((null===(e=s.grossDakotaFee)||void 0===e?void 0:e.value)||"0")},[s]),T=(0,S.useMemo)(()=>{var e;return parseFloat((null===(e=s.netDakotaFee)||void 0===e?void 0:e.value)||"0")},[s]);return(0,C.jsx)(G,{title:"Review payment details",currentStep:w?v.Review:Z?y.Review:x.Review,steps:w?v:Z?y:x,children:(0,C.jsxs)(ed.ZP,{onSubmit:_,distribute:!0,defaultServerError:"Failed to create transfer. Please try again.",children:[(0,C.jsxs)(V.Z,{direction:"vertical",borderRadius:"large",borderColor:"primary70",borderWidth:"1px",children:[(0,C.jsx)(N.Z,{alignSelf:"center",paddingY:"md",children:(0,C.jsx)(t4.Z,{inverted:!0,value:(0,ee.Z)(null==d?void 0:d.value)})}),(0,C.jsxs)(V.Z,{borderTopWidth:"1px",borderBottomWidth:"1px",borderColor:"primary70",children:[(0,C.jsxs)(V.Z,{width:"1/2",direction:"vertical",padding:"lg",borderRightWidth:"1px",borderColor:"primary70",children:[(0,C.jsx)(z.Z,{children:"From"}),(0,C.jsxs)(V.Z,{direction:"vertical",marginTop:"sm",color:"primary30",gap:"xxs",children:[(0,C.jsx)(z.Z,{children:null==h?void 0:h.name}),(0,C.jsx)(z.Z,{children:null==f?void 0:f.name}),(0,C.jsx)(z.Z,{children:r.name})]})]}),(0,C.jsxs)(V.Z,{width:"1/2",direction:"vertical",padding:"lg",children:[(0,C.jsx)(z.Z,{children:"To"}),(0,C.jsxs)(V.Z,{direction:"vertical",marginTop:"sm",color:"primary30",gap:"xxs",children:[(0,C.jsx)(z.Z,{children:(null==a?void 0:a.accountFriendlyName)||(null==a?void 0:a.beneficiaryName)}),(0,C.jsx)(z.Z,{children:I})]})]})]}),(0,C.jsxs)(V.Z,{direction:"vertical",padding:"lg",gap:"lg",children:[(0,C.jsx)(tj,{label:"Source Address",value:(0,et.Z)(i.canonicalAddress,!0,12),fullWidth:!0,ruleBelow:!0}),u&&(0,C.jsx)(tj,{label:"Wire Message",value:u,fullWidth:!0,ruleBelow:!0}),o&&(0,C.jsx)(tj,{label:"Memo",value:o,fullWidth:!0,ruleBelow:!0}),E>0&&(0,C.jsx)(tj,{label:"Exchange Fee",value:(0,ee.Z)(E),lowlighted:!0,ruleBelow:!0}),R>0&&(0,C.jsx)(tj,{label:"Transfer Fee",value:(0,C.jsx)(t3,{grossFee:R,netFee:T}),lowlighted:!0,ruleBelow:!0}),(0,C.jsx)(tj,{label:"Total",value:(0,ee.Z)(null===(t=s.totalWithdrawalAmount)||void 0===t?void 0:t.value),splitValue:A?"".concat((0,ee.Z)(null==k?void 0:k.amount,!1,!1,!1,""),"*"):void 0,highlighted:!0})]})]}),(0,C.jsx)(ep.Z,{primaryButtonText:"Send",fineprint:A?"* Estimate based on current exchange rate":void 0,secondaryOnClick:()=>p(m.CreateOffRamp,{paymentType:l,recipient:a,initialAmount:null==d?void 0:d.value,initialMemo:o})})]})})};var t6=n(68692),t7=n(14355);let ne=e=>{let[t,...n]=e.split(","),r=n.join(",").trim();return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(z.Z,{variant:"bodyMedium",color:"primary10",children:t}),!!r&&(0,C.jsx)(z.Z,{variant:"bodyMedium",color:"primary10",children:r})]})},nt=e=>{let{amount:t,bankAddress:n,bankBeneficaryName:r,bankName:i,bic:a,depositMessage:l,iban:o,bankBeneficiaryAddress:s}=e,{openModal:d,closeModal:u}=rP();return(0,C.jsx)(G,{title:"SEPA deposit details",description:"Use these details to send a SEPA transfer. Incoming euros are automatically converted to digital dollars.",children:(0,C.jsxs)(ed.ZP,{onSubmit:u,distribute:!0,children:[(0,C.jsxs)(N.Z,{borderRadius:"large",borderColor:"primary30",borderWidth:"1px",padding:"24px",children:[(0,C.jsxs)(V.Z,{direction:"vertical",gap:"md",children:[(0,C.jsx)(t6.Z,{inverted:!0,label:"Amount",value:(0,ee.Z)(t,!1,!1,!1,""),valueToCopy:t}),(0,C.jsx)(t6.Z,{inverted:!0,label:"BIC",value:a}),(0,C.jsx)(t6.Z,{inverted:!0,masked:!0,label:"IBAN",value:o})]}),(0,C.jsx)(L.Z,{faint:!0,marginY:"lg"}),(0,C.jsxs)(V.Z,{alignItems:"flex-start",children:[(0,C.jsxs)(V.Z,{direction:"vertical",width:"1/2",children:[(0,C.jsx)(z.Z,{variant:"titleMedium",marginBottom:"md",children:"Receiving bank details"}),(0,C.jsx)(z.Z,{variant:"bodyMedium",color:"primary10",children:i}),ne(n)]}),(0,C.jsxs)(V.Z,{direction:"vertical",width:"1/2",paddingX:"lg",borderLeftWidth:"1px",borderColor:"ruleFaint",children:[(0,C.jsx)(z.Z,{variant:"titleMedium",marginBottom:"md",children:"Beneficiary details"}),(0,C.jsx)(z.Z,{variant:"bodyMedium",color:"primary10",children:(0,C.jsx)(t7.Z,{name:r,address:s})})]})]}),(0,C.jsx)(L.Z,{faint:!0,marginY:"lg"}),(0,C.jsxs)(V.Z,{marginBottom:"md",justify:"space-between",children:[(0,C.jsx)(z.Z,{variant:"titleMedium",children:"Deposit message"}),(0,C.jsx)(z.Z,{variant:"titleMedium",color:"primary10",children:(0,C.jsx)(O.Z,{address:l})})]}),(0,C.jsx)(z.Z,{variant:"bodyMedium",color:"primary10",children:"Note: Your bank may not have enough characters to input entire deposit message. Input what is available."})]}),(0,C.jsx)(ep.Z,{primaryButtonText:"Done",secondaryOnClick:()=>d(A.CreateSepaDeposit)})]})})},nn=e=>{var t,n;let{amount:r,senderName:i,senderAddress:a,bankName:l,bankAddress:o,accountNumber:s,iban:d,bic:u,purposeOfFunds:c,businessDescription:m,relationship:p,account:h,currency:f,address:v,networkID:y,onSubmit:x}=e,{openModal:g}=rP(),{data:b=[]}=(0,M.Ilo)(),w=(0,S.useCallback)(async()=>{await (0,M.hKK)({source:{amount:{value:r,currency:ta.qY},senderName:i,senderAddress:a,senderBankName:l,senderRelationship:p,senderBankAddress:o,senderAccountNumber:s,senderIban:d,senderSwiftCode:u,senderBusinessDescription:m,purposeOfFunds:c},destination:{currency:f,address:v.canonicalAddress,networkID:y}}),g(A.SwiftDepositUnderReview),x&&x()},[s,v,r,o,u,l,m,p,f,d,y,g,c,a,i,x]);return(0,C.jsx)(G,{title:"Review deposit details",currentStep:j.Review,steps:j,children:(0,C.jsxs)(ed.ZP,{onSubmit:w,distribute:!0,children:[(0,C.jsxs)(V.Z,{direction:"vertical",borderRadius:"large",borderColor:"primary70",borderWidth:"1px",children:[(0,C.jsx)(N.Z,{alignSelf:"center",paddingY:"md",children:(0,C.jsx)(t4.Z,{inverted:!0,value:(0,ee.Z)(r)})}),(0,C.jsxs)(V.Z,{borderTopWidth:"1px",borderBottomWidth:"1px",borderColor:"primary70",children:[(0,C.jsxs)(V.Z,{direction:"vertical",width:"1/2",padding:"lg",children:[(0,C.jsx)(z.Z,{variant:"titleMedium",marginBottom:"xs",children:"Sender"}),(0,C.jsx)(z.Z,{variant:"bodyMedium",color:"primary30",children:i}),(0,C.jsxs)(z.Z,{variant:"bodyMedium",color:"primary30",children:[null==a?void 0:a.street_line_1," ",null==a?void 0:a.street_line_2]}),(0,C.jsxs)(z.Z,{variant:"bodyMedium",color:"primary30",children:[null==a?void 0:a.city," ",null==a?void 0:a.state," ",null==a?void 0:a.postal_code]})]}),(0,C.jsxs)(V.Z,{direction:"vertical",width:"1/2",borderLeftWidth:"1px",borderColor:"ruleFaint",padding:"lg",children:[(0,C.jsx)(z.Z,{variant:"titleMedium",marginBottom:"xs",children:"Bank"}),(0,C.jsx)(z.Z,{variant:"bodyMedium",color:"primary30",children:l}),(0,C.jsxs)(z.Z,{variant:"bodyMedium",color:"primary30",children:[null==o?void 0:o.street_line_1," ",null==o?void 0:o.street_line_2]}),(0,C.jsxs)(z.Z,{variant:"bodyMedium",color:"primary30",children:[null==o?void 0:o.city," ",null==o?void 0:o.state," ",null==o?void 0:o.postal_code]})]})]}),(0,C.jsxs)(V.Z,{direction:"vertical",padding:"lg",gap:"lg",children:[u&&(0,C.jsx)(tj,{label:"SWIFT / BIC",value:u,ruleBelow:!0}),s&&(0,C.jsx)(tj,{label:"Account number",value:s,ruleBelow:!0}),d&&(0,C.jsx)(tj,{label:"IBAN",value:d,ruleBelow:!0}),(0,C.jsx)(tj,{label:"Destination account",value:h.name,ruleBelow:!0}),(0,C.jsx)(tj,{label:"Destination address",value:(0,et.Z)(v.canonicalAddress,!0,12),ruleBelow:!0}),(0,C.jsx)(tj,{label:"Currency",value:f.name,ruleBelow:!0}),(0,C.jsx)(tj,{label:"Network",value:(null===(t=b.find(e=>e.id===y))||void 0===t?void 0:t.name)||"",ruleBelow:!0}),(0,C.jsx)(tj,{label:"Pupose of funds",value:null===(n=tn.find(e=>e.id===c))||void 0===n?void 0:n.name,ruleBelow:!0}),(0,C.jsx)(tj,{label:"Business description",value:m,ruleBelow:!0}),(0,C.jsx)(tj,{label:"Relationship to Sender",value:p})]})]}),(0,C.jsx)(ep.Z,{primaryButtonText:"Done",secondaryOnClick:()=>g(A.DakotaInfoForSwift)})]})})},nr=e=>{var t;let{onSubmit:n,sourceAccount:r,sourceAddress:i,recipient:a,paymentType:l,memo:o="",destinationAddress:s,transferData:d,amount:u,transferID:c,wireMessage:m,networkID:p}=e,{ModalType:h,openModal:f}=rP(),{data:g}=(0,M.waZ)(),{data:b}=(0,M.Smy)(),{endorse:j}=(0,ev.Z)(),{data:w=[]}=(0,M.y$c)(),{display:Z}=(0,Q.Z)(),{flags:A}=(0,eG.g)(),k=l===eH.y.Wire,I=l===eH.y.ACH,D=(0,S.useCallback)(async e=>{if(e){let t=await (0,M.Iu4)(e);t.policy&&t.policy.requiredEndorsementCount>1?f(h.ApprovalsNeeded,{additionalApprovalsNeeded:t.policy.requiredEndorsementCount-1,operationCopy:"withdrawal"}):(Z({title:"Transfer initiated",message:"View transactions for more information"}),n&&n())}},[n,f,h,Z]),_=(0,S.useCallback)(async()=>{let e;if(!b)return;if(A.NEW_OFFRAMP_API){let t={source:{address:i,amount:u,networkID:p},destination:{paymentType:l,bankAccountId:a.bankAccountID,currency:ta.qY}};m&&(t.destination.wireMessage=m);let n=await (0,M.Y87)(t);e=n.operationID}else{let t={sourceAddress:i,destinationAddress:s,amount:u,maxFee:d.maxFee,description:o,networkID:p};a&&(t.recipientBankAccountID=a.bankAccountID),c&&(t.rampTransferID=c);let n=await (0,M.oh0)(t);e=n.operationID}let t=await (0,M.Iu4)(e),r=t.policy?t9(t.policy,w):new Set;if(r.has(b.id)){let t=(0,ef.Z)({operationID:e,organizationID:b.organizationID,addressSubID:i.addressSubID,networkID:i.networkID,destinationAddress:s,amount:u,maxFee:d.maxFee},eC.C8.BlockchainWithdrawal);j({operationID:e,payload:t,onComplete:D})}else{var v;(null===(v=t.policy)||void 0===v?void 0:v.requiredEndorsementCount)?f(h.ApprovalsNeeded,{additionalApprovalsNeeded:t.policy.requiredEndorsementCount,operationCopy:"withdrawal"}):n&&n()}},[b,A.NEW_OFFRAMP_API,w,i,u,p,l,a,m,s,d.maxFee,o,c,j,D,n,f,h.ApprovalsNeeded]);return(0,C.jsx)(G,{title:"Review payment details",currentStep:k?v.Review:I?y.Review:x.Review,steps:k?v:I?y:x,children:(0,C.jsxs)(ed.ZP,{onSubmit:_,distribute:!0,defaultServerError:"Failed to create operation. Please try again.",children:[(0,C.jsxs)(V.Z,{direction:"vertical",borderRadius:"large",borderColor:"primary70",borderWidth:"1px",children:[(0,C.jsx)(N.Z,{alignSelf:"center",paddingY:"md",children:(0,C.jsx)(t4.Z,{inverted:!0,value:(0,ee.Z)(d.finalAmountInUSD)})}),(0,C.jsxs)(V.Z,{borderTopWidth:"1px",borderBottomWidth:"1px",borderColor:"primary70",children:[(0,C.jsxs)(V.Z,{width:"1/2",direction:"vertical",padding:"lg",borderRightWidth:"1px",borderColor:"primary70",children:[(0,C.jsx)(z.Z,{children:"From"}),(0,C.jsxs)(V.Z,{direction:"vertical",marginTop:"sm",color:"primary30",gap:"xxs",children:[(0,C.jsx)(z.Z,{children:null==g?void 0:g.name}),(0,C.jsx)(z.Z,{children:null==b?void 0:b.name}),(0,C.jsx)(z.Z,{children:r.name})]})]}),(0,C.jsxs)(V.Z,{width:"1/2",direction:"vertical",padding:"lg",children:[(0,C.jsx)(z.Z,{children:"To"}),(0,C.jsxs)(V.Z,{direction:"vertical",marginTop:"sm",color:"primary30",gap:"xxs",children:[(0,C.jsx)(z.Z,{children:null==a?void 0:a.beneficiaryName}),(0,C.jsx)(z.Z,{children:(null==a?void 0:a.bankName)+" "+(null===(t=null==a?void 0:a.bankAccountInfo.accountNumber)||void 0===t?void 0:t.slice(-4))})]})]})]}),(0,C.jsxs)(V.Z,{direction:"vertical",padding:"lg",gap:"lg",children:[(0,C.jsx)(tj,{label:"Source Address",value:(0,et.Z)(i.canonicalAddress,!0,12),fullWidth:!0,ruleBelow:!0}),m&&(0,C.jsx)(tj,{label:"Wire Message",value:m,fullWidth:!0,ruleBelow:!0}),o&&(0,C.jsx)(tj,{label:"Memo",value:o,fullWidth:!0,ruleBelow:!0}),d.maxFee&&parseFloat(d.maxFee.value)>0&&(0,C.jsx)(tj,{label:"Network Fee",value:(0,ee.Z)(d.maxFeeInUSD),ruleBelow:!0,lowlighted:!0}),d.dakotaFee&&parseFloat(d.dakotaFee.value)>0&&(0,C.jsx)(tj,{label:"Transfer Fee",value:(0,ee.Z)(d.dakotaFeeInUSD),ruleBelow:!0,lowlighted:!0}),(d.maxFee||d.dakotaFee)&&d.totalAmountUSD&&(0,C.jsx)(tj,{label:"Total",value:(0,ee.Z)(d.totalAmountUSD),highlighted:!0})]})]}),(0,C.jsx)(ep.Z,{primaryButtonText:"Send",secondaryOnClick:()=>f(h.CreateOffRamp,{paymentType:l,recipient:a,initialAmount:null==u?void 0:u.value,initialMemo:o})})]})})};var ni=n(36398),na=n(28224);let nl=e=>{let[t,...n]=e.split(","),r=n.join(",").trim();return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(z.Z,{variant:"bodyMedium",color:"primary10",children:t}),!!r&&(0,C.jsx)(z.Z,{variant:"bodyMedium",color:"primary10",children:r})]})},no=e=>{let{accountNumber:t,bankAddress:n,bankBeneficaryName:r,bankName:i,depositMessage:a,routingNumber:l,bankBeneficiaryAddress:o}=e,{openModal:s,closeModal:d}=rP(),[u,c]=(0,S.useState)(!1);return(0,C.jsx)(G,{title:"Wiring Instructions",children:(0,C.jsxs)(ed.ZP,{onSubmit:d,distribute:!0,children:[(0,C.jsxs)(N.Z,{borderRadius:"large",borderColor:"primary30",borderWidth:"1px",padding:"24px",children:[(0,C.jsx)(z.Z,{variant:"titleMedium",marginBottom:"sm",children:"Domestic transfer details"}),(0,C.jsx)(z.Z,{variant:"bodyMedium",color:"primary10",children:"Use these details to send domestic wires. Incoming wires are automatically converted to digital dollars."}),(0,C.jsx)(L.Z,{extendBy:"24px",marginY:"lg"}),(0,C.jsxs)(V.Z,{gap:"md",children:[(0,C.jsx)(t6.Z,{inverted:!0,label:"Routing number",width:"1/2",value:l}),(0,C.jsx)(t6.Z,{inverted:!0,masked:!0,label:"Account number",width:"1/2",value:t})]}),(0,C.jsx)(L.Z,{faint:!0,marginY:"lg"}),(0,C.jsxs)(V.Z,{alignItems:"flex-start",children:[(0,C.jsxs)(V.Z,{direction:"vertical",width:"1/2",children:[(0,C.jsx)(z.Z,{variant:"titleMedium",marginBottom:"md",children:"Receiving bank details"}),(0,C.jsx)(z.Z,{variant:"bodyMedium",color:"primary10",children:i}),nl(n)]}),(0,C.jsxs)(V.Z,{direction:"vertical",width:"1/2",paddingX:"lg",borderLeftWidth:"1px",borderColor:"ruleFaint",children:[(0,C.jsx)(z.Z,{variant:"titleMedium",marginBottom:"md",children:"Beneficiary details"}),(0,C.jsx)(z.Z,{variant:"bodyMedium",color:"primary10",children:(0,C.jsx)(t7.Z,{name:r,address:o})})]})]}),(0,C.jsx)(L.Z,{faint:!0,marginY:"lg"}),(0,C.jsxs)(V.Z,{marginBottom:"md",justify:"space-between",children:[(0,C.jsx)(z.Z,{variant:"titleMedium",children:"Deposit message"}),(0,C.jsx)(z.Z,{variant:"titleMedium",color:"primary10",children:(0,C.jsx)(O.Z,{address:a})})]}),(0,C.jsx)(z.Z,{variant:"bodyMedium",color:"primary10",children:"Note: Your bank may not have enough characters to input entire deposit message. Input what is available."}),(0,C.jsx)(L.Z,{extendBy:"24px",marginY:"lg"}),(0,C.jsxs)(V.Z,{justify:"space-between",cursor:"pointer",onClick:()=>c(!u),children:[(0,C.jsx)(z.Z,{variant:"titleMedium",children:"International transfer details"}),(0,C.jsx)(K.Z,{size:24,children:u?(0,C.jsx)(I.g8,{size:"24px",color:"white"}):(0,C.jsx)(I.v4,{size:"24px",color:"white"})})]}),(0,C.jsx)(N.Z,{display:u?"block":"none",children:(0,C.jsx)(na.Z,{children:(0,C.jsxs)(z.Z,{variant:"bodyMedium",color:"primary10",display:"inline-block",paddingTop:"md",children:["International wires are currently processed manually. Please contact us via"," ",(0,C.jsx)(eY.Z,{href:ni.L.dakotaSlack.url,inline:!0,external:!0,underline:!0,color:"light",children:ni.L.dakotaSlack.name})," ","or at"," ",(0,C.jsx)(eY.Z,{href:ni.L.supportEmail.url,inline:!0,external:!0,underline:!0,color:"light",children:ni.L.supportEmail.name})," ","to initiate a wire transfer from a foreign bank."]})})})]}),(0,C.jsx)(ep.Z,{primaryButtonText:"Done",secondaryOnClick:()=>s(A.CreateWireDeposit)})]})})};var ns=n(99446),nd=n(86010),nu=n(38622);n(74780);var nc=(0,D.u)({defaultClassName:"_1fdeie9hxc _1fdeie9iu8 _1fdeie9h0g",variantClassNames:{},defaultVariants:{},compoundVariants:[]}),nm=(0,D.u)({defaultClassName:"_1fdeie9ivk _1fdeie9g4w _1fdeie9h1s _1fdeie9hyo",variantClassNames:{},defaultVariants:{},compoundVariants:[]}),np=(0,D.u)({defaultClassName:"_1fdeie9vi8 _1fdeie96mo _1fdeie91hs _1fdeie96bk _1fdeie969c _1hii68d3",variantClassNames:{},defaultVariants:{},compoundVariants:[]}),nh=(0,D.u)({defaultClassName:"_1fdeie9868 _1fdeie99f4 _1fdeie9aq8",variantClassNames:{},defaultVariants:{},compoundVariants:[]}),nf=(0,D.u)({defaultClassName:"_1fdeie9qow _1fdeie9ny8 _1fdeie9ov4 _1fdeie9ps0 _1fdeie910g _1fdeie968w _1fdeie9vi8 _1fdeie9vx0 _1hii68d8",variantClassNames:{},defaultVariants:{},compoundVariants:[]});let nv=e=>{let{defaultValue:t,children:n,className:r,...i}=e;return(0,C.jsx)(nu.fC,{className:(0,nd.Z)("accordion",nh(),r),type:"single",defaultValue:t,collapsible:!0,...i,children:n})},ny=e=>e.toLowerCase().replace(/\s/g,"-"),nx=e=>Math.floor(Math.random()*e+1),ng=(0,S.forwardRef)((e,t)=>{let{id:n,children:r,className:i,disabled:a,...l}=e;return(0,C.jsx)(nu.ck,{disabled:a,className:(0,nd.Z)("accordion-item",np(),i),value:n?ny(n):"accordion-".concat(nx(1e3)),ref:t,...l,children:r})}),nb=(0,S.forwardRef)((e,t)=>{let{className:n,icon:r,iconBackgroundColor:i="white",abbreviation:a,title:l,description:o,onClick:s,...d}=e;return(0,C.jsx)(nu.h4,{className:(0,nd.Z)(nm()),children:(0,C.jsx)(nu.xz,{onClick:s,className:(0,nd.Z)("accordion-trigger",nf(),n),...d,ref:t,children:(0,C.jsxs)(V.Z,{width:"full",justify:"space-between",paddingY:"md",paddingX:"lg",gap:"lg",transitionDuration:"150",transitionProperty:"colors",transitionTimingFunction:"inOut",children:[(0,C.jsx)(W.Z,{backgroundColor:i,color:"primary100",icon:r,text:l,size:"40px",abbreviation:a}),(0,C.jsxs)(V.Z,{direction:"vertical",flex:"auto",children:[(0,C.jsx)(z.Z,{variant:"titleMedium",color:"white",children:l}),(0,C.jsx)(z.Z,{variant:"bodyLarge",color:"primary30",children:o})]}),(0,C.jsx)(N.Z,{className:"accordion-icon",children:(0,C.jsx)(I.XC,{size:"24px",color:"white"})})]})})})}),nj=(0,S.forwardRef)((e,t)=>{let{children:n,className:r,...i}=e;return(0,C.jsx)(nu.VY,{className:(0,nd.Z)("accordion-content",nc(),r),...i,ref:t,children:n})}),nw=()=>{let{data:e=[]}=(0,M.loN)(),t=(0,em.Z)(),[n,r]=(0,S.useState)(t),{data:i}=(0,M.sMP)(n),{ModalType:a,openModal:l}=rP(),[o,s]=(0,S.useState)(i),d=(0,S.useMemo)(()=>{let t=e.find(e=>e.linkedDakotaAccount.id===n);return t?{id:t.linkedDakotaAccount.id,name:t.linkedDakotaAccount.name}:void 0},[e,n]),u=(0,S.useMemo)(()=>{let t=new Set;return e.forEach(e=>{t.add(e.linkedDakotaAccount.id)}),t},[e]),c=t=>{r(t.id),s(e.find(e=>e.linkedDakotaAccount.id===t.id))};return(0,C.jsx)(ed.ZP,{children:(0,C.jsxs)(V.Z,{direction:"vertical",gap:"md",children:[(0,C.jsx)(tC.Z,{label:"Receiving Account",initialItem:d,accountIDs:u,onChange:c,setFirstItemAsInitial:!0}),o&&(0,C.jsxs)(V.Z,{direction:"vertical",gap:"md",children:[(0,C.jsxs)(V.Z,{gap:"md",children:[(0,C.jsx)(t6.Z,{inverted:!0,label:"Routing number",width:"1/2",value:o.accountData.routingNumber}),(0,C.jsx)(t6.Z,{inverted:!0,masked:!0,label:"Account number",width:"1/2",value:o.accountData.accountNumber})]}),(0,C.jsx)(V.Z,{marginTop:"xs",justify:"center",children:(0,C.jsx)(eY.Z,{color:"light",width:"auto",inline:!0,onClick:()=>l(a.VirtualAccountDetails,{virtualAccount:o,onBack:()=>l(a.SelectDepositType)}),children:(0,C.jsx)(z.Z,{children:"View more details"})})})]})]})})},nZ=e=>{let{initialAddress:t=""}=e,n=(0,em.Z)(),[r,i]=(0,S.useState)(n),[a,l]=(0,S.useState)(t),{data:o=[]}=(0,M._DB)(),s=(0,S.useMemo)(()=>o.filter(e=>e.accountID===r),[r,o]),d=(0,S.useMemo)(()=>s.map(e=>({id:e.canonicalAddress,name:e.name||"",detail:(0,et.Z)(e.canonicalAddress,!0,12)})),[s]),u=(0,S.useMemo)(()=>{var e;return(null===(e=s.filter(e=>e.canonicalAddress===a)[0])||void 0===e?void 0:e.compatibleNetworks)||[]},[s,a]),c=(0,S.useCallback)(()=>l(""),[]),m=(0,S.useCallback)(e=>{let{id:t}=e;return l(t)},[l]),p=(0,S.useCallback)(e=>{let{id:t}=e;return i(t)},[i]),h=(0,S.useMemo)(()=>{let e=new Set;return o.forEach(t=>{e.add(t.accountID)}),e},[o]);return(0,C.jsxs)(ed.ZP,{distribute:!0,children:[(0,C.jsx)(tC.Z,{accountIDs:h,onChange:p,setFirstItemAsInitial:!0}),(0,C.jsx)(ec.Z,{required:!0,inverted:!0,autofill:!0,name:"address",label:"Address",placeholder:"Choose an address",items:d,onChange:m,onClear:c}),r&&a&&(0,C.jsx)(O.Z,{dark:!0,address:a,message:"Be sure to only deposit assets supported by the network to this address.",children:(0,C.jsx)(J.Z,{items:u,type:$.T.Network})})]})},nA=e=>{var t;let{title:n="Deposit funds to your account",hideCrypto:r=!1}=e,{openModal:i,ModalType:a}=rP(),{isBridgeApproved:l}=(0,ns.Z)(),{data:o=[]}=(0,M.loN)(),s=(0,em.Z)(),{data:d=[]}=(0,M.kf3)(),u=o.length>0,c=(null===(t=d.find(e=>e.id===s))||void 0===t?void 0:t.name)||"";return(0,C.jsxs)(G,{title:n,children:[(0,C.jsxs)(nv,{defaultValue:l?eH.u.Wire:eH.u.Crypto,children:[(0,C.jsxs)(ng,{id:eH.u.Wire,disabled:!l,children:[(0,C.jsx)(nb,{title:"Wire transfer",description:tS.DEPOSIT.WIRE}),(0,C.jsx)(nj,{children:(0,C.jsx)(nw,{})})]}),(0,C.jsx)(ng,{id:eH.u.SEPA,children:(0,C.jsx)(nb,{title:"International wire transfer",description:tS.DEPOSIT.I18N,onClick:()=>i(a.SelectI18nDepositType,{onBack:()=>i(a.SelectDepositType)})})}),(0,C.jsxs)(ng,{id:eH.u.ACH,disabled:!l||!u,children:[(0,C.jsx)(nb,{abbreviation:"BT",title:"ACH Bank transfer",description:tS.DEPOSIT.ACH}),(0,C.jsx)(nj,{children:(0,C.jsx)(nw,{})})]}),!r&&(0,C.jsxs)(ng,{id:eH.u.Crypto,children:[(0,C.jsx)(nb,{title:"Crypto deposit",description:tS.DEPOSIT.CRYPTO}),(0,C.jsx)(nj,{children:(0,C.jsx)(nZ,{})})]})]}),(!l||!u)&&(0,C.jsxs)(N.Z,{padding:"md",textAlign:"center",backgroundColor:"whiteA005",marginTop:"md",borderRadius:"large",children:[!l&&(0,C.jsxs)(z.Z,{display:"inline-block",children:["Complete"," ",(0,C.jsx)(eY.Z,{inline:!0,underline:!0,color:"light",onClick:()=>{i(a.SetupBridge,{gatedAction:"receive ACH and Wire transfers"})},children:"Bridge onboarding"})," ","for ACH or Wire deposits"]}),!u&&(0,C.jsxs)(z.Z,{variant:"bodyLarge",textAlign:"center",display:"inline-block",children:[(0,C.jsx)(z.Z,{display:"inline",children:"Setup a virtual account"})," ",s&&c&&(0,C.jsxs)(z.Z,{display:"inline",children:["for"," ",(0,C.jsx)(eY.Z,{inline:!0,underline:!0,color:"light",onClick:()=>{i(a.VirtualAccountEducation,{accountID:s})},children:c})," "]}),(0,C.jsx)(z.Z,{display:"inline",children:" to enable ACH deposits."})]})]})]})},nC=e=>{let{icon:t,iconBackgroundColor:n="white",abbreviation:r,title:i,description:a,disabled:l,onClick:o,...s}=e;return(0,C.jsx)(N.Z,{as:"button",type:"button",onClick:l?void 0:o,...s,children:(0,C.jsxs)(V.Z,{width:"full",opacity:l?"50":"100",borderColor:{base:"primary70",hover:l?"primary70":"white"},borderWidth:"1px",borderRadius:"large",cursor:l?"not-allowed":"pointer",justify:"space-between",paddingY:"md",paddingX:"lg",gap:"lg",transitionDuration:"150",transitionProperty:"colors",transitionTimingFunction:"inOut",children:[(0,C.jsx)(W.Z,{backgroundColor:n,color:"primary100",icon:t,text:i,size:"40px",abbreviation:r}),(0,C.jsxs)(V.Z,{direction:"vertical",flex:"auto",children:[(0,C.jsx)(z.Z,{variant:"titleMedium",children:i}),(0,C.jsx)(z.Z,{variant:"bodyLarge",color:"primary30",children:a})]}),(0,C.jsx)(I.XC,{size:"24px",color:"white"})]})})};nC.displayName="RowButton";let nS=e=>{let{title:t="International wire deposits",onBack:n}=e,{openModal:r,ModalType:i}=rP(),{flags:a}=(0,eG.g)();return(0,C.jsxs)(G,{title:t,children:[(0,C.jsxs)(V.Z,{direction:"vertical",gap:"md",children:[(0,C.jsx)(nC,{title:"SWIFT transfer",description:tS.DEPOSIT.SWIFT,disabled:!a.SEPA_ENDORSEMENT,abbreviation:"SW",onClick:()=>r(i.CreateSwiftDeposit)}),(0,C.jsx)(nC,{title:"SEPA transfer",description:tS.DEPOSIT.SEPA,disabled:!a.SEPA_ENDORSEMENT,abbreviation:"SE",onClick:()=>r(i.CreateSepaDeposit)})]}),!a.SEPA_ENDORSEMENT&&(0,C.jsx)(V.Z,{padding:"md",justifyContent:"center",backgroundColor:"whiteA005",marginTop:"md",borderRadius:"large",children:(0,C.jsxs)(z.Z,{variant:"bodyLarge",display:"inline-block",children:["To accept international wire deposits please contact us via"," ",(0,C.jsx)(eY.Z,{href:ni.L.dakotaSlack.url,inline:!0,external:!0,underline:!0,color:"light",children:ni.L.dakotaSlack.name})," ","or at"," ",(0,C.jsx)(eY.Z,{href:ni.L.supportEmail.url,inline:!0,external:!0,underline:!0,color:"light",children:ni.L.supportEmail.name}),"."]})}),(0,C.jsx)(Y.Z,{size:"lg"}),n&&(0,C.jsx)(V.Z,{justify:"flex-end",gap:"sm",children:(0,C.jsx)(tK.Z,{variant:"secondaryInverted",onClick:null!=n?n:()=>r(i.SelectDepositType),children:"Back"})})]})},nk=()=>{let{openModal:e,ModalType:t}=rP(),n=(0,em.Z)(),{data:r}=(0,M.Ok4)(),{isBridgeApproved:i}=(0,ns.Z)(),{addresses:a=[]}=(0,tY.Z)({currencySymbol:[ta.gn.symbol],accountID:n}),{flags:l}=(0,eG.g)(),o=(0,S.useMemo)(()=>null==r?void 0:r.networkBalances.some(e=>e.balances.some(e=>{var t;let n=null===(t=e.amount)||void 0===t?void 0:t.currency.symbol,r=n===ta.gn.symbol;return n&&r&&parseInt(e.amountInUSD)>0})),[r]),s=(0,S.useMemo)(()=>i&&(n&&a.length||!n&&o),[n,a,i,o]);return(0,C.jsxs)(G,{title:"International wire transfer",children:[(0,C.jsxs)(V.Z,{direction:"vertical",gap:"md",children:[(0,C.jsx)(nC,{title:"SWIFT transfer",description:tS.WITHDRAWAL.SWIFT,disabled:!(s&&l.SEPA_ENDORSEMENT),abbreviation:"SW",onClick:()=>e(t.ChooseRecipient,{paymentType:eH.y.SWIFT})}),(0,C.jsx)(nC,{title:"SEPA transfer",description:tS.WITHDRAWAL.SEPA,disabled:!(s&&l.SEPA_ENDORSEMENT),abbreviation:"SE",onClick:()=>e(t.ChooseRecipient,{paymentType:eH.y.SEPA})})]}),!l.SEPA_ENDORSEMENT&&(0,C.jsx)(V.Z,{padding:"md",justifyContent:"center",backgroundColor:"whiteA005",marginTop:"md",borderRadius:"large",children:(0,C.jsxs)(z.Z,{variant:"bodyLarge",display:"inline-block",children:["To make international wire transfers please contact us via"," ",(0,C.jsx)(eY.Z,{href:ni.L.dakotaSlack.url,inline:!0,external:!0,underline:!0,color:"light",children:ni.L.dakotaSlack.name})," ","or at"," ",(0,C.jsx)(eY.Z,{href:ni.L.supportEmail.url,inline:!0,external:!0,underline:!0,color:"light",children:ni.L.supportEmail.name}),"."]})}),l.SEPA_ENDORSEMENT&&!s&&(0,C.jsx)(V.Z,{padding:"md",justifyContent:"center",backgroundColor:"whiteA005",marginTop:"md",borderRadius:"large",children:(0,C.jsxs)(z.Z,{variant:"bodyLarge",display:"inline-block",children:["To make international wire transfers add USDC on a"," ",(0,C.jsx)(eY.Z,{newTab:!0,inline:!0,underline:!0,color:"light",href:ni.L.notion.stablecoinsAndBlockchains.url,children:"supported network"})," ","or select another account."]})}),(0,C.jsx)(Y.Z,{size:"lg"}),(0,C.jsx)(V.Z,{justify:"flex-end",gap:"sm",children:(0,C.jsx)(tK.Z,{variant:"secondaryInverted",onClick:()=>e(t.SelectSendType),children:"Back"})})]})},nI=()=>{let{openModal:e,ModalType:t}=rP(),n=(0,em.Z)(),{data:r}=(0,M.Ok4)(),{isBridgeApproved:i}=(0,ns.Z)(),{rampCurrencySymbols:a}=tl(),{addresses:l=[]}=(0,tY.Z)({currencySymbol:a,accountID:n}),o=(0,S.useMemo)(()=>null==r?void 0:r.networkBalances.some(e=>e.balances.some(t=>{var n;let r=null===(n=t.amount)||void 0===n?void 0:n.currency.symbol,i=e.networkID.toLowerCase().startsWith("ethereum"),l=e.networkID.toLowerCase().startsWith("base"),o=r===ta.AA.symbol,s=r===ta.ug.symbol;return r&&a.includes(r)&&!(o&&!i)&&!(s&&!l)&&parseInt(t.amountInUSD)>0})),[r,a]),s=(0,S.useMemo)(()=>i&&(n&&l.length||!n&&o),[n,l,i,o]),d=(0,S.useMemo)(()=>i?s?(0,C.jsx)(C.Fragment,{}):(0,C.jsxs)(z.Z,{variant:"bodyLarge",display:"inline-block",children:["To make domestic ACH or wire transfers add DKUSD, USDC or USDT on a"," ",(0,C.jsx)(eY.Z,{newTab:!0,inline:!0,underline:!0,color:"light",href:ni.L.notion.stablecoinsAndBlockchains.url,children:"supported network"})," ","or select another account."]}):(0,C.jsxs)(z.Z,{display:"inline-block",children:["Complete"," ",(0,C.jsx)(eY.Z,{inline:!0,underline:!0,color:"light",onClick:()=>{e(t.SetupBridge,{gatedAction:"send ACH and Wire transfers"})},children:"Bridge onboarding"})," ","for ACH or Wire transfers"]}),[i,s,e,t.SetupBridge]);return(0,C.jsxs)(G,{title:"Withdraw funds from your account",children:[(0,C.jsxs)(V.Z,{direction:"vertical",gap:"md",flexDirection:s?"column":"column-reverse",children:[(0,C.jsx)(nC,{title:"Wire transfer",description:tS.WITHDRAWAL.WIRE,disabled:!s,onClick:()=>e(t.ChooseRecipient,{paymentType:eH.y.Wire})}),(0,C.jsx)(nC,{title:"International wire transfer",description:tS.WITHDRAWAL.I18N,disabled:!s,onClick:()=>e(t.SelectI18nSendType)}),(0,C.jsx)(nC,{title:"ACH Bank transfer",description:tS.WITHDRAWAL.ACH,disabled:!s,onClick:()=>e(t.ChooseRecipient,{paymentType:eH.y.ACH})}),(0,C.jsx)(nC,{title:"Withdraw Crypto",description:tS.WITHDRAWAL.CRYPTO,onClick:()=>e(t.WithdrawCryptoFrom)})]}),!(i||s)&&(0,C.jsx)(V.Z,{padding:"md",justifyContent:"center",backgroundColor:"whiteA005",marginTop:"md",borderRadius:"large",children:d})]})};var nD=n(28742);let n_=e=>parseInt(e.split(" ")[0],10);var nE=n(11945);let nR=e=>e.map(e=>({id:"group_".concat(e.id),name:e.name})),nT=e=>{let{onSubmit:t,policy:n,accountID:r}=e,[i,a]=(0,S.useState)(!1),[l,o]=(0,S.useState)(""),{data:s=[]}=(0,M.i2_)(),{data:d=[]}=(0,M.y$c)(),{data:u=[],isLoading:c}=(0,M.$wb)(eS.Z5.APPROVE_TRANSFER,{accountID:r},{query:{enabled:!!r,retry:!1}}),{endorse:m}=(0,ev.Z)(),{refetch:p}=(0,nE.Z)({pageSize:eC.rA,filters:{activityTypes:[eC.C8.UpdatePolicies],statuses:[eS.oo.Endorsing]}}),{refetch:h}=(0,M.jIf)(),f=(0,S.useMemo)(()=>eO(s.filter(e=>{var t,n;return!!(null===(t=e.userKey)||void 0===t?void 0:t.publicKey)&&!!(null===(n=e.signingKey)||void 0===n?void 0:n.publicKey)})),[s]),v=(0,S.useCallback)(()=>{h(),p()},[h,p]),y=(0,S.useMemo)(()=>Array(0===f.length?0:Math.max(1,f.length)).fill(null).map((e,t)=>({id:"".concat(t+1),name:"".concat(t+1," approver").concat(0===t?"":"s")})),[f]),x=(0,S.useCallback)(async e=>{let{approvers:n,approvalsNeeded:i,amount:l}=e;try{a(!0);let e=JSON.parse(n),c=e.filter(e=>!e.id.startsWith("group_")),p=e.map(e=>d.find(t=>t.id===e.id.split("group_")[1])).filter(Boolean),h=c.map(e=>{let t=s.find(t=>t.id===e.id);return null==t?void 0:t.signingKey}).filter(Boolean),f=new Set;if(p.forEach(e=>{e.keys&&e.keys.forEach(e=>{(null==e?void 0:e.ownerID)&&f.add(e.ownerID)})}),h.forEach(e=>{(null==e?void 0:e.ownerID)&&f.add(e.ownerID)}),f.size<n_(i)){a(!1),o("You must assign at least as many approvers as are required.");return}let y=u.filter(e=>"ANY"===l?!!e.maxAmountUSD:l!==e.maxAmountUSD),x={action:{type:eS.Z5.APPROVE_TRANSFER,name:"Approve"},requiredEndorsementCount:n_(i),allowedEndorsers:h,groupIDs:p.map(e=>e.id),accountID:r};l&&"ANY"!==l&&(x.maxAmountUSD=l);let g=(0,tB.Z)([...y,x]),{operationID:b}=await (0,M.$Z7)(eS.Z5.APPROVE_TRANSFER,{policies:g});v();let j=(0,ef.Z)({operationID:b,policies:g},eC.C8.UpdatePolicies);m({operationID:b,payload:j,onComplete:t})}catch(e){o("Something went wrong. Please try again.")}finally{a(!1)}},[t,v,s,u,m,a,o,r,d]),g=(0,S.useMemo)(()=>{if(n)return nD.iO;let e=u.map(e=>e.maxAmountUSD||"ANY");return nD.iO.filter(t=>{let{id:n}=t;return!e.includes(n)})},[u,n]),b=n?n.maxAmountUSD?g.find(e=>{let{id:t}=e;return t===n.maxAmountUSD})||g[0]:g[g.length-1]:g[0];return(0,C.jsx)(G,{title:"".concat(n?"Update":"Add"," approver threshold"),children:(0,C.jsxs)(ed.ZP,{onSubmit:x,distribute:!0,error:l,children:[c?(0,C.jsx)(ec.Z,{inverted:!0,disabled:!0,label:"Amount",name:"loadingAmount",items:[]},"fakeAmount"):(0,C.jsx)(ec.Z,{inverted:!0,required:!0,name:"amount",label:"Amount",initialItem:b,fixed:!!n,items:g},"amount"),(0,C.jsx)(ec.Z,{inverted:!0,required:!0,name:"approvalsNeeded",label:"Approvals needed",initialItem:y.find(e=>{let{id:t}=e;return t==="".concat(null==n?void 0:n.approverCount)})||y[0],items:y}),(0,C.jsx)(eP,{inverted:!0,required:!0,name:"approvers",label:"Assign approvers",options:[...nR(d),...f],initialOptions:[...nR((null==n?void 0:n.approverGroups)||[]),...eO((null==n?void 0:n.approvers)||[])]}),(0,C.jsx)(ep.Z,{primaryButtonText:"Save",disabled:i,loading:i})]})})},nN=e=>e.map(e=>({id:"group_".concat(e.id),name:e.name})),nP=e=>{let{onSubmit:t,policy:n,accountID:r}=e,[i,a]=(0,S.useState)(!1),[l,o]=(0,S.useState)(""),{data:s=[]}=(0,M.i2_)(),{data:d=[]}=(0,M.y$c)(),{data:u=[],isLoading:c}=(0,M.$wb)(eS.Z5.INITIATE_TRANSFER,{accountID:r},{query:{enabled:!!r,retry:!1}}),{endorse:m}=(0,ev.Z)(),{refetch:p}=(0,nE.Z)({pageSize:eC.rA,filters:{activityTypes:[eC.C8.UpdatePolicies],statuses:[eS.oo.Endorsing]}}),{refetch:h}=(0,M.jIf)(),f=(0,S.useCallback)(()=>{h(),p()},[h,p]),v=(0,S.useMemo)(()=>eO(s.filter(e=>{var t,n;return!!(null===(t=e.userKey)||void 0===t?void 0:t.publicKey)&&!!(null===(n=e.signingKey)||void 0===n?void 0:n.publicKey)})),[s]),y=(0,S.useCallback)(async e=>{let{approvers:n,amount:i}=e;try{a(!0);let e=JSON.parse(n),l=e.filter(e=>!e.id.startsWith("group_")),c=e.map(e=>d.find(t=>t.id===e.id.split("group_")[1])).filter(Boolean),p=l.map(e=>{let t=s.find(t=>t.id===e.id);return null==t?void 0:t.signingKey}).filter(Boolean),h=new Set;if(c.forEach(e=>{e.keys&&e.keys.forEach(e=>{(null==e?void 0:e.ownerID)&&h.add(e.ownerID)})}),p.forEach(e=>{(null==e?void 0:e.ownerID)&&h.add(e.ownerID)}),0===h.size){a(!1),o("You must assign at least one initiator.");return}let v=u.filter(e=>"ANY"===i?!!e.maxAmountUSD:i!==e.maxAmountUSD),y={action:{type:eS.Z5.INITIATE_TRANSFER,name:"Initiate"},requiredEndorsementCount:1,allowedEndorsers:p,groupIDs:c.map(e=>e.id),accountID:r};i&&"ANY"!==i&&(y.maxAmountUSD=i);let x=(0,tB.Z)([...v,y]),{operationID:g}=await (0,M.$Z7)(eS.Z5.INITIATE_TRANSFER,{policies:x});f();let b=(0,ef.Z)({operationID:g,policies:x},eC.C8.UpdatePolicies);m({operationID:g,payload:b,onComplete:t})}catch(e){o("Something went wrong. Please try again.")}finally{a(!1)}},[r,t,s,f,d,u,m,a,o]),x=(0,S.useMemo)(()=>{if(n)return nD.iO;let e=u.map(e=>e.maxAmountUSD||"ANY");return nD.iO.filter(t=>{let{id:n}=t;return!e.includes(n)})},[u,n]),g=n?n.maxAmountUSD?x.find(e=>{let{id:t}=e;return t===n.maxAmountUSD})||x[0]:x[x.length-1]:x[0];return(0,C.jsx)(G,{title:"".concat(n?"Update":"Add"," initiator threshold"),children:(0,C.jsxs)(ed.ZP,{onSubmit:y,distribute:!0,error:l,children:[c?(0,C.jsx)(ec.Z,{inverted:!0,disabled:!0,label:"Amount",name:"loadingAmount",items:[]},"fakeAmount"):(0,C.jsx)(ec.Z,{inverted:!0,required:!0,name:"amount",label:"Amount",initialItem:g,fixed:!!n,items:x},"amount"),(0,C.jsx)(eP,{inverted:!0,required:!0,name:"approvers",label:"Assign initiators",options:[...nN(d),...v],initialOptions:[...nN((null==n?void 0:n.approverGroups)||[]),...eO((null==n?void 0:n.approvers)||[])]}),(0,C.jsx)(ep.Z,{primaryButtonText:"Save",disabled:i,loading:i})]})})},nq=e=>{let{onSubmit:t,policy:n}=e,{data:r,isLoading:i}=(0,M.EYj)(nD.bi),{endorse:a}=(0,ev.Z)(),{refetch:l}=(0,nE.Z)({pageSize:eC.rA,filters:{activityTypes:[eC.C8.UpdatePolicies],statuses:[eS.oo.Endorsing]}}),{refetch:o}=(0,M.jIf)(),s=e=>({id:"".concat(e),name:"".concat(e," approver").concat(1===e?"":"s")}),d=(0,S.useCallback)(()=>{o(),l()},[o,l]),u=(0,S.useMemo)(()=>{if(!(null==r?void 0:r.keys)||0===r.keys.length)return[];let e=n.action.type===eS.Z5.POLICY_UPDATE?r.keys.length-1:r.keys.length;return Array(Math.max(1,e)).fill(null).map((e,t)=>s(t+1))},[r,n]),{action:c}=n,m=(0,S.useCallback)(async e=>{let{approvalsNeeded:r}=e,i=[{allowedEndorsers:[],action:c,requiredEndorsementCount:n_(r),groupIDs:[nD.bi]}];if(i[0].requiredEndorsementCount===n.approverCount){t&&t();return}let{operationID:l}=await (0,M.$Z7)(c.type,{policies:i});d();let o=(0,ef.Z)({operationID:l,policies:i},eC.C8.UpdatePolicies);a({operationID:l,payload:o,onComplete:t})},[c,n,d,a,t]);return(0,C.jsx)(G,{title:"Edit ".concat(c.name.toLowerCase()),children:(0,C.jsxs)(ed.ZP,{onSubmit:m,distribute:!0,children:[i?(0,C.jsx)(ec.Z,{inverted:!0,disabled:!0,label:"Approvals needed",name:"loadingGroups",items:[]},"fakeApprovalsNeeded"):(0,C.jsx)(ec.Z,{inverted:!0,required:!0,name:"approvalsNeeded",label:"Approvals needed",initialItem:u.find(e=>{let{id:t}=e;return t==="".concat(null==n?void 0:n.approverCount)}),items:u}),(0,C.jsx)(ep.Z,{primaryButtonText:"Save"})]})})};var nB=n(56387);let nU="newRecipient",nF=e=>{var t;let{transferType:n,currency:r,sourceAddress:i,networkID:a,sourceBalances:l=[]}=e,o=n===t2.Z.Internal,{ModalType:s,openModal:d}=rP(),[u,c]=(0,S.useState)(o),[m,p]=(0,S.useState)(""),[v,y]=(0,S.useState)(""),[x,g]=(0,S.useState)(!1),[b,j]=(0,S.useState)(""),[w,Z]=(0,S.useState)(""),{data:A=[]}=(0,M.kf3)(),{data:k=[]}=(0,M._DB)(),{accounts:D}=(0,nB.Z)(),_=A.filter(e=>D.includes(e.id)),{data:E}=(0,M.uhj)(i.accountID),{data:R=[]}=(0,M.SwJ)(),[T,N]=(0,S.useState)(""),[P,q]=(0,S.useState)(""),B=(0,S.useMemo)(()=>!!(null==E?void 0:E.onlyVerifiedRecipients),[E]),U=(0,S.useCallback)(()=>{Z(""),N(""),q("")},[]),F=(0,S.useCallback)(e=>{let{id:t,name:n}=e;y(""),t===nU?(N(t),q(""),Z(""),c(!1)):(Z(t),q(n),N(""),c(!0))},[]),O=(0,S.useMemo)(()=>{let e=new Set;return k.forEach(t=>{let{canonicalAddress:n,accountID:r,compatibleNetworks:l=[]}=t;if(n!==i.canonicalAddress){if(!l.find(e=>e===a))return;e.add(r)}}),e},[k,i,a]),W=(0,S.useMemo)(()=>{let e=[];return k.forEach(t=>{let{canonicalAddress:n,accountID:r,name:l,compatibleNetworks:o=[]}=t;n!==i.canonicalAddress&&o.find(e=>e===a)&&r===b&&e.push({id:n,name:l||(0,et.Z)(n,!0,12),detail:(0,et.Z)(n,!0,12)})}),1===e.length&&o&&Z(e[0].id),e},[k,b,o,i,a]),K=(0,S.useMemo)(()=>{let e=[];return R.forEach(t=>{var n;let{name:r,blockchainAddress:a,verified:l}=t;a&&a.canonicalAddress!==(null==i?void 0:i.canonicalAddress)&&(null==i?void 0:null===(n=i.family)||void 0===n?void 0:n.id)===a.networkFamilyId&&(!B||l)&&e.push({id:a.canonicalAddress,name:r||(0,et.Z)(a.canonicalAddress,!0,12),detail:(0,et.Z)(a.canonicalAddress,!0,12)})}),1===e.length&&B&&Z(e[0].id),B||e.unshift({id:nU,name:"Custom address",detail:" ",prefix:(0,C.jsx)(I.dY,{})}),e},[i,R,B]),L=(0,S.useMemo)(()=>K.length>1,[K]),Y=(0,S.useCallback)(async e=>{let{amount:t,memo:u,accountID:c}=e,m=_.find(e=>e.id===c);if(o&&!m)return;let p=await (0,M.iAe)({sourceAddress:i,destinationAddress:w,amount:{value:t,currency:r},networkID:a});d(s.ReviewCryptoWithdrawal,{amount:{value:t,currency:r},description:u,transferData:p,sourceAddress:i,sourceBalances:l,recipientName:P,destinationAccount:m,destinationAddress:w,transferType:n,networkID:a})},[_,o,i,w,r,a,d,s.ReviewCryptoWithdrawal,l,n,P]),z=(0,S.useCallback)((e,t)=>{var n,i;let o=l.find(e=>{var t;return(null===(t=e.amount)||void 0===t?void 0:t.currency.symbol)===r.symbol&&e.networkID===a});if(o&&parseFloat((null===(n=o.amount)||void 0===n?void 0:n.value)||"")>=t)return;let s="You don't have enough ".concat(r.symbol,".");return o?"".concat(s," Your address balance is ").concat((null===(i=o.amount)||void 0===i?void 0:i.value)||0,"."):s},[r,l,a]);return(0,C.jsx)(G,{title:o?"Transfer to":"Send to",currentStep:o?h.To:f.To,steps:o?h:f,children:(0,C.jsxs)(ed.ZP,{onSubmit:Y,distribute:!0,defaultServerError:"Failed to prepare transfer. Please try again.",error:m||(x?v:void 0),children:[(0,C.jsxs)(V.Z,{flexDirection:"column",alignItems:"stretch",children:[(0,C.jsx)(tG,{required:!0,inverted:!0,customValidate:z,onErrorChange:p,position:"relative",maxDecimals:r.precision,suffix:r.symbol,borderRadius:o?"medium":"mediumTop",paddingRight:"xxl"}),!o&&(0,C.jsx)(eV.Z,{inverted:!0,height:"80px",width:"280px",resize:"none",name:"memo",placeholder:"Memo",borderRadius:"mediumBottom",marginTop:"-2px",position:"relative",zIndex:{focus:"10",hover:"10"}})]}),(0,C.jsxs)(V.Z,{direction:"vertical",gap:"lg",children:[o&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(tC.Z,{noInitialItem:!0,accountIDs:O,onChange:e=>{j(e.id)}}),(0,C.jsx)(ec.Z,{autofill:!0,inverted:!0,required:!0,label:"To Address",placeholder:"Choose an address",name:"destinationAddress",items:W,onChange:e=>{Z(e.id)}})]}),!o&&(L||B)&&(0,C.jsx)(ec.Z,{autofill:!0,inverted:!0,required:!0,label:"Recipient",placeholder:"Choose a recipient",name:"recipient",items:K,onClear:U,onChange:F}),!o&&!B&&(!L||T===nU)&&(0,C.jsx)(eA,{label:"Address",name:"destinationAddress",placeholder:"Enter address",networkFamily:null===(t=i.family)||void 0===t?void 0:t.name,address:w,sourceAddress:i,setAddress:Z,isValidAddress:u,setIsValidAddress:c,setValidationError:y,setIsAddressBlurred:g,inverted:!0,required:!0})]}),(0,C.jsx)(ep.Z,{primaryButtonText:"Next",secondaryOnClick:()=>d(s.WithdrawCryptoFrom,{transferType:n}),disabled:!!m||!u})]})})},nM=e=>{let{gatedAction:t}=e,{closeModal:n}=rP();return(0,C.jsx)(G,{title:"Verification needed ",children:(0,C.jsxs)(ed.ZP,{onSubmit:()=>n(),children:[(0,C.jsx)(z.Z,{textStyle:"bodyLarge",marginBottom:"lg",children:"Your application is still under review by our banking partners. Once approved, you'll be able to ".concat(t,".")}),(0,C.jsx)(ep.Z,{primaryButtonText:"Close"})]})})};var nO=n(915),nW=n(22318);let nK=[{headline:"Staked ETH cant be withdrawn or traded.",content:"While youre ETH is staked, it cannot be sent off Dakota.",icon:(0,C.jsx)(I.kh,{size:"16px"})},{headline:"Unstaking can take multiple days to complete.",content:"The network requires that staked assets go through a process to become available again to be used. Once unstaking is completed, youll be able to use them again.",icon:(0,C.jsx)(I.Qu,{size:"15px"})},{headline:"You earn rewards from the network.",content:"These rewards are variable and depend on network and validator conditions. In rare cases, your staked assets may be lost due to network penalties.",icon:(0,C.jsx)(I.GG,{size:"20px"})},{headline:"Staking fee",content:"To facilitate this service, Dakota takes a 15% fee that is split between dakota and the validator provider. You receive 85% of the rewards from the network back on your address.",icon:(0,C.jsx)(z.Z,{variant:"bodyLarge",children:"%"})}],nV=()=>{let{openModal:e,ModalType:t}=rP(),n=(0,S.useCallback)(()=>{e(t.StakeForm)},[e,t]),{maxReward:r}=(0,nW.Z)();return(0,C.jsx)(G,{title:"Stake ETH to earn ".concat(r?(0,tX.Z)(r)+" APY":"rewards"),children:(0,C.jsx)(nO.Z,{items:nK,onSubmit:n})})};var nL=n(65819);let nY=ta.hB,nz=()=>{let{ModalType:e,openModal:t}=rP(),n=(0,em.Z)(),[r,i]=(0,S.useState)(""),{data:a=[]}=(0,M.Mgx)(),{data:l=[]}=(0,M.kf3)(),[o,s]=(0,S.useState)(),{addresses:d=[]}=(0,tY.Z)({accountID:n,networkIDs:nL.J,currencySymbol:nY.symbol}),u=(0,S.useMemo)(()=>{let e=new Set;return d.forEach(t=>{e.add(t.accountID)}),l.filter(t=>e.has(t.id))},[l,d]),c=u.find(e=>e.id===n),[m,p]=(0,S.useState)(null==c?void 0:c.id),h=(0,S.useMemo)(()=>d.filter(e=>e.accountID===m),[d,m]),f=(0,S.useMemo)(()=>{var e;return(null===(e=d.find(e=>e.canonicalAddress===o))||void 0===e?void 0:e.balance.networkID)||""},[o,d]),v=(0,S.useCallback)(async n=>{let{sourceAddress:r,providerID:l,amount:o}=n,s=d.find(e=>e.canonicalAddress===r),u=a.find(e=>e.id===l);if(!s||!u){i("Something went wrong. Please try again.");return}let c={value:o,currency:nY},{balance:m,...p}=s,h=await (0,M.CDR)({sourceAddress:p,networkID:m.networkID,providerID:l,amount:c});t(e.StakeReview,{amount:c,sourceAddress:p,networkID:m.networkID,stakingProvider:u,transactionData:h})},[d,a,t,e]);return(0,C.jsx)(G,{title:"Stake ".concat(nY.symbol),children:(0,C.jsxs)(ed.ZP,{onSubmit:v,distribute:!0,error:r,children:[(0,C.jsx)(ec.Z,{label:"Account",name:"accountID",placeholder:"Choose an account",autofill:!0,initialItem:c,items:u,onChange:e=>{let{id:t}=e;return p(t)},inverted:!0,required:!0}),(0,C.jsx)(ec.Z,{required:!0,inverted:!0,autofill:!0,label:"Source Address",placeholder:"Choose an address",name:"sourceAddress",onChange:e=>{let{id:t}=e;return s(t)},items:h.map((e,t)=>({id:e.canonicalAddress,name:e.name||(0,et.Z)(e.canonicalAddress,!0,12),detail:(0,tx.Z)(d[t].balance.amount)}))}),(0,C.jsx)(eu.Z,{required:!0,inverted:!0,label:"Amount",name:"amount",position:"relative",placeholder:"Enter amount",suffix:nY.symbol,disabled:!o,paddingRight:"xxl",zIndex:{focus:"10"}}),(0,C.jsx)(ec.Z,{required:!0,inverted:!0,autofill:!0,disabled:!o||!f,label:"Staking Provider",name:"providerID",placeholder:"Choose a provider",items:a.filter(e=>e.networkID===f).map(e=>{let{id:t,name:n}=e;return{id:t,name:n}})}),(0,C.jsx)(ep.Z,{primaryButtonText:"Next"})]})})},nH=e=>{let{amount:t,sourceAddress:n,transactionData:r,stakingProvider:i,networkID:a}=e,{ModalType:l,openModal:o}=rP(),{data:s}=(0,M.Smy)(),{endorse:d}=(0,ev.Z)(),{display:u}=(0,Q.Z)(),c=(0,S.useCallback)(async e=>{if(e){let t=await (0,M.Iu4)(e);t.policy&&t.policy.requiredEndorsementCount>1?o(l.ApprovalsNeeded,{additionalApprovalsNeeded:t.policy.requiredEndorsementCount-1,operationCopy:"staking"}):u({title:"Staking initiated",message:"Successfully initiated staking operation."})}},[o,l,u]),m=(0,S.useCallback)(async()=>{if(!s)return;let{operationID:e}=await (0,M.oHQ)({sourceAddress:n,networkID:a,amount:t,providerID:i.id,maxFee:r.maxFee}),l=(0,ef.Z)({operationID:e,organizationID:s.organizationID,addressSubID:n.addressSubID,networkID:n.networkID},eC.C8.BlockchainStake);d({operationID:e,payload:l,onComplete:c})},[s,n,a,t,i.id,r,d,c]),p=(0,S.useCallback)(()=>o(l.StakeForm),[o,l]);return(0,C.jsx)(G,{title:"Confirm Stake",children:(0,C.jsxs)(ed.ZP,{onSubmit:m,distribute:!0,defaultServerError:"Failed to stake assets. Please try again.",children:[(0,C.jsxs)(V.Z,{direction:"vertical",borderRadius:"large",borderColor:"primary70",borderWidth:"1px",children:[(0,C.jsx)(V.Z,{paddingY:"4px",alignSelf:"center",children:(0,C.jsx)(tb,{amount:t})}),(0,C.jsx)(L.Z,{faint:!0}),(0,C.jsxs)(V.Z,{direction:"vertical",padding:"lg",gap:"lg",children:[(0,C.jsx)(tj,{label:"Amount",value:(0,tx.Z)(t),splitValue:(0,ee.Z)(r.amountInUSD),ruleBelow:!0}),(0,C.jsx)(tj,{label:"Reward rate",value:(0,tX.Z)(i.rewardRate),ruleBelow:!0}),(0,C.jsx)(tj,{label:"Max network fee",value:(0,tx.Z)(r.maxFee,{precision:4}),splitValue:(0,ee.Z)(r.maxFeeInUSD),ruleBelow:!0}),(0,C.jsx)(tj,{label:"Rewards commission",value:(0,tX.Z)(i.commissionRate,0),ruleBelow:!0}),(0,C.jsx)(tj,{label:"Unstake period",value:"~".concat(i.unstakePeriodInDays," days")})]})]}),(0,C.jsx)(ep.Z,{primaryButtonText:"Submit",secondaryOnClick:p})]})})},nG=()=>{let{ModalType:e,openModal:t}=rP(),n=(0,em.Z)(),[r,i]=(0,S.useState)(n),[a,l]=(0,S.useState)(""),[o,s]=(0,S.useState)(""),[d,u]=(0,S.useState)(""),[c,m]=(0,S.useState)(""),[p,h]=(0,S.useState)(""),{rampCurrencySymbols:f,isLoading:v}=tl(),{data:y=[]}=(0,M.Ilo)(),{data:x=[],isLoading:g}=(0,M.gM6)(),j=(0,S.useCallback)(()=>{m(p)},[m,p]),w=(0,S.useMemo)(()=>{if(c&&!(parseFloat(c)>=eC.bb))return"Amount must be at least $".concat(eC.bb)},[c]),Z=(0,S.useMemo)(()=>v||g,[g,v]),A=(0,S.useMemo)(()=>{let e=new Set;return x.forEach(t=>{let{address:n,balances:r}=t;r.some(e=>e.amount&&0!==parseFloat(e.amount.value)&&f.includes(e.amount.currency.symbol))&&e.add(n.accountID)}),e},[x,f]),k=(0,S.useMemo)(()=>null==A?void 0:A.size,[A]),I=(0,S.useCallback)(e=>{let{id:t}=e;i(t)},[i]),{assetOptions:D,currenciesBySymbol:_}=(0,S.useMemo)(()=>{let e=new Set,t=new Map;x.forEach(n=>{let{address:i,balances:a}=n;r&&i.accountID===r&&a.forEach(n=>{var r;let i=null===(r=n.amount)||void 0===r?void 0:r.currency,a=null==i?void 0:i.symbol,l=f.find(e=>e===a&&n.amount&&0!==parseFloat(n.amount.value)),o=a!==ta.AA.symbol||n.networkID.includes("ethereum");a&&l&&o&&(t.set(a,i),e.add(a))})});let n=Array.from(e).map(e=>({id:e,name:e}));return 1===n.length&&s(n[0].id),{assetOptions:n,currenciesBySymbol:t}},[x,r,f]),E=(0,S.useMemo)(()=>{let e=x.filter(e=>{let{address:t}=e;return t.accountID===r}).flatMap(e=>{let{balances:t}=e;return t}).filter(e=>{let{amount:t}=e;return!!t&&t.currency.symbol===o&&"0"!==t.value}).map(e=>{let{networkID:t}=e;return t}),t=y.filter(t=>{let n=e.includes(t.id),r=t.family.name.toLowerCase().includes("ethereum"),i=o!==ta.AA.symbol||t.id.includes("ethereum");return n&&r&&i});return 1===t.length&&l(t[0].id),t},[y,r,x,o]),R=(0,S.useCallback)(e=>{let t=x.filter(t=>{let{address:n}=t;return n.canonicalAddress===e}).flatMap(e=>{let{balances:t}=e;return t}).filter(e=>{let{networkID:t}=e;return t===a}).find(e=>{let{amount:t}=e;return t&&t.currency.symbol===o}),{amount:n}=t||{};return n?(0,tx.Z)(n):""},[x,o,a]),T=(0,S.useMemo)(()=>x.filter(e=>{let{address:t}=e;return t.accountID===r}).filter(e=>{let{balances:t}=e;return t.some(e=>{let{networkID:t,amount:n}=e;return t===a&&n&&n.currency.symbol===o&&"0"!==n.value})}).map(e=>{let{address:t}=e;return{id:t.canonicalAddress,name:t.name||(0,et.Z)(t.canonicalAddress,!0,12),detail:R(t.canonicalAddress)}}),[r,x,a,o,R]),N=(0,S.useCallback)(n=>{var r;let{sourceAddress:i}=n,{address:l,balances:s}=x.find(e=>e.address.canonicalAddress===i)||{},d=_.get(o);if(!l||!s||!d||!a){u("Something went wrong. Please try again.");return}let c=(null===(r=s.find(e=>{var t;return(null===(t=e.amount)||void 0===t?void 0:t.currency.symbol)===o&&e.networkID===a}))||void 0===r?void 0:r.amountInUSD)||"";if(parseFloat(c)<parseFloat(p)){u("Swap of ".concat((0,ee.Z)(p)," exceeds the account balance of ").concat((0,ee.Z)(c)));return}t(e.SwapTo,{amount:p,sourceAddress:l,sourceCurrency:d,sourceNetworkID:a})},[x,_,o,a,t,e,p]);return(0,C.jsx)(G,{title:k?"Swap from":"Make a Deposit",description:k?"All swaps are 1:1".concat(o===ta.AA.symbol?"*":""):"",currentStep:b.From,steps:b,children:k?(0,C.jsxs)(ed.ZP,{onSubmit:N,distribute:!0,error:d||w,position:"relative",children:[(0,C.jsx)(tC.Z,{accountIDs:A,onChange:I}),(0,C.jsx)(ec.Z,{autofill:!0,inverted:!0,required:!0,label:"Asset",name:"asset",placeholder:"Choose an asset",initialItem:D.find(e=>e.id===o),items:D,onChange:e=>{s(e.id)}}),E.length>1&&(0,C.jsx)(ec.Z,{autofill:!0,inverted:!0,required:!0,label:"Network",name:"networkID",placeholder:"Choose a network",initialItem:E.find(e=>e.id===a),items:E,onChange:e=>l(e.id)}),(0,C.jsx)(ec.Z,{autofill:!0,inverted:!0,required:!0,label:"Source Address",placeholder:"Choose an address",name:"sourceAddress",initialItem:T.find(e=>e.id===r),items:T},T.map(e=>e.id).join(",")),(0,C.jsx)(tA,{inverted:!0,onBlur:j,onChange:h,min:eC.bb,name:"amount",label:"Amount",required:!0}),o===ta.AA.symbol&&(0,C.jsx)(z.Z,{color:"textDetailInverted",position:"absolute",bottom:"12px",left:"0",children:"*USDT swaps incur a 0.1% exchange fee"}),(0,C.jsx)(ep.Z,{primaryButtonText:"Next"})]}):(0,C.jsx)(ed.ZP,{onSubmit:()=>t(e.SelectDepositType),error:w,gap:"md",children:Z?(0,C.jsx)(tp.Z,{children:(0,C.jsx)(V.Z,{justify:"center",marginY:"32px",children:(0,C.jsx)(tg.Z,{size:"lg"})})}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(tp.Z,{message:"To swap stablecoins you need to make a Wire, ACH or stablecoin deposit into one of your Dakota accounts.",marginBottom:"sm"}),(0,C.jsx)(ep.Z,{primaryButtonText:"Continue"})]})})})},n$=e=>{var t,n;let{onSubmit:r,sourceAddress:i,sourceNetworkID:a,sourceCurrency:l,destinationAddress:o,destinationNetworkID:s,destinationCurrency:d,transferData:u,amount:c,expectedDepositAmount:m,exchangeFee:p,transferID:h}=e,{ModalType:f,openModal:v}=rP(),{data:y}=(0,M.Smy)(),{endorse:x}=(0,ev.Z)(),{data:g=[]}=(0,M.y$c)(),{display:j}=(0,Q.Z)(),{data:w}=(0,M.Ilo)(),Z=(0,S.useCallback)(async e=>{if(e){let t=await (0,M.Iu4)(e);t.policy&&t.policy.requiredEndorsementCount>1?v(f.ApprovalsNeeded,{additionalApprovalsNeeded:t.policy.requiredEndorsementCount-1,operationCopy:"swap"}):(j({title:"Swap initiated",message:"View transactions for more information"}),r&&r())}},[r,v,f,j]),A=(0,S.useCallback)(async()=>{if(!y)return;let e={sourceAddress:i,destinationAddress:o,amount:c,maxFee:u.maxFee,networkID:a,rampTransferID:h};h&&(e.rampTransferID=h);let{operationID:t}=await (0,M.oh0)(e),n=await (0,M.Iu4)(t),l=n.policy?t9(n.policy,g):new Set;if(l.has(y.id)){let e=(0,ef.Z)({operationID:t,organizationID:y.organizationID,addressSubID:i.addressSubID,networkID:i.networkID,destinationAddress:o,amount:c,maxFee:u.maxFee},eC.C8.StableConversion);x({operationID:t,payload:e,onComplete:Z})}else{var s;(null===(s=n.policy)||void 0===s?void 0:s.requiredEndorsementCount)?v(f.ApprovalsNeeded,{additionalApprovalsNeeded:n.policy.requiredEndorsementCount,operationCopy:"swap"}):r&&r()}},[y,i,o,c,u.maxFee,a,h,g,x,Z,r,v,f.ApprovalsNeeded]);return(0,C.jsx)(G,{title:"Review swap details",currentStep:b.Review,steps:b,children:(0,C.jsxs)(ed.ZP,{onSubmit:A,distribute:!0,defaultServerError:"Failed to create swap. Please try again.",children:[(0,C.jsxs)(V.Z,{direction:"vertical",borderRadius:"large",borderColor:"primary70",borderWidth:"1px",children:[(0,C.jsx)(N.Z,{alignSelf:"center",paddingY:"md",children:(0,C.jsx)(t4.Z,{inverted:!0,value:(0,ee.Z)(u.finalAmountInUSD)})}),(0,C.jsxs)(V.Z,{borderTopWidth:"1px",borderBottomWidth:"1px",borderColor:"primary70",children:[(0,C.jsxs)(V.Z,{width:"1/2",direction:"vertical",padding:"lg",borderRightWidth:"1px",borderColor:"primary70",children:[(0,C.jsx)(z.Z,{children:"From"}),(0,C.jsxs)(V.Z,{direction:"vertical",marginTop:"sm",color:"primary30",gap:"xxs",children:[(0,C.jsx)(z.Z,{children:(0,et.Z)(i.canonicalAddress,!0,12)}),(0,C.jsx)(z.Z,{children:(null===(t=null==w?void 0:w.find(e=>e.id===a))||void 0===t?void 0:t.name)||""}),(0,C.jsx)(z.Z,{children:l.symbol})]})]}),(0,C.jsxs)(V.Z,{width:"1/2",direction:"vertical",padding:"lg",children:[(0,C.jsx)(z.Z,{children:"To"}),(0,C.jsxs)(V.Z,{direction:"vertical",marginTop:"sm",color:"primary30",gap:"xxs",children:[(0,C.jsx)(z.Z,{children:(0,et.Z)(i.canonicalAddress,!0,12)}),(0,C.jsx)(z.Z,{children:(null===(n=null==w?void 0:w.find(e=>e.id===s))||void 0===n?void 0:n.name)||""}),(0,C.jsx)(z.Z,{children:d})]})]})]}),p&&m&&0!==parseFloat(p.value)&&(0,C.jsxs)(V.Z,{direction:"vertical",padding:"lg",gap:"lg",children:[(0,C.jsx)(tj,{label:"Exchange Fee",value:(0,tx.Z)(p),ruleBelow:!0,lowlighted:!0}),(0,C.jsx)(tj,{label:"Expected Deposit",value:(0,tx.Z)(m),highlighted:!0})]})]}),(0,C.jsx)(ep.Z,{primaryButtonText:"Swap",secondaryOnClick:()=>v(f.SwapTo,{amount:(null==c?void 0:c.value)||"",sourceAddress:i,sourceNetworkID:a,sourceCurrency:l})})]})})},nJ={[ta.AA.symbol]:[ta.gn],[ta.gn.symbol]:[ta.ug,ta.AA],[ta.ug.symbol]:[ta.gn]},nX=e=>{let{amount:t,sourceCurrency:n,sourceAddress:r,sourceNetworkID:i}=e,{ModalType:a,openModal:l}=rP(),{data:o=[]}=(0,M.eXZ)(),[s,d]=(0,S.useState)(""),u=(0,S.useMemo)(()=>o.filter(e=>{let t=nJ[n.symbol];return null==t?void 0:t.some(t=>t.symbol===e.symbol)}).map(e=>({id:e.symbol,name:e.name})),[o,n]),c=(0,S.useMemo)(()=>{let e=o.find(e=>e.symbol===s);if(!e)return[];let t=e.supportedNetworks.filter(e=>{var t;let i=null===(t=r.compatibleNetworks)||void 0===t?void 0:t.some(t=>t===e.id);if(!i)return!1;let a=n.symbol===ta.ug.symbol&&s===ta.gn.symbol,l=n.symbol===ta.gn.symbol&&s===ta.ug.symbol;if(a||l)return!0;let o=n.symbol===ta.AA.symbol&&s===ta.gn.symbol;if(o)return!e.id.includes("base");let d=n.symbol===ta.gn.symbol&&s===ta.AA.symbol;return!!d&&e.id.includes("ethereum")});return t.map(e=>({id:e.id,name:e.name}))},[n,s,o,r]),m=(0,S.useCallback)(async e=>{let{networkID:d}=e,u=o.find(e=>e.symbol===s);if(!u||!d)return;let{transferID:c,depositInstructions:m,expectedDepositAmount:p,exchangeFee:h}=await (0,M.z5m)({source:{address:r,networkID:i,amount:{value:t,currency:n}},destination:{address:r.canonicalAddress,networkID:d,currency:{name:u.name,symbol:u.symbol}}}),f=await (0,M.iAe)({sourceAddress:r,destinationAddress:m.address,amount:m.amount,networkID:i,rampTransferID:c});l(a.SwapReview,{amount:{value:t,currency:n},expectedDepositAmount:p,exchangeFee:h,transferData:f,transferID:c,sourceAddress:r,sourceCurrency:n,sourceNetworkID:i,destinationAddress:m.address,destinationCurrency:s,destinationNetworkID:d})},[o,r,i,t,n,l,a.SwapReview,s]);return(0,C.jsx)(G,{title:"Swap to",description:"All swaps are 1:1".concat(n.symbol===ta.AA.symbol?"*":""),currentStep:b.To,steps:b,children:(0,C.jsxs)(ed.ZP,{onSubmit:m,distribute:!0,defaultServerError:"Failed to prepare swap. Please try again.",position:"relative",children:[(0,C.jsx)(ec.Z,{autofill:!0,inverted:!0,required:!0,label:"Asset",name:"asset",placeholder:"Choose an asset",items:u,onChange:e=>{d(e.id)}}),(0,C.jsx)(ec.Z,{autofill:!0,inverted:!0,required:!0,label:"Network",name:"networkID",placeholder:"Choose a network",items:c}),n.symbol===ta.AA.symbol&&(0,C.jsx)(z.Z,{color:"textDetailInverted",position:"absolute",bottom:"12px",left:"0",children:"*USDT swaps incur a 0.1% exchange fee"}),(0,C.jsx)(ep.Z,{primaryButtonText:"Next",secondaryOnClick:()=>l(a.SwapFrom)})]})})},nQ=()=>{let{closeModal:e}=rP();return(0,C.jsx)(G,{title:"Deposit request received",children:(0,C.jsxs)(ed.ZP,{onSubmit:e,children:[(0,C.jsx)(N.Z,{marginBottom:"xl",borderRadius:"large",borderWidth:"1px",borderColor:"primary70",padding:"lg",children:(0,C.jsx)(z.Z,{variant:"bodyLarge",children:"SWIFT deposits are manually reviewed and confirmed. Our team will reach out shortly with deposit instructions."})}),(0,C.jsx)(ep.Z,{})]})})},n0=()=>{let{ModalType:e,openModal:t}=rP(),n=(0,em.Z)(),[r,i]=(0,S.useState)(""),[a,l]=(0,S.useState)(!1),[o,s]=(0,S.useState)(),{addresses:d=[]}=(0,tY.Z)({accountID:n,currencySymbol:nL.S.symbol,lockedReason:eS.u$.STAKED}),u=(0,S.useMemo)(()=>{let e=d.find(e=>e.canonicalAddress===o),{provider:t}=(null==e?void 0:e.balance.locked)||{};return t?[t]:[]},[d,o]),c=(0,S.useMemo)(()=>{var e;let t=d.find(e=>e.canonicalAddress===o);return null===(e=null==t?void 0:t.balance.amount)||void 0===e?void 0:e.value},[d,o]),m=(0,S.useCallback)(async n=>{let{sourceAddress:r,amount:l}=n,o=d.find(e=>e.canonicalAddress===r);if(!o){i("Something went wrong. Please try again.");return}let{balance:s,...c}=o,m=u.find(e=>{var t;return e.id===(null===(t=o.balance.locked)||void 0===t?void 0:t.provider.id)});if(!m){i("Something went wrong. Please try again.");return}let p=await (0,M.WfF)({sourceAddress:c,networkID:s.networkID,providerID:m.id,amount:{value:l,currency:nL.S},all:a});t(e.UnstakeReview,{sourceAddress:c,networkID:s.networkID,stakingProvider:m,transactionData:p,all:a})},[d,u,a,t,e]);return(0,C.jsx)(G,{title:"Unstake ".concat(nL.S.symbol),children:(0,C.jsxs)(ed.ZP,{onSubmit:m,distribute:!0,error:r,children:[(0,C.jsx)(ec.Z,{inverted:!0,required:!0,autofill:!0,label:"Source Address",placeholder:"Choose an address",name:"sourceAddress",items:d.map((e,t)=>({id:e.canonicalAddress,name:e.name||(0,et.Z)(e.canonicalAddress,!0,12),detail:(0,tx.Z)(d[t].balance.amount)})),onChange:e=>{let{id:t}=e;return s(t)}}),(0,C.jsxs)(N.Z,{position:"relative",children:[a?(0,C.jsx)(Y.Z,{size:"lg"}):(0,C.jsx)(eu.Z,{inverted:!0,required:!0,label:"Amount",name:"amount",position:"relative",placeholder:"Enter amount",disabled:!o,readOnly:!!a||void 0,suffix:nL.S.symbol,paddingRight:"xxl",value:a?c:void 0,zIndex:{focus:"10"}}),(0,C.jsxs)(V.Z,{position:"absolute",top:"0",right:"0",children:[(0,C.jsx)(z.Z,{textStyle:"labelForm",marginRight:"xs",children:"Unstake all"}),(0,C.jsx)(eq.Z,{inverted:!0,disabled:!o,checked:a,onChange:()=>l(!a),name:"unstakeAll"})]})]}),(0,C.jsx)(ep.Z,{primaryButtonText:"Next"})]})})},n1=e=>{let{all:t,sourceAddress:n,networkID:r,transactionData:i,stakingProvider:a}=e,{ModalType:l,openModal:o}=rP(),{data:s}=(0,M.Smy)(),{endorse:d}=(0,ev.Z)(),{display:u}=(0,Q.Z)(),c=(0,S.useCallback)(async e=>{if(e){let t=await (0,M.Iu4)(e);t.policy&&t.policy.requiredEndorsementCount>1?o(l.ApprovalsNeeded,{additionalApprovalsNeeded:t.policy.requiredEndorsementCount-1,operationCopy:"unstaking"}):u({title:"Unstaking initiated",message:"Successfully initiated unstaking operation."})}},[u,o,l]),m=(0,S.useCallback)(async()=>{if(!s)return;let{operationID:e}=await (0,M.H_G)({sourceAddress:n,networkID:r,amount:i.amount,providerID:a.id,maxFee:i.maxFee,all:t}),l=(0,ef.Z)({operationID:e,organizationID:s.organizationID,addressSubID:n.addressSubID,networkID:n.networkID},eC.C8.BlockchainUnstake);d({operationID:e,payload:l,onComplete:c})},[s,t,n,r,a,i,d,c]),p=(0,S.useCallback)(()=>o(l.UnstakeForm),[o,l]);return(0,C.jsx)(G,{title:"Confirm Unstake",children:(0,C.jsxs)(ed.ZP,{onSubmit:m,distribute:!0,defaultServerError:"Failed to unstake assets. Please try again.",children:[(0,C.jsxs)(V.Z,{direction:"vertical",borderRadius:"large",borderColor:"primary70",borderWidth:"1px",children:[(0,C.jsx)(V.Z,{paddingY:"4px",alignSelf:"center",children:(0,C.jsx)(tb,{amount:i.amount})}),(0,C.jsx)(L.Z,{faint:!0}),(0,C.jsxs)(V.Z,{direction:"vertical",padding:"lg",gap:"lg",children:[(0,C.jsx)(tj,{label:"Amount",value:(0,tx.Z)(i.amount),splitValue:(0,ee.Z)(i.amountInUSD),ruleBelow:!0}),(0,C.jsx)(tj,{label:"Max network fee",value:(0,tx.Z)(i.maxFee),splitValue:(0,ee.Z)(i.maxFeeInUSD),ruleBelow:!0}),(0,C.jsx)(tj,{label:"Unstake period",value:"~".concat(a.unstakePeriodInDays," days")})]})]}),(0,C.jsx)(ep.Z,{primaryButtonText:"Submit",secondaryOnClick:p})]})})},n9=e=>{let{account:t,onSubmit:n}=e,[r,i]=(0,S.useState)(t.name||""),a=(0,S.useCallback)(async e=>{let{name:r}=e,i=await (0,M.sGo)(t.id,{name:r.trim()});n&&n(i)},[t,n]);return(0,C.jsx)(G,{title:"Rename Account",children:(0,C.jsxs)(ed.ZP,{onSubmit:a,distribute:!0,children:[(0,C.jsx)(eu.Z,{inverted:!0,defaultValue:t.name,label:"Account name",name:"name",onChange:i,required:!0}),(0,C.jsx)(ep.Z,{primaryButtonText:"Save",disabled:t.name.trim()===r.trim()})]})})},n2=e=>{let t=new Set;return e.users.forEach(e=>t.add(e.id)),e.groups.forEach(e=>{var n;null===(n=e.keys)||void 0===n||n.forEach(e=>{(null==e?void 0:e.ownerID)&&t.add(e.ownerID)})}),t};var n8=n(52915);let n4=e=>e.map(e=>({id:"group_".concat(e.id),name:e.name})),n3=e=>{let{onSubmit:t,accountID:n,permission:r}=e,[i,a]=(0,S.useState)(!1),[l,o]=(0,S.useState)(""),{data:s=[]}=(0,M.i2_)(),{data:d=[]}=(0,M.y$c)(),{data:u=[],isLoading:c}=(0,M.jIf)(),{data:m=[],isLoading:p}=(0,M.slJ)(n),h=(0,S.useMemo)(()=>(0,n8.Z)(u,n),[u,n]),f=r.permission.type===eS.vH.VIEW,v=(0,S.useMemo)(()=>eO(s.filter(e=>{var t,n;return!!(null===(t=e.userKey)||void 0===t?void 0:t.publicKey)&&!!(null===(n=e.signingKey)||void 0===n?void 0:n.publicKey)})),[s]),y=(0,S.useCallback)(async e=>{let{members:i}=e;try{a(!0);let e=JSON.parse(i),u=e.filter(e=>{let{id:t}=e;return t.startsWith("group_")}).map(e=>{let{id:t}=e;return d.find(e=>e.id===t.split("group_")[1])}).filter(Boolean),c=e.filter(e=>{let{id:t}=e;return!t.startsWith("group_")}).map(e=>{let{id:t}=e;return s.find(e=>e.id===t)}).filter(Boolean);if(f){let e=n2({permission:r.permission,users:c,groups:u});if(0===e.size){a(!1),o("You must assign at least viewer.");return}let t=r.groups.filter(e=>!u.find(t=>t.id===e.id)),n=r.users.filter(e=>!c.find(t=>t.id===e.id)),i=[],s=[];for(let e of m){var l;if((null===(l=e.permission)||void 0===l?void 0:l.type)!==eS.vH.VIEW){for(let t of n)e.userIDs.includes(t.id)&&s.push(t);for(let n of t)e.groupIDs.includes(n.id)&&i.push(n)}}if(Object.values(h).forEach(e=>{e.forEach(e=>{let r=e.allowedEndorsers.map(e=>null==e?void 0:e.ownerID).filter(Boolean);for(let e of n)r.includes(e.id)&&!s.find(t=>t.id===e.id)&&s.push(e);for(let n of t)e.groupIDs.includes(n.id)&&!i.find(e=>e.id===n.id)&&i.push(n)})}),s.length>0||i.length>0){let e=[...i.map(e=>e.name),...s.map(e=>(0,eM.Z)(e))].join(", ");a(!1),o("Cannot remove view access because the following members are part of a policy: ".concat(e));return}}let p={permissionType:r.permission.type};(c.length>0||r.users.length>0)&&(p.userIDs=c.map(e=>e.id)),(u.length>0||r.groups.length>0)&&(p.groupIDs=u.map(e=>e.id)),await (0,M.Vv_)(n,[p]),t&&t(r.permission.name)}catch(e){o("Something went wrong. Please try again")}finally{a(!1)}},[r,m,h,f,t,s,d,n,a,o]);return(0,C.jsx)(G,{title:"Update ".concat(f?"view":"generate address"," permission"),children:(0,C.jsxs)(ed.ZP,{onSubmit:y,distribute:!0,error:l,children:[(0,C.jsx)(eP,{inverted:!0,required:f,name:"members",label:"Assign users",options:[...n4(d),...v],initialOptions:[...n4(r.groups),...eO(r.users)]}),(0,C.jsx)(ep.Z,{primaryButtonText:"Save",disabled:i,loading:i||c||p})]})})},n5=e=>{var t;let{address:n,onSubmit:r}=e,[i,a]=(0,S.useState)(!1),[l,o]=(0,S.useState)(""),[s,d]=(0,S.useState)(n.name||""),u=(0,S.useCallback)(async e=>{let{name:t}=e;try{a(!0),await (0,M.y3E)(n.canonicalAddress,{name:t.trim()}),r&&r({oldName:n.name||"",newName:t})}catch(e){console.error(e),o((0,eL.Z)(e,"Something went wrong while updating the address. Please try again."))}finally{a(!1)}},[r,o,a,n]);return(0,C.jsx)(G,{title:"Rename Address",children:(0,C.jsxs)(ed.ZP,{onSubmit:u,distribute:!0,error:l,children:[(0,C.jsx)(eu.Z,{inverted:!0,defaultValue:n.name,label:"Address name",name:"name",onChange:d,required:!0}),(0,C.jsx)(ep.Z,{primaryButtonText:"Submit",disabled:i||(null===(t=n.name)||void 0===t?void 0:t.trim())===s.trim(),loading:i})]})})},n6=e=>{let{onSubmit:t}=e,{data:n,isLoading:r}=(0,M.Smy)(),i=(0,S.useCallback)(async e=>{let{name:r}=e;(null==n?void 0:n.id)&&(await (0,M.Nqq)(n.id,{name:r}),t&&t())},[t,n]);return(0,C.jsx)(G,{title:"Update Profile",children:(0,C.jsxs)(ed.ZP,{onSubmit:i,distribute:!0,children:[(0,C.jsx)(eu.Z,{inverted:!0,required:!0,name:"name",label:"Name",placeholder:"Enter name",defaultValue:(null==n?void 0:n.name)||void 0}),(0,C.jsx)(ep.Z,{primaryButtonText:"Save",disabled:r})]})})},n7=e=>{let{onSubmit:t}=e,{rampCurrencies:n}=tl(),{data:r}=(0,M.waZ)(),{data:i}=(0,M.m7G)((null==r?void 0:r.id)||""),a=(0,S.useMemo)(()=>null==i?void 0:i.defaultNetworkCurrency,[i]),[l,o]=(0,S.useState)((null==a?void 0:a.symbol)||""),[s,d]=(0,S.useState)((null==a?void 0:a.network.id)||""),u=(0,S.useMemo)(()=>n.map(e=>({id:e.symbol,name:e.name}))||[],[n]),c=(0,S.useMemo)(()=>(null==a?void 0:a.symbol)?u.find(e=>e.id===a.symbol):void 0,[a,u]),m=(0,S.useMemo)(()=>{var e;return l&&(null===(e=n.find(e=>e.symbol===l))||void 0===e?void 0:e.supportedNetworks.map(e=>({id:e.id,name:e.name})))||[]},[l,n]),p=(0,S.useMemo)(()=>(null==a?void 0:a.network.id)?null==m?void 0:m.find(e=>e.id===(null==a?void 0:a.network.id)):void 0,[a,m]),h=(0,S.useCallback)(async()=>{r&&t&&(await (0,M.MzS)(r.id,{defaultCurrency:{currencySymbol:l,networkID:s}}),t())},[t,l,s,r]);return(0,C.jsx)(G,{title:"Update Stablecoin Defaults",children:(0,C.jsxs)(ed.ZP,{onSubmit:h,distribute:!0,children:[(0,C.jsx)(ec.Z,{autofill:!0,inverted:!0,required:!0,label:"Asset",name:"asset",placeholder:"Choose an asset",initialItem:c,items:u,onChange:e=>{o(e.id)}}),(0,C.jsx)(ec.Z,{inverted:!0,required:!0,label:"Network",name:"networkID",placeholder:"Choose a network",initialItem:p,items:m,onChange:e=>d(e.id)}),(0,C.jsx)(ep.Z,{primaryButtonText:"Save"})]})})},re=(e,t,n,r)=>{let i=new Set;return n.forEach(n=>{let{policies:a,action:l}=n;a.forEach(n=>{let a=n.requiredEndorsementCount,o=r.map(n=>n.id===e?{...n,keys:(n.keys||[]).filter(e=>!((null==e?void 0:e.ownerID)&&t.includes(e.ownerID)))}:n),s=t9(n,o);s.size<a&&i.add(l.name)})}),Array.from(i)},rt=(e,t)=>{let n=[],r=[];for(let n of t)e.includes(n)||r.push(n);for(let r of e)t.includes(r)||n.push(r);return{addUserIDs:n,removeUserIDs:r}},rn=e=>{let{onUpdate:t,group:n}=e,[r,i]=(0,S.useState)(""),{data:a=[]}=(0,M.i2_)(),{data:l=[],isLoading:o,refetch:s}=(0,M.y$c)(),{data:d=[],isLoading:u}=(0,M.jIf)(),{endorse:c}=(0,ev.Z)(),m=(0,S.useCallback)(async e=>{let{name:r,users:o}=e;if(!n)return;let u=o?JSON.parse(o):[],{addUserIDs:m,removeUserIDs:p}=rt(u.map(e=>e.id),n.users.map(e=>e.id)),h=()=>{s(),t&&t(r||n.name)},f=m.map(e=>{var t;return null===(t=a.find(t=>t.id===e))||void 0===t?void 0:t.signingKey}).filter(Boolean),v=p.map(e=>{var t;return null===(t=a.find(t=>t.id===e))||void 0===t?void 0:t.signingKey}).filter(Boolean);if(0===f.length&&0===v.length&&(n.name===r||"Admin"===n.name)){h();return}if(v.length>0){let e=re(n.id,p,d,l);if(e.length>0){i("Group update would leave the following policies without enough approvers: ".concat(e.join(", "),". Please update the policies then try again."));return}}let y={};n.name!==r&&(y.name=r),f.length>0&&(y.addUserKeys=f),v.length>0&&(y.removeUserKeys=v);let{operationID:x}=await (0,M.IDo)(n.id,y);if(x){let e=(0,ef.Z)({operationID:x,addUsers:f,removeUsers:v},eC.C8.UpdateUserGroup);c({operationID:x,payload:e,verdict:eS.cd.APPROVE,onComplete:h})}else h()},[t,a,c,s,i,n,d,l]);return n?(0,C.jsx)(G,{title:"Update user group",children:(0,C.jsxs)(ed.ZP,{onSubmit:m,distribute:!0,error:r,children:[(0,C.jsx)(eu.Z,{inverted:!0,name:"name",label:"Name",defaultValue:n.name,placeholder:"Enter group name",required:!0,disabled:"Admin"===n.name}),(0,C.jsx)(eP,{inverted:!0,name:"users",label:"Users",options:eO(a.filter(e=>!!e.signingKey)),initialOptions:eO(n.users)}),(0,C.jsx)(ep.Z,{primaryButtonText:"Save",disabled:u||o})]})}):null};var rr=n(52573),ri=n(59832);let ra=(e,t)=>window.crypto.subtle.deriveKey({name:"ECDH",public:t},e,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"]),rl=e=>window.crypto.subtle.importKey(ri.oX.spki,(0,ri.aS)(e),{name:"ECDH",namedCurve:"P-384"},!1,[]),ro=()=>window.crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-384"},!0,["deriveKey"]);(m=Z||(Z={}))[m.Pending=0]="Pending",m[m.Complete=1]="Complete";let rs=e=>{let{onComplete:t,onDecrypt:n,payload:r,userShard:i,wrappingPublicKey:a,wrappingIV:l,extraData:o}=e,[s,d]=(0,S.useState)(null),[u,c]=(0,S.useState)(!1),[m,p]=(0,S.useState)(Z.Pending),h=(0,S.useRef)(null),{data:f}=(0,M.Smy)(),{data:v}=(0,M.NS7)();(0,S.useEffect)(()=>{if(m===Z.Complete&&!u&&!s){var e;null===(e=h.current)||void 0===e||e.click()}},[m,u,s]);let y=(0,S.useCallback)(async e=>{let{pin:s}=e;try{var u,m;let e;c(!0);let{salt:p,iv:h}=JSON.parse((null==f?void 0:null===(u=f.userKey)||void 0===u?void 0:u.extra)||""),y=null==f?void 0:null===(m=f.userKey)||void 0===m?void 0:m.wrappedPrivateKey;if(!y)throw Error("No wrappedPrivateKey");try{e=await (0,ri.RE)({pin:s,wrappedKey:(0,ri.aS)(y),salt:new Uint8Array(p),iv:new Uint8Array(h)})}catch(e){c(!1),d("Incorrect PIN. Please try again.");return}let x=await rl(a);if(!x)throw Error("No publicKey");let g=await ra(e,x),b=await window.crypto.subtle.decrypt({name:"AES-GCM",iv:(0,ri.aS)(l)},g,(0,ri.aS)(i));if(n&&n({userShard:(0,ri.CB)(b)}),!t)return;let{publicKey:j,privateKey:w}=await ro();if(!(null==v?void 0:v.publicKey))throw Error("No dakota publicKey");let Z=await rl(v.publicKey),A=await ra(w,Z),{iv:C}=(0,ri.dM)(),S=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:C},A,b),k=await (0,ri.oD)(j,ri.oX.spki),I=await (0,ri.Y)(r);t({wrappedUserShard:{disposablePublicKey:k,iv:(0,ri.CB)(C),encryptedUserShard:(0,ri.CB)(S)},signedMessage:I,extraData:o})}catch(e){c(!1),d("Something went wrong. Please try again.")}},[t,n,r,i,f,o,a,d,l,v]),x=e=>{m!==Z.Pending&&e.length<rr.h?(p(Z.Pending),d(null)):m!==Z.Complete&&e.length===rr.h&&p(Z.Complete)};return(0,C.jsx)(G,{title:"Enter PIN",children:(0,C.jsxs)(ed.ZP,{onSubmit:y,distribute:!0,error:s||void 0,children:[(0,C.jsx)(z.Z,{children:"Enter your four digit PIN"}),(0,C.jsx)(N.Z,{alignSelf:"center",marginTop:"16px",children:(0,C.jsx)(rr.Z,{dark:!0,onChange:x})}),(0,C.jsx)(V.Z,{justify:"flex-end",children:(0,C.jsx)(ed.k4,{asChild:!0,children:(0,C.jsx)(tK.Z,{variant:"inverted",type:"submit",disabled:m===Z.Pending||u,ref:h,loading:u,children:"Submit"})})})]})})};var rd=n(27484),ru=n.n(rd);let rc=e=>{let{recipient:t}=e,{closeModal:n,ModalType:r,openModal:i}=rP(),[a,l]=(0,S.useState)(),o=(0,tu.useRouter)(),{refetch:s}=(0,M.SwJ)(),{display:d}=(0,Q.Z)(),u=(0,ei.Z)(),{name:c,blockchainAddress:m,bankAccount:p,lastPaymentDate:h,paymentType:f}=t,v=t.paymentType===eH.u.Crypto,y=p&&f===eH.u.SWIFT,x=p&&f===eH.u.SEPA,g=p&&(f===eH.u.Wire||f===eH.u.ACH),b=(0,S.useCallback)(async()=>{try{await (0,M._57)(t.id),s(),n(),d({title:"Recipient deleted",message:"".concat(c," has been successfully deleted")})}catch(e){l((0,eL.Z)(e,"Something went wrong deleting the recipient. Please try again."))}},[t,c,s,d,n]),j=(0,S.useCallback)(()=>{n(),o.replace(tc.Z6.activityTransactions)},[n,o]),w=(0,S.useCallback)(()=>{i(r.EditRecipient,{recipient:t})},[r,t,i]);return(0,C.jsx)(G,{title:c,children:(0,C.jsxs)(ed.ZP,{onSubmit:w,distribute:!0,error:a,children:[(0,C.jsx)(z.Z,{variant:"titleLarge",children:"Recipient info"}),(0,C.jsxs)(N.Z,{children:[(0,C.jsx)(z.Z,{marginBottom:"sm",children:"Recipient"}),(0,C.jsxs)(V.Z,{borderWidth:"1px",borderColor:"primary50",backgroundColor:"primary91",padding:"md",alignItems:"center",borderRadius:"large",gap:"md",children:[(0,C.jsx)(W.Z,{text:(null==p?void 0:p.beneficiaryName)||c,size:"40px",backgroundColor:"primary10",color:"primary100"}),(0,C.jsx)(z.Z,{children:(null==p?void 0:p.beneficiaryName)||c})]})]}),(0,C.jsx)(L.Z,{faint:!0,marginY:"md"}),g&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(z.Z,{variant:"titleLarge",children:"Recipient bank info"}),(0,C.jsxs)(V.Z,{gap:"md",children:[(0,C.jsx)(t6.Z,{label:"Routing number",value:p.bankAccountInfo.routingNumber||p.bankAccountInfo.wireRoutingNumber||"",width:"full",inverted:!0}),(0,C.jsx)(t6.Z,{label:"Account number",value:p.bankAccountInfo.accountNumber,width:"full",inverted:!0,masked:!0})]})]}),y&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(z.Z,{variant:"titleLarge",children:"Recipient bank info"}),(0,C.jsx)(t6.Z,{label:"SWIFT / BIC",value:p.bankAccountInfo.bic,width:"full",inverted:!0}),p.bankAccountInfo.accountNumber&&(0,C.jsx)(t6.Z,{label:"Account number",value:p.bankAccountInfo.accountNumber,width:"full",inverted:!0,masked:!0}),p.bankAccountInfo.iban&&(0,C.jsx)(t6.Z,{label:"IBAN",value:p.bankAccountInfo.iban,width:"full",inverted:!0,masked:!0})]}),x&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(z.Z,{variant:"titleLarge",children:"Recipient bank info"}),(0,C.jsx)(t6.Z,{label:"SWIFT / BIC",value:p.bankAccountInfo.bic,width:"full",inverted:!0}),(0,C.jsx)(t6.Z,{label:"IBAN",value:p.bankAccountInfo.iban,width:"full",inverted:!0,masked:!0})]}),m&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(z.Z,{variant:"titleLarge",children:"Recipient address info"}),(0,C.jsx)(t6.Z,{label:"Address",value:(0,et.Z)(m.canonicalAddress,!0,12),width:"full",valueToCopy:m.canonicalAddress,inverted:!0})]}),h&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(L.Z,{faint:!0,marginY:"md"}),(0,C.jsx)(z.Z,{variant:"titleLarge",children:"Last payment"}),(0,C.jsxs)(V.Z,{justify:"space-between",marginBottom:"lg",children:[(0,C.jsx)(z.Z,{children:ru().unix(parseFloat(h)).format("MMM D, YYYY")}),(0,C.jsx)(eY.Z,{onClick:j,color:"light",children:"View all"})]})]}),(0,C.jsx)(V.Z,{justify:"flex-end",gap:"sm",children:u?v?(0,C.jsx)(tK.Z,{variant:"dangerInverted",onClick:b,children:"Delete"}):(0,C.jsx)(ed.k4,{inverted:!0,children:"Edit"}):(0,C.jsx)(tK.Z,{variant:"inverted",onClick:n,children:"Done"})})]})})};n(41023);var rm={leftLabel:"v1l2ok3 _1fdeie9868 _1fdeie9d4w _1fdeie9g _1fdeie9eqo _1fdeie91hs",topLabel:"v1l2ok4 _1fdeie9868 _1fdeie9d4w _1fdeie9g _1fdeie9eqo _1fdeie91hs",value:"v1l2ok5 _1fdeie9868 _1fdeie9d4w _1fdeie9g _1fdeie9eqo _1fdeie91hs"},rp=["_1fdeie986o _1fdeie969c _1fdeie91hs _1fdeie96mo _1fdeie9ns0","v1l2ok1"],rh=n(40610);let rf=[eS.vH.GENERATE_ADDRESS,eS.Z5.INITIATE_TRANSFER,eS.Z5.APPROVE_TRANSFER,eS.vH.VIEW],rv={[eS.vH.GENERATE_ADDRESS]:"Generate addresses",[eS.Z5.INITIATE_TRANSFER]:"Initiate transactions",[eS.Z5.APPROVE_TRANSFER]:"Approve transactions",[eS.vH.VIEW]:"View"},ry=e=>{let{color:t,permissions:n,isLoading:r}=e;return(0,C.jsxs)(N.Z,{className:rp,children:[["",...rf.map(e=>rv[e]||"")].map(e=>(0,C.jsx)(N.Z,{className:rm.topLabel,children:e},e)),r&&Array(2*(rf.length+1)).fill(null).map((e,t)=>(0,C.jsx)(N.Z,{className:rm.value,minWidth:"180px",children:(0,C.jsx)(rh.xv,{width:"80px"})},t)),!r&&n.map(e=>{let{account:n,permissions:r}=e;return(0,C.jsxs)(S.Fragment,{children:[(0,C.jsx)(N.Z,{className:rm.leftLabel,paddingX:"12px",justifyContent:"flex-start",children:n.name}),rf.map(e=>r.includes(e)||e===eS.Z5.INITIATE_TRANSFER&&r.includes(eS.Z5.APPROVE_TRANSFER)||e===eS.vH.VIEW&&r.length>0?(0,C.jsx)(N.Z,{className:rm.value,children:(0,C.jsx)(N.Z,{borderRadius:"full",width:"8px",height:"8px",backgroundColor:t})},e):(0,C.jsx)(N.Z,{className:rm.value},e))]},n.id)})]})},rx=e=>{let{group:t,onClose:n}=e,{data:r=[],isLoading:i}=(0,M.ctQ)(),{data:a=[],isLoading:l}=(0,M.jIf)(),{data:o=[],isLoading:s}=(0,M.kf3)(),d=(0,S.useCallback)(()=>{n&&n()},[n]),u=(0,S.useMemo)(()=>{if(!t)return[];let e=[];return o.forEach(n=>{let i=r.filter(e=>e.accountID===n.id&&e.groupIDs.includes(t.id)),l=a.filter(e=>!!e.policies.find(e=>e.accountID===n.id&&e.groupIDs.includes(t.id))),o=[...i.map(e=>e.permission.type),...l.map(e=>e.action.type)];e.push({account:n,permissions:o})}),e},[t,o,r,a]),c=s||i||l;return t?(0,C.jsxs)(G,{title:t.name,children:[(0,C.jsx)(z.Z,{as:"h3",variant:"titleLarge",marginBottom:"md",children:"Users"}),(0,C.jsxs)(V.Z,{flexWrap:"wrap",gap:"xs",children:[0===t.users.length&&"None",t.users.map((e,t)=>(0,C.jsxs)(S.Fragment,{children:[0!==t&&(0,C.jsx)(z.Z,{children:"|"}),(0,C.jsx)(z.Z,{children:(0,eM.Z)(e)})]},e.id))]}),(0,C.jsx)(z.Z,{as:"h3",variant:"titleLarge",marginBottom:"md",marginTop:"lg",children:"Permissions"}),c||0!==u.length?(0,C.jsx)(ry,{color:"white",permissions:u,isLoading:c}):"This user group does not have any account-level permissions."]}):(d(),null)};var rg=n(85551);let rb=e=>{let{label:t,value:n,splitValue:r="",extraValue:i=""}=e;return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)(V.Z,{justify:"space-between",alignItems:"flex-start",children:[(0,C.jsx)(z.Z,{flexShrink:0,color:"primary30",children:t}),!r&&(0,C.jsxs)(V.Z,{gap:"sm",children:[(0,C.jsx)(z.Z,{textAlign:"right",children:n}),(0,C.jsx)(N.Z,{marginTop:"2px",color:"primary30",children:(0,C.jsx)(rg.Z,{string:n,toastCopy:{title:"Account details copied",message:"Copied ".concat((0,et.Z)(n||"")," to clipboard.")}})})]}),r&&(0,C.jsxs)(V.Z,{gap:"sm",alignItems:"flex-start",children:[(0,C.jsxs)(V.Z,{direction:"vertical",gap:"xxs",alignItems:"flex-end",children:[(0,C.jsx)(z.Z,{children:n}),(0,C.jsx)(z.Z,{children:r}),i&&(0,C.jsx)(z.Z,{children:i})]}),(0,C.jsx)(N.Z,{marginTop:"4px",color:"primary30",children:(0,C.jsx)(rg.Z,{string:n+r+i,toastCopy:{title:"Account details copied",message:"Copied ".concat((0,et.Z)("".concat(n+r+i))," to clipboard.")}})})]})]})})},rj=e=>{let{virtualAccount:t,onBack:n}=e,{closeModal:r}=rP(),{data:i}=(0,M.waZ)(),{data:a=[]}=(0,M.loN)(),[l,o]=(0,S.useState)(t),s=(0,S.useMemo)(()=>{let e=new Set;return null==a||a.forEach(t=>{e.add(t.linkedAddress.accountID)}),e},[a]),d=(0,S.useCallback)(e=>{o((null==a?void 0:a.find(t=>t.linkedAddress.accountID===e.id))||t)},[o,a,t]),u=(0,S.useMemo)(()=>{var e;return(null===(e=l.bankBeneficiaryAddress)||void 0===e?void 0:e.split(","))||[]},[l]),c=(0,S.useMemo)(()=>l?{id:l.linkedDakotaAccount.id,name:l.linkedDakotaAccount.name}:void 0,[l]);return(0,C.jsxs)(ed.ZP,{onSubmit:()=>r(),distribute:!0,children:[(0,C.jsx)(tC.Z,{label:"Receiving Account",initialItem:c,accountIDs:s,onChange:d,setFirstItemAsInitial:!0}),(0,C.jsxs)(N.Z,{borderRadius:"large",borderColor:"primary30",borderWidth:"1px",padding:"24px",children:[(0,C.jsx)(V.Z,{justify:"space-between",children:(0,C.jsx)(z.Z,{variant:"titleMedium",children:"Domestic deposit details"})}),(0,C.jsxs)(V.Z,{direction:"vertical",gap:"md",paddingTop:"md",children:[(0,C.jsx)(z.Z,{variant:"bodyMedium",marginBottom:"md",children:"Use these details to receive domestic wires and ACH transfers. Incoming deposits to this account are automatically converted to digital dollars."}),(0,C.jsx)(z.Z,{variant:"titleMedium",children:"Beneficiary"}),(0,C.jsx)(rb,{label:"Beneficiary name",value:null==i?void 0:i.name}),(0,C.jsx)(rb,{label:"Account number",value:l.accountData.accountNumber}),(0,C.jsx)(rb,{label:"Beneficiary address",value:u[0],splitValue:u[1],extraValue:"".concat(u[2],", ").concat(u[3])}),(0,C.jsx)(L.Z,{marginY:"sm",faint:!0}),(0,C.jsx)(z.Z,{variant:"titleMedium",children:"Receiving bank details"}),(0,C.jsx)(rb,{label:"Routing number",value:l.accountData.routingNumber}),(0,C.jsx)(rb,{label:"Bank name",value:l.bankName}),(0,C.jsx)(rb,{label:"Bank address",value:l.bankPostalAddress.split(",")[0],splitValue:l.bankPostalAddress.slice(l.bankPostalAddress.indexOf(",")+1)})]})]}),(0,C.jsx)(ep.Z,{primaryButtonText:"Close",secondaryOnClick:n})]})},rw=e=>{let{virtualAccount:t,onBack:n}=e;return(0,C.jsx)(G,{title:"Deposit instructions",children:(0,C.jsx)(rj,{virtualAccount:t,onBack:n})})},rZ="20px",rA=[{headline:"Generate routing and account numbers",content:"Virtual accounts enable you to generate a routing and account number that can be used to receive USD.",icon:(0,C.jsx)(I.Vp,{size:rZ})},{headline:"Receive USD",content:"Share your routing and account information with customers or vendors just like you would with a tradition bank.",icon:(0,C.jsx)(I.fI,{size:rZ})},{headline:"Automatically converted to USDC or USDT",content:"All USD sent to this account number will be automatically converted to USDC or USDT and deposited in your designated Dakota address.",icon:(0,C.jsx)(I.GG,{size:rZ})}],rC=e=>{let{accountID:t}=e,{openModal:n,ModalType:r}=rP(),i=(0,S.useCallback)(()=>{n(r.AddVirtualAccount,{accountID:t})},[n,r,t]);return(0,C.jsx)(G,{title:"Virtual account info",children:(0,C.jsx)(nO.Z,{items:rA,onSubmit:i})})},rS=e=>{let{transferType:t}=e,n=t===t2.Z.Internal,{flags:r}=(0,eG.g)(),{ModalType:i,openModal:a}=rP(),l=(0,em.Z)(),[o,s]=(0,S.useState)(l),[d,u]=(0,S.useState)(""),[c,m]=(0,S.useState)(""),[p,v]=(0,S.useState)(""),{data:y=[]}=(0,M.Ilo)(),{data:x=[]}=(0,M.gM6)(),{data:g,isLoading:b}=(0,M.uhj)(o),j=(0,S.useMemo)(()=>n&&(null==g?void 0:g.onlyVerifiedRecipients)?(0,C.jsx)(z.Z,{variant:"bodyLarge",children:"This account is restricted to verified recipients only. Please select another account for an internal transfer."}):void 0,[n,null==g?void 0:g.onlyVerifiedRecipients]),w=(0,S.useMemo)(()=>{let e=new Set;return x.forEach(t=>{let{address:n,amountInUSD:r}=t;0!==parseFloat(r)&&e.add(n.accountID)}),e},[x]),Z=(0,S.useCallback)(e=>{let{id:t}=e;s(t)},[s]),A=(0,S.useMemo)(()=>{let e=x.filter(e=>{let{address:t}=e;return t.accountID===o}).flatMap(e=>{let{balances:t}=e;return t}).filter(e=>{let{amount:t}=e;return!!t&&t.currency.symbol===c&&"0"!==t.value}).map(e=>{let{networkID:t}=e;return t}),t=y.filter(t=>e.includes(t.id));return 1===t.length&&u(t[0].id),t},[y,o,x,c]),{assetOptions:k,currenciesBySymbol:I}=(0,S.useMemo)(()=>{let e=new Set,t=new Map;x.forEach(i=>{let{address:a,balances:l}=i;o&&a.accountID===o&&l.forEach(i=>{var a;let l=null===(a=i.amount)||void 0===a?void 0:a.currency,o=null==l?void 0:l.symbol;o&&(o!==ta.ug.symbol||n||r.CAN_SEND_DKUSD)&&(t.set(o,l),e.add(o))})});let i=Array.from(e).map(e=>({id:e,name:e}));return 1===i.length&&m(i[0].id),{assetOptions:i,currenciesBySymbol:t}},[x,o,n,r]),D=(0,S.useCallback)(e=>{let t=x.filter(t=>{let{address:n}=t;return n.canonicalAddress===e}).flatMap(e=>{let{balances:t}=e;return t}).filter(e=>{let{networkID:t}=e;return t===d}).find(e=>{let{amount:t}=e;return t&&t.currency.symbol===c}),{amount:n}=t||{};return n?(0,tx.Z)(n):""},[x,c,d]),_=(0,S.useMemo)(()=>x.filter(e=>{let{address:t}=e;return t.accountID===o}).filter(e=>{let{balances:t}=e;return t.some(e=>{let{networkID:t,amount:n}=e;return t===d&&n&&n.currency.symbol===c&&"0"!==n.value})}).map(e=>{let{address:t}=e;return{id:t.canonicalAddress,name:t.name||(0,et.Z)(t.canonicalAddress,!0,12),detail:D(t.canonicalAddress)}}),[o,x,d,c,D]),E=(0,S.useCallback)(e=>{let{sourceAddress:n}=e,{address:r,balances:l}=x.find(e=>e.address.canonicalAddress===n)||{},o=I.get(c);if(!r||!l||!o||!d){v("Something went wrong. Please try again.");return}a(i.SendCryptoTo,{transferType:t,sourceAddress:r,sourceBalances:l,currency:o,networkID:d})},[i,a,c,I,x,t,d]);return(0,C.jsx)(G,{title:n?"Transfer from":"Withdraw from",currentStep:n?h.From:f.From,steps:n?h:f,children:(0,C.jsxs)(ed.ZP,{onSubmit:E,distribute:!0,error:p,children:[(0,C.jsx)(tC.Z,{accountIDs:w,onChange:Z}),j&&(0,C.jsx)(V.Z,{padding:"md",justifyContent:"center",backgroundColor:"primary91",borderRadius:"large",children:j}),(0,C.jsx)(ec.Z,{autofill:!0,inverted:!0,required:!0,label:"Asset",name:"asset",placeholder:"Choose an asset",initialItem:k.find(e=>e.id===c),items:k,onChange:e=>{m(e.id)},disabled:!!j}),A.length>1&&(0,C.jsx)(ec.Z,{autofill:!0,inverted:!0,required:!0,label:"Network",name:"networkID",placeholder:"Choose a network",initialItem:A.find(e=>e.id===d),items:A,onChange:e=>u(e.id),disabled:!!j}),(0,C.jsx)(ec.Z,{autofill:!0,inverted:!0,required:!0,label:"Source Address",placeholder:"Choose an address",name:"sourceAddress",initialItem:_.find(e=>e.id===o),items:_,disabled:!!j},_.map(e=>e.id).join(",")),(0,C.jsx)(ep.Z,{primaryButtonText:"Next",secondaryOnClick:n?void 0:()=>a(i.SelectSendType),disabled:b||!!j})]})})},rk=e=>{var t;return(null===(t=e.replace("-","").split(".")[1])||void 0===t?void 0:t.length)>2?parseFloat(e).toFixed(2).toString():e},rI=e=>(0,C.jsx)(eu.Z,{type:"number",placeholder:"0.00",currencyPrefix:!0,currencySymbol:"",formatFunc:rk,step:"0.01",...e}),rD=e=>{var t;let{onSubmit:n}=e,r=(0,em.Z)(),{ModalType:i,openModal:a}=rP(),[l,o]=(0,S.useState)(r),{data:s=[]}=(0,M.gM6)(),{data:d=[]}=(0,M.eXZ)(),{data:u}=(0,M.waZ)(),{data:c}=(0,M.m7G)((null==u?void 0:u.id)||""),{data:m=[]}=(0,M.loN)(),{rampCurrencies:p}=tl(),[h,f]=(0,S.useState)(""),[v,y]=(0,S.useState)(""),[x,g]=(0,S.useState)(ta.gn.symbol),[b,j]=(0,S.useState)((null==c?void 0:null===(t=c.defaultNetworkCurrency)||void 0===t?void 0:t.network.id)||""),[,w]=(0,S.useState)("");(0,S.useEffect)(()=>{if(c){let{defaultNetworkCurrency:e}=c;j(e.network.id)}},[c]);let Z=(0,S.useMemo)(()=>m[0].bankBeneficiaryAddress,[m]),A=(0,S.useMemo)(()=>{let e=new Set;return s.forEach(t=>{let{address:n}=t;e.add(n.accountID)}),e},[s]),k=(0,S.useMemo)(()=>p.filter(e=>e.symbol===ta.gn.symbol).map(e=>({name:e.name,id:e.symbol})),[p]),I=(0,S.useMemo)(()=>{var e;return x&&(null===(e=null==d?void 0:d.find(e=>e.symbol===x))||void 0===e?void 0:e.supportedNetworks.map(e=>({id:e.id,name:e.name})))||[]},[d,x]),D=(0,S.useMemo)(()=>{let e=[];return s.forEach(t=>{var n;let{address:r}=t;l&&r.accountID===l&&(null===(n=r.compatibleNetworks)||void 0===n?void 0:n.includes(b))&&e.push({id:r.canonicalAddress,name:r.name||"",detail:(0,et.Z)(r.canonicalAddress,!0,12)})}),e},[s,l,b]),_=(0,S.useCallback)(async e=>{var t,r,l,o;let{amount:c,addressID:m,accountID:p}=e,h=null===(t=s.find(e=>e.address.canonicalAddress===m))||void 0===t?void 0:t.address,f=null===(r=s.find(e=>e.address.accountID===p&&"Primary"===e.address.name))||void 0===r?void 0:r.address,v=null===(l=s.find(e=>e.address.accountID===p))||void 0===l?void 0:l.address,y=d.map(e=>({name:e.name,symbol:e.symbol})).find(e=>e.symbol===x),g=h||f||v;if(!g||!y)return;let{deposit_instructions:j}=await (0,M.VZ1)({source:{payment_type:eH.y.SEPA,amount:{value:c,currency:ta.Ow}},destination:{currency:y,address:{...g,networkID:b}}});a(i.ReviewSepaDeposit,{amount:(null===(o=j.amount)||void 0===o?void 0:o.value)||"",bankName:j.bank_name,bankAddress:j.bank_address,iban:j.bank_account_number,bic:j.bank_routing_number,bankBeneficaryName:(null==u?void 0:u.name)||"",depositMessage:j.deposit_message,bankBeneficiaryAddress:Z||""}),n&&n()},[n,i,a,s,d,x,b,u,Z]),E=(0,S.useCallback)(()=>{f(v)},[f,v]),R=(0,S.useMemo)(()=>{if(h&&!(parseFloat(h)>=eC.En))return"Amount must be at least $".concat(eC.En)},[h]);return(0,C.jsx)(G,{title:"SEPA deposit",description:tS.DEPOSIT.SEPA,children:(0,C.jsxs)(ed.ZP,{onSubmit:_,distribute:!0,error:R,defaultServerError:"Conversion failed. Please try again.",children:[(0,C.jsx)(rI,{inverted:!0,onBlur:E,onChange:y,min:eC.En,name:"amount",label:"Amount",borderRadius:"medium",required:!0}),(0,C.jsx)(tC.Z,{label:"Deposit account",accountIDs:A,onChange:e=>o(e.id)}),(0,C.jsx)(ec.Z,{required:!0,inverted:!0,label:"Deposit currency",placeholder:"Choose an currency",name:"currencySymbol",initialItem:k.find(e=>e.id===x),onChange:e=>{g(e.id)},items:k}),(0,C.jsx)(ec.Z,{required:!0,inverted:!0,label:"Network",placeholder:"Choose a network",name:"networkID",initialItem:I.find(e=>e.id===b),items:I,onChange:e=>j(e.id)}),(0,C.jsx)(ec.Z,{required:!0,inverted:!0,label:"Deposit address",description:"This is where your digital dollar will be stored once its converted",placeholder:"Choose an address",name:"addressID",onChange:e=>w(e.id),items:D}),(0,C.jsx)(ep.Z,{primaryButtonText:"Next",secondaryOnClick:()=>a(i.SelectI18nDepositType)})]})})};(p=A||(A={}))[p.AccountAddresses=1]="AccountAddresses",p[p.AddAccount=2]="AddAccount",p[p.AddAddress=3]="AddAddress",p[p.AddCryptoRecipient=4]="AddCryptoRecipient",p[p.AddTeamMember=5]="AddTeamMember",p[p.AddUserGroup=6]="AddUserGroup",p[p.AddDeFiConnection=7]="AddDeFiConnection",p[p.AddDeFiIdentifier=8]="AddDeFiIdentifier",p[p.AddRecipient=9]="AddRecipient",p[p.AddRecipientAddress=10]="AddRecipientAddress",p[p.AddRecipientBank=11]="AddRecipientBank",p[p.AddRecipientInfo=12]="AddRecipientInfo",p[p.AddVirtualAccount=13]="AddVirtualAccount",p[p.ApprovalsNeeded=14]="ApprovalsNeeded",p[p.BankInfoForSwift=15]="BankInfoForSwift",p[p.ChangePIN=16]="ChangePIN",p[p.ChooseRecipient=17]="ChooseRecipient",p[p.ClaimReview=18]="ClaimReview",p[p.CreateOffRamp=19]="CreateOffRamp",p[p.CreateSepaDeposit=20]="CreateSepaDeposit",p[p.CreateSwiftDeposit=21]="CreateSwiftDeposit",p[p.CreateWireDeposit=22]="CreateWireDeposit",p[p.DakotaInfoForSwift=23]="DakotaInfoForSwift",p[p.DeFiEducation=24]="DeFiEducation",p[p.DeleteAccount=25]="DeleteAccount",p[p.DeleteAddress=26]="DeleteAddress",p[p.DeleteApproverPolicy=27]="DeleteApproverPolicy",p[p.DeleteInitiatorPolicy=28]="DeleteInitiatorPolicy",p[p.DeletePIN=29]="DeletePIN",p[p.DeleteTeamMember=30]="DeleteTeamMember",p[p.DeleteUserGroup=31]="DeleteUserGroup",p[p.EditRecipient=32]="EditRecipient",p[p.LinkAccount=33]="LinkAccount",p[p.LendForm=34]="LendForm",p[p.LendReview=35]="LendReview",p[p.RecallForm=36]="RecallForm",p[p.RecallReview=37]="RecallReview",p[p.ReviewOffRamp=38]="ReviewOffRamp",p[p.ReviewCryptoWithdrawal=39]="ReviewCryptoWithdrawal",p[p.ReviewSepaDeposit=40]="ReviewSepaDeposit",p[p.ReviewSwiftDeposit=41]="ReviewSwiftDeposit",p[p.ReviewWireDeposit=42]="ReviewWireDeposit",p[p.ReviewTransferDeprecated=43]="ReviewTransferDeprecated",p[p.SelectDepositType=44]="SelectDepositType",p[p.SelectI18nDepositType=45]="SelectI18nDepositType",p[p.SelectI18nSendType=46]="SelectI18nSendType",p[p.SelectSendType=47]="SelectSendType",p[p.SendCryptoTo=48]="SendCryptoTo",p[p.SetApproverPolicy=49]="SetApproverPolicy",p[p.SetInitiatorPolicy=50]="SetInitiatorPolicy",p[p.SetOrganizationPolicy=51]="SetOrganizationPolicy",p[p.SetupBridge=52]="SetupBridge",p[p.StakeEducation=53]="StakeEducation",p[p.StakeForm=54]="StakeForm",p[p.StakeReview=55]="StakeReview",p[p.SwapFrom=56]="SwapFrom",p[p.SwapReview=57]="SwapReview",p[p.SwapTo=58]="SwapTo",p[p.SwiftDepositUnderReview=59]="SwiftDepositUnderReview",p[p.UnstakeForm=60]="UnstakeForm",p[p.UnstakeReview=61]="UnstakeReview",p[p.UpdateAccount=62]="UpdateAccount",p[p.UpdateAccountPermission=63]="UpdateAccountPermission",p[p.UpdateAddress=64]="UpdateAddress",p[p.UpdateProfile=65]="UpdateProfile",p[p.UpdateRampDefaults=66]="UpdateRampDefaults",p[p.UpdateUserGroup=67]="UpdateUserGroup",p[p.UpdateVirtualAccount=68]="UpdateVirtualAccount",p[p.VerifyPIN=69]="VerifyPIN",p[p.ViewRecipient=70]="ViewRecipient",p[p.ViewUserGroup=71]="ViewUserGroup",p[p.VirtualAccountDetails=72]="VirtualAccountDetails",p[p.VirtualAccountEducation=73]="VirtualAccountEducation",p[p.WithdrawCryptoFrom=74]="WithdrawCryptoFrom";let r_={[A.AccountAddresses]:el,[A.AddAccount]:es,[A.AddAddress]:eh,[A.AddDeFiConnection]:eK,[A.AddDeFiIdentifier]:ez,[A.AddCryptoRecipient]:ek,[A.AddRecipient]:e$,[A.AddRecipientAddress]:eQ,[A.AddRecipientBank]:e6,[A.AddRecipientInfo]:ti,[A.AddTeamMember]:eF,[A.AddUserGroup]:eW,[A.AddVirtualAccount]:to,[A.ApprovalsNeeded]:tm,[A.BankInfoForSwift]:ts,[A.ChangePIN]:tf,[A.ChooseRecipient]:ty,[A.ClaimReview]:tw,[A.CreateOffRamp]:tk,[A.CreateSepaDeposit]:rD,[A.CreateSwiftDeposit]:tI,[A.CreateWireDeposit]:tD,[A.DakotaInfoForSwift]:t_,[A.DeFiEducation]:tE,[A.DeleteAccount]:tq,[A.DeleteAddress]:tN,[A.DeleteApproverPolicy]:tU,[A.DeleteInitiatorPolicy]:tF,[A.DeletePIN]:tM,[A.DeleteTeamMember]:tO,[A.DeleteUserGroup]:tW,[A.EditRecipient]:tV,[A.LinkAccount]:tL,[A.LendForm]:tJ,[A.LendReview]:tQ,[A.RecallForm]:t0,[A.RecallReview]:t1,[A.ReviewOffRamp]:t5,[A.ReviewCryptoWithdrawal]:t8,[A.ReviewSepaDeposit]:nt,[A.ReviewSwiftDeposit]:nn,[A.ReviewTransferDeprecated]:nr,[A.ReviewWireDeposit]:no,[A.SelectDepositType]:nA,[A.SelectI18nDepositType]:nS,[A.SelectI18nSendType]:nk,[A.SelectSendType]:nI,[A.SendCryptoTo]:nF,[A.SetApproverPolicy]:nT,[A.SetInitiatorPolicy]:nP,[A.SetOrganizationPolicy]:nq,[A.SetupBridge]:nM,[A.StakeEducation]:nV,[A.StakeForm]:nz,[A.StakeReview]:nH,[A.SwapFrom]:nG,[A.SwapReview]:n$,[A.SwapTo]:nX,[A.SwiftDepositUnderReview]:nQ,[A.UnstakeForm]:n0,[A.UnstakeReview]:n1,[A.UpdateAccount]:n9,[A.UpdateAccountPermission]:n3,[A.UpdateAddress]:n5,[A.UpdateProfile]:n6,[A.UpdateRampDefaults]:n7,[A.UpdateUserGroup]:rn,[A.UpdateVirtualAccount]:td,[A.ViewRecipient]:rc,[A.VerifyPIN]:rs,[A.ViewUserGroup]:rx,[A.VirtualAccountDetails]:rw,[A.VirtualAccountEducation]:rC,[A.WithdrawCryptoFrom]:rS},rE=new Set([A.ViewUserGroup]),rR=(0,S.createContext)({activeModal:null,closeModal:()=>{},openModal:()=>{},ModalType:A}),rT=e=>{let{children:t}=e,[n,r]=(0,S.useState)(null),[i,a]=(0,S.useState)({}),l=(0,S.useCallback)((e,t)=>{r(e),a(t||{})},[r,a]),o=(0,S.useCallback)(e=>{e||r(null)},[r]),s=(0,S.useCallback)(()=>{r(null),a({})},[r,a]),d=null;return n&&r_[n]&&(d=r_[n]),(0,C.jsxs)(rR.Provider,{value:{activeModal:n,closeModal:s,openModal:l,ModalType:A},children:[(0,C.jsx)(F,{open:!!n,onOpenChange:o,wide:!!n&&rE.has(n),children:d&&(0,C.jsx)(d,{onClose:s,...i})}),t]})},rN=()=>(0,S.useContext)(rR);var rP=rN},2357:function(e,t,n){n.d(t,{V:function(){return p},Z:function(){return f}});var r=n(85893),i=n(67294),a=n(67626),l=n(26138),o=n(22635),s=n(52228),d=n(84582);n(13461),n(69829),n(8477),n(73065);let u=e=>{let{message:t,title:n,onClose:i,open:u,icon:c}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.fC,{className:"_1fdeie9qzk _1fdeie9o8w _1fdeie9p5s _1fdeie9q2o _1fdeie9868 _1fdeie99fk _1fdeie9t68 _1fdeie910w _1fdeie9628 _1fdeie96m8 mxqvc42",open:u,children:[(0,r.jsx)(o.Z,{justifyContent:"center",alignItems:"center",borderRadius:"full",height:"24px",width:"24px",minWidth:"24px",minHeight:"24px",backgroundColor:"primary100",color:"white",marginRight:"xs",children:c||(0,r.jsx)(l.nQ,{size:"16px"})}),(0,r.jsxs)(o.Z,{direction:"vertical",flex:"auto",children:[(0,r.jsxs)(o.Z,{justify:"space-between",align:"center",marginBottom:"8px",children:[(0,r.jsx)(a.Dx,{children:(0,r.jsx)(s.Z,{variant:"titleSmall",children:n})}),(0,r.jsx)(d.Z,{onClick:i,marginLeft:"24px",children:(0,r.jsx)(a.x8,{"aria-label":"Close",asChild:!0,children:(0,r.jsx)(l.aM,{"aria-hidden":!0,size:"16px"})})})]}),(0,r.jsx)(a.dk,{asChild:!0,children:(0,r.jsx)(s.Z,{variant:"bodySmall",marginRight:"44px",children:t})})]})]}),(0,r.jsx)(a.l_,{className:"_1fdeie9ivk _1fdeie9g4w _1fdeie9h1s _1fdeie9hyo _1fdeie9rm8 _1fdeie97e8 _1fdeie9s2o _1fdeie9868 _1fdeie99f4 _1fdeie9a4w _1fdeie9lcg _1fdeie9nb4 _1fdeie9vyb"})]})},c={message:"",title:""},m=(0,i.createContext)({display:()=>{}}),p=e=>{let{children:t}=e,[n,l]=(0,i.useState)(!1),[o,s]=(0,i.useState)(c),[d,p]=(0,i.useState)(),h=(0,i.useRef)(null);(0,i.useEffect)(()=>()=>{h.current&&window.clearTimeout(h.current)},[]);let f=(0,i.useCallback)((e,t)=>{l(!0),s(e),p(t),h.current&&window.clearTimeout(h.current),h.current=window.setTimeout(()=>{l(!1),s(c),p(void 0)},3e3)},[l,s,p,h]);return(0,r.jsx)(m.Provider,{value:{display:f},children:(0,r.jsxs)(a.zt,{swipeDirection:"right",children:[(0,r.jsx)(u,{open:n,icon:d,onClose:()=>{l(!1)},...o}),t]})})},h=()=>(0,i.useContext)(m);var f=h},45619:function(e,t,n){n.d(t,{F:function(){return l}});var r=n(69483),i=n.n(r),a=n(20117);let l={storeData:"STORE_DATA",swrMap:"SWR_MAP",sessionID:"STYTCH_SESSION_ID"};(0,a.Z)()&&i()},26614:function(e,t){let n=async e=>"clipboard"in navigator?await navigator.clipboard.writeText(e):document.execCommand("copy",!0,e);t.Z=n},9414:function(e,t){let n=(e,t)=>e.some(e=>t.includes(e));t.Z=n},47296:function(e,t){let n={precision:4};t.Z=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return"";let{value:r}=e;if(void 0!==(t={...n,...t}).precision){let e=r.indexOf(".");e>=0&&"."===(r=r.substring(0,e+t.precision+1))[r.length-1]&&(r=r.substring(0,r.length-1))}let[i,a]=r.split(".");return r="".concat(i.replace(/\B(?=(\d{3})+(?!\d))/g,",")).concat(a?"."+a:""),"".concat(r," ").concat(t.staked?"Staked ":""," ").concat(e.currency.symbol)}},9920:function(e,t){let n=e=>/,\d\d\d$/.test(e)?e.replace(/,\d\d\d$/,"K"):e;t.Z=function(e,t,r,i){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"$",l="";if(e){let n=parseFloat("".concat(e));isNaN(n)||(l=n.toFixed(t?0:2).replace(/\B(?=(\d{3})+(?!\d))/g,","))}let o=r&&e&&.01>parseFloat("".concat(e));0===e&&(l=t?"0":"0.00");let s=""===l?l:"".concat(o?"<":"").concat(a).concat(o?"0.01":l);return i?n(s):s}},25579:function(e,t){t.Z=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"string"==typeof e&&(e=parseFloat(e)),isFinite(e)||(e=0),Number(e).toLocaleString(void 0,{style:"percent",minimumFractionDigits:t})}},65735:function(e,t){t.Z=e=>e.name||e.email},99037:function(e,t){let n=[/^0x[0-9a-fA-F]{40}$/,/^[1-9A-HJ-NP-Za-km-z]{32,44}$/],r=e=>e&&n.some(t=>t.test(e));t.Z=r},20117:function(e,t){t.Z=()=>!0},33783:function(e,t,n){var r=n(4684);let i=e=>{var t;return e.wallet!==r.VL.ZERODEV&&!(null===(t=e.family)||void 0===t?void 0:t.name.toLowerCase().includes("solana"))};t.Z=i},14075:function(e,t){t.Z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],n=new Set;return e.filter(e=>e.balances.length).forEach(e=>{e.balances.forEach(e=>{let{currency:r}=e.amount||{};if(r){let{symbol:e}=r;n.has(e)||(n.add(e),t.push(r))}})}),t}},98061:function(e,t){let n=(e,t)=>{window.open(e,t?"_blank":"_self")||window.location.replace(e)};t.Z=n},52915:function(e,t){let n=(e,t)=>{let n={};return e.forEach(e=>{let{action:r,policies:i}=e;i.forEach(e=>{if(e.accountID===t){if(n[r.type]){var i;null===(i=n[r.type])||void 0===i||i.push(e)}else n[r.type]=[e]}})}),n};t.Z=n},77781:function(e,t){let n=e=>e.sort((e,t)=>e.maxAmountUSD?t.maxAmountUSD?parseInt(e.maxAmountUSD,10)-parseInt(t.maxAmountUSD,10):-1:1);t.Z=n},48585:function(e,t){t.Z=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return e.length<=n?e:t?"".concat(e.slice(0,n/2),"...").concat(e.slice(e.length-n/2)):"".concat(e.slice(0,n),"...")}}}]);