(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7616],{47805:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return i(97299)}])},45168:function(e,t,i){"use strict";var n=i(85893),r=i(67294),a=i(18127),l=i(20117),o=i(52228),s=i(77594),u=i(98698),c=i(81524),d=i(70928),g=i(33014),h=i(22635),m=i(26138),p=i(37842),f=i(36398);let x=e=>{let{title:t,onEmailSubmit:i,onGoogleSubmit:x,isSignUp:y,error:w}=e,b=(0,a.Z)(),[v,k]=(0,r.useState)(w);(0,l.Z)()&&(window.parsedUA=b);let P=(0,r.useMemo)(()=>null==b?void 0:b.isMobile,[b]),Z=(0,r.useMemo)(()=>null==b?void 0:b.isWebauthnSupported,[b]),j=(0,r.useMemo)(()=>!Z||P,[P,Z]);return(0,r.useEffect)(()=>{b&&(P?k("Mobile devices are not yet supported. Please try Google Chrome on desktop."):Z||k((0,n.jsxs)(o.Z,{display:"inline-block",children:["Your OS or browser does not support passkeys. Check out"," ",(0,n.jsx)(p.Z,{inline:!0,underline:!0,newTab:!0,href:f.L.notion.deviceOsSupport.url,color:"error",children:f.L.notion.deviceOsSupport.name})," ","for more information."]})))},[k,b,Z,P]),(0,n.jsxs)(h.Z,{direction:"vertical",width:"full",children:[(0,n.jsx)(o.Z,{as:"h1",variant:"headlineLarge",align:"center",children:t}),(0,n.jsxs)(d.ZP,{display:"flex",error:v||w,flexDirection:"column",onSubmit:i,marginY:"md",children:[(0,n.jsxs)(s.Z,{variant:"inverted",onClick:x,disabled:j,children:[(0,n.jsx)(u.Z,{size:"16px",style:{marginRight:"12px"}})," Continue with Google"]}),(0,n.jsxs)(h.Z,{marginY:"lg",children:[(0,n.jsx)(g.Z,{faint:!0}),(0,n.jsx)(o.Z,{variant:"bodySmall",color:"primary50",marginX:"sm",children:"OR"}),(0,n.jsx)(g.Z,{faint:!0})]}),(0,n.jsx)(c.Z,{inverted:!0,name:"email","data-testid":"email-input",disabled:j,label:"",type:"email",autoFocus:!0,placeholder:"Your email address",required:!0}),(0,n.jsx)(d.k4,{asChild:!0,children:(0,n.jsxs)(s.Z,{type:"submit",disabled:j,variant:"secondaryInverted",marginTop:"16px","data-testid":"email-button",children:[(0,n.jsx)(m.LQ,{size:"16px",style:{marginRight:"10px",marginBottom:"-1px"}}),"Request a sign ",y?"up":"in"," link"]})})]})]})};t.Z=x},18127:function(e,t,i){"use strict";i.d(t,{Z:function(){return c}});var n=i(67294),r=i(42238);let a=async()=>{if(window.PublicKeyCredential)try{let e=await PublicKeyCredential.isUserVerifyingPlatformAuthenticatorAvailable();return e}catch(e){}return!1};var l=i(20117);let o=()=>{if(!(0,l.Z)())return!1;let e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);if(!e){let t=document.getElementsByTagName("body")[0];e=-1!==window.getComputedStyle(t).getPropertyValue("content").indexOf("mobile")}return e},s=async()=>{let e=new r.UAParser;e.setUA(window.navigator.userAgent);let t=await a();return{...e.getResult(),isWebauthnSupported:t,isMobile:o()}},u=()=>{let[e,t]=(0,n.useState)(null);return(0,n.useEffect)(()=>{s().then(t)},[]),e};var c=u},97299:function(e,t,i){"use strict";i.r(t);var n=i(85893),r=i(67294),a=i(11163),l=i(40978),o=i(40194),s=i(83868),u=i.n(s),c=i(32510),d=i(77699),g=i(45168),h=i(26755),m=i(37842),p=i(26138),f=i(34155);let x=h.P?"Open a Dakota account":"Create your Dakota account",y=()=>{let{signUpWithEmail:e,signUpWithGoogle:t}=(0,c.aC)(),i=(0,a.useRouter)(),{query:l}=(0,a.useRouter)(),s=l.authError===c.l4.FailedToCreateDakotaAccount?"Something went wrong creating your Dakota account. Please try again.":l.authError===c.l4.Resend?"Authentication link expired or already used. Please request a new sign in link.":l.authError===c.l4.Generic?"Authentication failed. Please request a new sign in link.":"",[y,w]=(0,r.useState)(s),b=(0,r.useCallback)(e=>{"true"!==f.env.NEXT_PUBLIC_MOCK_STYTCH&&i.push({pathname:d.Z6.checkEmail,query:{email:e,signup:!0}})},[i]),v=(0,r.useCallback)(async t=>{let{email:i}=t;if(u()(i))try{await e(i),b(i)}catch(e){if(e.status_code)switch(e.status_code){case 400:"invalid_email"===e.error_type?w("Please enter a valid email."):b(i);break;case 401:case 404:b(i);break;default:w("Something went wrong. Please try again later."),console.error(e)}else w("Something went wrong. Please try again later."),console.error(e)}else w("Please enter a valid email.")},[b,w,e]);return(0,n.jsx)(o.Z,{title:x,narrow:!0,indexPage:!0,auxHeader:h.P?(0,n.jsxs)(m.Z,{color:"light",href:"/signin",children:["Sign in",(0,n.jsx)(p.wc,{size:"14px",style:{marginLeft:"6px",marginBottom:"-3px"}})]}):void 0,children:(0,n.jsx)(g.Z,{title:x,onEmailSubmit:v,onGoogleSubmit:t,isSignUp:!0,error:y})})};y.getLayout=e=>(0,n.jsx)(l.Z,{children:e}),t.default=y}},function(e){e.O(0,[309,4904,1579,5675,9445,2238,663,978,6565,9774,2888,179],function(){return e(e.s=47805)}),_N_E=e.O()}]);